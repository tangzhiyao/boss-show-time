(()=>{"use strict";const e="CONTENT_SCRIPT",o="BACKGROUND",r="OFFSCREEN";const t=()=>setInterval(chrome.runtime.getPlatformInfo,2e4);let n;chrome.runtime.onStartup.addListener(t),t(),chrome.runtime.onInstalled.addListener((()=>{chrome.sidePanel.setPanelBehavior({openPanelOnActionClick:!0})})),async function(t){await(chrome.offscreen.hasDocument?.())||(n?await n:(n=chrome.offscreen.createDocument({url:chrome.runtime.getURL("offscreen.html"),reasons:[chrome.offscreen.Reason.WORKERS||chrome.offscreen.Reason.BLOBS],justification:"To run web worker to run sqlite"}),await n,n=null),chrome.runtime.onMessage.addListener((async function(t,n,a){t&&(t.from==e&&t.to==o?(n.tab&&(t.tabId=n.tab.id),t.from,t.to,t.action,t.callbackId,t.error,t.from=o,t.to=r,t.from,t.to,t.action,t.callbackId,t.error,chrome.runtime.sendMessage(t)):t.from==r&&t.to==o&&(t.from,t.to,t.action,t.callbackId,t.error,t.from=o,t.to=e,t.from,t.to,t.action,t.callbackId,t.error,t.tabId?chrome.tabs.sendMessage(t.tabId,t):chrome.runtime.sendMessage(t)))})))}()})();
//# sourceMappingURL=background.js.map