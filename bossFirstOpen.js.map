{"version":3,"file":"bossFirstOpen.js","mappings":"MAMA,IAAIA,EAAoB,GAkDxB,SAASC,IACL,MAAMC,EAAQC,SAASC,cAAc,0CACrC,GAAIF,EAGAA,EAAMG,UAAUC,OAAO,kBAGvB,KAvDR,WAGI,IAAIC,EAAgBJ,SAASK,cAAc,OAC3CD,EAAcE,UAAY,gGAG1BF,EAAcF,UAAUK,IAAI,0BAA2B,iBAGvDH,EAAcI,iBAAiB,SAAS,SAAUC,GAC9CA,EAAEC,kBAEF,IACIC,EADAC,EAAYH,EAAEI,cAIlB,IACQD,EAAUV,UAAUY,SAAS,cAC7BjB,EAAkBkB,SAAQC,IACtBL,EAASX,SAASC,cAAc,oCAAoCe,MACpEL,EAAOT,UAAUC,OAAO,8BAA8B,IAE1DS,EAAUV,UAAUC,OAAO,eAE3BN,EAAkBkB,SAAQC,IACtBL,EAASX,SAASC,cAAc,oCAAoCe,MACpEL,EAAOT,UAAUK,IAAI,8BAA8B,IAEvDK,EAAUV,UAAUK,IAAI,aAEhC,CAAE,MAAOU,GAET,CACJ,IAGA,IAAIC,EAAalB,SAASC,cAAc,6BAExC,GAAmB,OAAfiB,EAAqB,CACrB,IAAIC,EAAYD,EAAWC,UAC3BD,EAAWE,aAAahB,EAAee,EAC3C,CAGJ,CAWYE,EACJ,CAAE,MAAOJ,GAET,CAER,CAI4B,aAAxBjB,SAASsB,WAETxB,IAGAyB,OAAOf,iBAAiB,OAAQV,GAIpCyB,OAAOf,iBAAiB,mBAAoBC,IACxCX,IACAD,EAAoBY,EAAEe,OAAO3B,iBACyB,G","sources":["webpack://boss-show-time/./src/plantforms/boss/firstOpen.js"],"sourcesContent":["function _console() {\n    if (process.env.NODE_ENV !== 'production') {\n        console.log(...arguments)\n    } else return;\n}\n\nlet bossOfflineJobIds = [];\n\n// 创建filter过滤招聘人在线的job\nfunction createFilter() {\n    _console('2. bfEle 不存在，执行添加');\n\n    let newFilterNode = document.createElement('div');\n    newFilterNode.innerHTML = `<div class=\"current-select\">\n        <span class=\"placeholder-text\">招聘人在线</span>\n    </div>`;\n    newFilterNode.classList.add('condition-filter-select', '__boss_filter');\n\n    // 绑定点击事件\n    newFilterNode.addEventListener('click', function (e) {\n        e.stopPropagation();\n\n        let filterEle = e.currentTarget;\n        let tmpEle;\n        _console('5. click事件响应', bossOfflineJobIds);\n\n        try {\n            if (filterEle.classList.contains('is-select')) {\n                bossOfflineJobIds.forEach(index => {\n                    tmpEle = document.querySelector(`.job-card-wrapper[ka=search_list_${index}]`);\n                    tmpEle.classList.remove('__boss_filter_result-hidden');\n                });\n                filterEle.classList.remove('is-select');\n            } else {\n                bossOfflineJobIds.forEach(index => {\n                    tmpEle = document.querySelector(`.job-card-wrapper[ka=search_list_${index}]`);\n                    tmpEle.classList.add('__boss_filter_result-hidden');\n                });\n                filterEle.classList.add('is-select');\n            }\n        } catch (error) {\n            _console('筛选出错', error);\n        }\n    });\n\n    // 插入到父元素 .search-condition-wrapper 最后一个元素之前\n    let parentNode = document.querySelector('.search-condition-wrapper');\n    \n    if (parentNode !== null) {\n        let lastChild = parentNode.lastChild;\n        parentNode.insertBefore(newFilterNode, lastChild);\n    } else {\n        _console('3. parentNode 不存在，无法插入filter');\n    }\n}\n\nfunction main() {\n    const bfEle = document.querySelector('.__boss_filter.condition-filter-select');\n    if (bfEle) {\n        _console('1. bfEle 已经存在');\n        // 先移除选中样式\n        bfEle.classList.remove('is-select');\n    } else {\n        // 不存在则创建并添加到DOM树中\n        try {\n            createFilter();\n        } catch (error) {\n            _console('新增筛选出错', error);\n        }\n    }\n}\n\n_console('0.1 load firstOpen.js');\n// 页面加载完成后执行\nif (document.readyState === 'complete') {\n    _console('0.2 页面readyState为complete');\n    main();\n} else {\n    _console('0.3 页面readyState不为complete');\n    window.addEventListener('load', main);\n}\n\n// 监听job-list-change事件，更新bossOfflineJobIds\nwindow.addEventListener('job-list-change', (e) => {\n    main();\n    bossOfflineJobIds = e.detail.bossOfflineJobIds;\n    _console('4. 自定义job-list-change回调', bossOfflineJobIds);\n});\n"],"names":["bossOfflineJobIds","main","bfEle","document","querySelector","classList","remove","newFilterNode","createElement","innerHTML","add","addEventListener","e","stopPropagation","tmpEle","filterEle","currentTarget","contains","forEach","index","error","parentNode","lastChild","insertBefore","createFilter","readyState","window","detail"],"sourceRoot":""}