/*! For license information please see 689.js.LICENSE.txt */
(self.webpackChunkboss_show_time=self.webpackChunkboss_show_time||[]).push([[689],{4353:function(e){e.exports=function(){"use strict";var e=6e4,t=36e5,n="millisecond",r="second",i="minute",s="hour",o="day",a="week",l="month",c="quarter",u="year",f="date",_="Invalid Date",d=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,p=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,h={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],n=e%100;return"["+e+(t[(n-20)%10]||t[n]||t[0])+"]"}},m=function(e,t,n){var r=String(e);return!r||r.length>=t?e:""+Array(t+1-r.length).join(n)+e},g={s:m,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),r=Math.floor(n/60),i=n%60;return(t<=0?"+":"-")+m(r,2,"0")+":"+m(i,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var r=12*(n.year()-t.year())+(n.month()-t.month()),i=t.clone().add(r,l),s=n-i<0,o=t.clone().add(r+(s?-1:1),l);return+(-(r+(n-i)/(s?i-o:o-i))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:l,y:u,w:a,d:o,D:f,h:s,m:i,s:r,ms:n,Q:c}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},y="en",b={};b[y]=h;var v="$isDayjsObject",w=function(e){return e instanceof S||!(!e||!e[v])},q=function e(t,n,r){var i;if(!t)return y;if("string"==typeof t){var s=t.toLowerCase();b[s]&&(i=s),n&&(b[s]=n,i=s);var o=t.split("-");if(!i&&o.length>1)return e(o[0])}else{var a=t.name;b[a]=t,i=a}return!r&&i&&(y=i),i||!r&&y},E=function(e,t){if(w(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new S(n)},x=g;x.l=q,x.i=w,x.w=function(e,t){return E(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var S=function(){function h(e){this.$L=q(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[v]=!0}var m=h.prototype;return m.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(x.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var r=t.match(d);if(r){var i=r[2]-1||0,s=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)}}return new Date(t)}(e),this.init()},m.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},m.$utils=function(){return x},m.isValid=function(){return!(this.$d.toString()===_)},m.isSame=function(e,t){var n=E(e);return this.startOf(t)<=n&&n<=this.endOf(t)},m.isAfter=function(e,t){return E(e)<this.startOf(t)},m.isBefore=function(e,t){return this.endOf(t)<E(e)},m.$g=function(e,t,n){return x.u(e)?this[t]:this.set(n,e)},m.unix=function(){return Math.floor(this.valueOf()/1e3)},m.valueOf=function(){return this.$d.getTime()},m.startOf=function(e,t){var n=this,c=!!x.u(t)||t,_=x.p(e),d=function(e,t){var r=x.w(n.$u?Date.UTC(n.$y,t,e):new Date(n.$y,t,e),n);return c?r:r.endOf(o)},p=function(e,t){return x.w(n.toDate()[e].apply(n.toDate("s"),(c?[0,0,0,0]:[23,59,59,999]).slice(t)),n)},h=this.$W,m=this.$M,g=this.$D,y="set"+(this.$u?"UTC":"");switch(_){case u:return c?d(1,0):d(31,11);case l:return c?d(1,m):d(0,m+1);case a:var b=this.$locale().weekStart||0,v=(h<b?h+7:h)-b;return d(c?g-v:g+(6-v),m);case o:case f:return p(y+"Hours",0);case s:return p(y+"Minutes",1);case i:return p(y+"Seconds",2);case r:return p(y+"Milliseconds",3);default:return this.clone()}},m.endOf=function(e){return this.startOf(e,!1)},m.$set=function(e,t){var a,c=x.p(e),_="set"+(this.$u?"UTC":""),d=(a={},a[o]=_+"Date",a[f]=_+"Date",a[l]=_+"Month",a[u]=_+"FullYear",a[s]=_+"Hours",a[i]=_+"Minutes",a[r]=_+"Seconds",a[n]=_+"Milliseconds",a)[c],p=c===o?this.$D+(t-this.$W):t;if(c===l||c===u){var h=this.clone().set(f,1);h.$d[d](p),h.init(),this.$d=h.set(f,Math.min(this.$D,h.daysInMonth())).$d}else d&&this.$d[d](p);return this.init(),this},m.set=function(e,t){return this.clone().$set(e,t)},m.get=function(e){return this[x.p(e)]()},m.add=function(n,c){var f,_=this;n=Number(n);var d=x.p(c),p=function(e){var t=E(_);return x.w(t.date(t.date()+Math.round(e*n)),_)};if(d===l)return this.set(l,this.$M+n);if(d===u)return this.set(u,this.$y+n);if(d===o)return p(1);if(d===a)return p(7);var h=(f={},f[i]=e,f[s]=t,f[r]=1e3,f)[d]||1,m=this.$d.getTime()+n*h;return x.w(m,this)},m.subtract=function(e,t){return this.add(-1*e,t)},m.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return n.invalidDate||_;var r=e||"YYYY-MM-DDTHH:mm:ssZ",i=x.z(this),s=this.$H,o=this.$m,a=this.$M,l=n.weekdays,c=n.months,u=n.meridiem,f=function(e,n,i,s){return e&&(e[n]||e(t,r))||i[n].slice(0,s)},d=function(e){return x.s(s%12||12,e,"0")},h=u||function(e,t,n){var r=e<12?"AM":"PM";return n?r.toLowerCase():r};return r.replace(p,(function(e,r){return r||function(e){switch(e){case"YY":return String(t.$y).slice(-2);case"YYYY":return x.s(t.$y,4,"0");case"M":return a+1;case"MM":return x.s(a+1,2,"0");case"MMM":return f(n.monthsShort,a,c,3);case"MMMM":return f(c,a);case"D":return t.$D;case"DD":return x.s(t.$D,2,"0");case"d":return String(t.$W);case"dd":return f(n.weekdaysMin,t.$W,l,2);case"ddd":return f(n.weekdaysShort,t.$W,l,3);case"dddd":return l[t.$W];case"H":return String(s);case"HH":return x.s(s,2,"0");case"h":return d(1);case"hh":return d(2);case"a":return h(s,o,!0);case"A":return h(s,o,!1);case"m":return String(o);case"mm":return x.s(o,2,"0");case"s":return String(t.$s);case"ss":return x.s(t.$s,2,"0");case"SSS":return x.s(t.$ms,3,"0");case"Z":return i}return null}(e)||i.replace(":","")}))},m.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},m.diff=function(n,f,_){var d,p=this,h=x.p(f),m=E(n),g=(m.utcOffset()-this.utcOffset())*e,y=this-m,b=function(){return x.m(p,m)};switch(h){case u:d=b()/12;break;case l:d=b();break;case c:d=b()/3;break;case a:d=(y-g)/6048e5;break;case o:d=(y-g)/864e5;break;case s:d=y/t;break;case i:d=y/e;break;case r:d=y/1e3;break;default:d=y}return _?d:x.a(d)},m.daysInMonth=function(){return this.endOf(l).$D},m.$locale=function(){return b[this.$L]},m.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),r=q(e,t,!0);return r&&(n.$L=r),n},m.clone=function(){return x.w(this.$d,this)},m.toDate=function(){return new Date(this.valueOf())},m.toJSON=function(){return this.isValid()?this.toISOString():null},m.toISOString=function(){return this.$d.toISOString()},m.toString=function(){return this.$d.toUTCString()},h}(),k=S.prototype;return E.prototype=k,[["$ms",n],["$s",r],["$m",i],["$H",s],["$W",o],["$M",l],["$y",u],["$D",f]].forEach((function(e){k[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),E.extend=function(e,t){return e.$i||(e(t,S,E),e.$i=!0),E},E.locale=q,E.isDayjs=w,E.unix=function(e){return E(1e3*e)},E.en=b[y],E.Ls=b,E.p={},E}()},1710:(e,t,n)=>{e.exports=function e(t,n,r){function i(o,a){if(!n[o]){if(!t[o]){if(s)return s(o,!0);var l=new Error("Cannot find module '"+o+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[o]={exports:{}};t[o][0].call(c.exports,(function(e){return i(t[o][1][e]||e)}),c,c.exports,e,t,n,r)}return n[o].exports}for(var s=void 0,o=0;o<r.length;o++)i(r[o]);return i}({1:[function(e,t,n){"use strict";var r=e("./utils"),i=e("./support"),s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.encode=function(e){for(var t,n,i,o,a,l,c,u=[],f=0,_=e.length,d=_,p="string"!==r.getTypeOf(e);f<e.length;)d=_-f,i=p?(t=e[f++],n=f<_?e[f++]:0,f<_?e[f++]:0):(t=e.charCodeAt(f++),n=f<_?e.charCodeAt(f++):0,f<_?e.charCodeAt(f++):0),o=t>>2,a=(3&t)<<4|n>>4,l=1<d?(15&n)<<2|i>>6:64,c=2<d?63&i:64,u.push(s.charAt(o)+s.charAt(a)+s.charAt(l)+s.charAt(c));return u.join("")},n.decode=function(e){var t,n,r,o,a,l,c=0,u=0,f="data:";if(e.substr(0,5)===f)throw new Error("Invalid base64 input, it looks like a data url.");var _,d=3*(e=e.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(e.charAt(e.length-1)===s.charAt(64)&&d--,e.charAt(e.length-2)===s.charAt(64)&&d--,d%1!=0)throw new Error("Invalid base64 input, bad content length.");for(_=i.uint8array?new Uint8Array(0|d):new Array(0|d);c<e.length;)t=s.indexOf(e.charAt(c++))<<2|(o=s.indexOf(e.charAt(c++)))>>4,n=(15&o)<<4|(a=s.indexOf(e.charAt(c++)))>>2,r=(3&a)<<6|(l=s.indexOf(e.charAt(c++))),_[u++]=t,64!==a&&(_[u++]=n),64!==l&&(_[u++]=r);return _}},{"./support":30,"./utils":32}],2:[function(e,t,n){"use strict";var r=e("./external"),i=e("./stream/DataWorker"),s=e("./stream/Crc32Probe"),o=e("./stream/DataLengthProbe");function a(e,t,n,r,i){this.compressedSize=e,this.uncompressedSize=t,this.crc32=n,this.compression=r,this.compressedContent=i}a.prototype={getContentWorker:function(){var e=new i(r.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new o("data_length")),t=this;return e.on("end",(function(){if(this.streamInfo.data_length!==t.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")})),e},getCompressedWorker:function(){return new i(r.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},a.createWorkerFrom=function(e,t,n){return e.pipe(new s).pipe(new o("uncompressedSize")).pipe(t.compressWorker(n)).pipe(new o("compressedSize")).withStreamInfo("compression",t)},t.exports=a},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(e,t,n){"use strict";var r=e("./stream/GenericWorker");n.STORE={magic:"\0\0",compressWorker:function(){return new r("STORE compression")},uncompressWorker:function(){return new r("STORE decompression")}},n.DEFLATE=e("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(e,t,n){"use strict";var r=e("./utils"),i=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();t.exports=function(e,t){return void 0!==e&&e.length?"string"!==r.getTypeOf(e)?function(e,t,n,r){var s=i,o=0+n;e^=-1;for(var a=0;a<o;a++)e=e>>>8^s[255&(e^t[a])];return~e}(0|t,e,e.length):function(e,t,n,r){var s=i,o=0+n;e^=-1;for(var a=0;a<o;a++)e=e>>>8^s[255&(e^t.charCodeAt(a))];return~e}(0|t,e,e.length):0}},{"./utils":32}],5:[function(e,t,n){"use strict";n.base64=!1,n.binary=!1,n.dir=!1,n.createFolders=!0,n.date=null,n.compression=null,n.compressionOptions=null,n.comment=null,n.unixPermissions=null,n.dosPermissions=null},{}],6:[function(e,t,n){"use strict";var r;r="undefined"!=typeof Promise?Promise:e("lie"),t.exports={Promise:r}},{lie:37}],7:[function(e,t,n){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,i=e("pako"),s=e("./utils"),o=e("./stream/GenericWorker"),a=r?"uint8array":"array";function l(e,t){o.call(this,"FlateWorker/"+e),this._pako=null,this._pakoAction=e,this._pakoOptions=t,this.meta={}}n.magic="\b\0",s.inherits(l,o),l.prototype.processChunk=function(e){this.meta=e.meta,null===this._pako&&this._createPako(),this._pako.push(s.transformTo(a,e.data),!1)},l.prototype.flush=function(){o.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},l.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this._pako=null},l.prototype._createPako=function(){this._pako=new i[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var e=this;this._pako.onData=function(t){e.push({data:t,meta:e.meta})}},n.compressWorker=function(e){return new l("Deflate",e)},n.uncompressWorker=function(){return new l("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(e,t,n){"use strict";function r(e,t){var n,r="";for(n=0;n<t;n++)r+=String.fromCharCode(255&e),e>>>=8;return r}function i(e,t,n,i,o,u){var f,_,d=e.file,p=e.compression,h=u!==a.utf8encode,m=s.transformTo("string",u(d.name)),g=s.transformTo("string",a.utf8encode(d.name)),y=d.comment,b=s.transformTo("string",u(y)),v=s.transformTo("string",a.utf8encode(y)),w=g.length!==d.name.length,q=v.length!==y.length,E="",x="",S="",k=d.dir,A=d.date,I={crc32:0,compressedSize:0,uncompressedSize:0};t&&!n||(I.crc32=e.crc32,I.compressedSize=e.compressedSize,I.uncompressedSize=e.uncompressedSize);var T=0;t&&(T|=8),h||!w&&!q||(T|=2048);var O=0,F=0;k&&(O|=16),"UNIX"===o?(F=798,O|=function(e,t){var n=e;return e||(n=t?16893:33204),(65535&n)<<16}(d.unixPermissions,k)):(F=20,O|=function(e){return 63&(e||0)}(d.dosPermissions)),f=A.getUTCHours(),f<<=6,f|=A.getUTCMinutes(),f<<=5,f|=A.getUTCSeconds()/2,_=A.getUTCFullYear()-1980,_<<=4,_|=A.getUTCMonth()+1,_<<=5,_|=A.getUTCDate(),w&&(x=r(1,1)+r(l(m),4)+g,E+="up"+r(x.length,2)+x),q&&(S=r(1,1)+r(l(b),4)+v,E+="uc"+r(S.length,2)+S);var C="";return C+="\n\0",C+=r(T,2),C+=p.magic,C+=r(f,2),C+=r(_,2),C+=r(I.crc32,4),C+=r(I.compressedSize,4),C+=r(I.uncompressedSize,4),C+=r(m.length,2),C+=r(E.length,2),{fileRecord:c.LOCAL_FILE_HEADER+C+m+E,dirRecord:c.CENTRAL_FILE_HEADER+r(F,2)+C+r(b.length,2)+"\0\0\0\0"+r(O,4)+r(i,4)+m+E+b}}var s=e("../utils"),o=e("../stream/GenericWorker"),a=e("../utf8"),l=e("../crc32"),c=e("../signature");function u(e,t,n,r){o.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=t,this.zipPlatform=n,this.encodeFileName=r,this.streamFiles=e,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}s.inherits(u,o),u.prototype.push=function(e){var t=e.meta.percent||0,n=this.entriesCount,r=this._sources.length;this.accumulate?this.contentBuffer.push(e):(this.bytesWritten+=e.data.length,o.prototype.push.call(this,{data:e.data,meta:{currentFile:this.currentFile,percent:n?(t+100*(n-r-1))/n:100}}))},u.prototype.openedSource=function(e){this.currentSourceOffset=this.bytesWritten,this.currentFile=e.file.name;var t=this.streamFiles&&!e.file.dir;if(t){var n=i(e,t,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:n.fileRecord,meta:{percent:0}})}else this.accumulate=!0},u.prototype.closedSource=function(e){this.accumulate=!1;var t=this.streamFiles&&!e.file.dir,n=i(e,t,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(n.dirRecord),t)this.push({data:function(e){return c.DATA_DESCRIPTOR+r(e.crc32,4)+r(e.compressedSize,4)+r(e.uncompressedSize,4)}(e),meta:{percent:100}});else for(this.push({data:n.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},u.prototype.flush=function(){for(var e=this.bytesWritten,t=0;t<this.dirRecords.length;t++)this.push({data:this.dirRecords[t],meta:{percent:100}});var n=this.bytesWritten-e,i=function(e,t,n,i,o){var a=s.transformTo("string",o(i));return c.CENTRAL_DIRECTORY_END+"\0\0\0\0"+r(e,2)+r(e,2)+r(t,4)+r(n,4)+r(a.length,2)+a}(this.dirRecords.length,n,e,this.zipComment,this.encodeFileName);this.push({data:i,meta:{percent:100}})},u.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},u.prototype.registerPrevious=function(e){this._sources.push(e);var t=this;return e.on("data",(function(e){t.processChunk(e)})),e.on("end",(function(){t.closedSource(t.previous.streamInfo),t._sources.length?t.prepareNextSource():t.end()})),e.on("error",(function(e){t.error(e)})),this},u.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},u.prototype.error=function(e){var t=this._sources;if(!o.prototype.error.call(this,e))return!1;for(var n=0;n<t.length;n++)try{t[n].error(e)}catch(e){}return!0},u.prototype.lock=function(){o.prototype.lock.call(this);for(var e=this._sources,t=0;t<e.length;t++)e[t].lock()},t.exports=u},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(e,t,n){"use strict";var r=e("../compressions"),i=e("./ZipFileWorker");n.generateWorker=function(e,t,n){var s=new i(t.streamFiles,n,t.platform,t.encodeFileName),o=0;try{e.forEach((function(e,n){o++;var i=function(e,t){var n=e||t,i=r[n];if(!i)throw new Error(n+" is not a valid compression method !");return i}(n.options.compression,t.compression),a=n.options.compressionOptions||t.compressionOptions||{},l=n.dir,c=n.date;n._compressWorker(i,a).withStreamInfo("file",{name:e,dir:l,date:c,comment:n.comment||"",unixPermissions:n.unixPermissions,dosPermissions:n.dosPermissions}).pipe(s)})),s.entriesCount=o}catch(e){s.error(e)}return s}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(e,t,n){"use strict";function r(){if(!(this instanceof r))return new r;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var e=new r;for(var t in this)"function"!=typeof this[t]&&(e[t]=this[t]);return e}}(r.prototype=e("./object")).loadAsync=e("./load"),r.support=e("./support"),r.defaults=e("./defaults"),r.version="3.10.1",r.loadAsync=function(e,t){return(new r).loadAsync(e,t)},r.external=e("./external"),t.exports=r},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(e,t,n){"use strict";var r=e("./utils"),i=e("./external"),s=e("./utf8"),o=e("./zipEntries"),a=e("./stream/Crc32Probe"),l=e("./nodejsUtils");function c(e){return new i.Promise((function(t,n){var r=e.decompressed.getContentWorker().pipe(new a);r.on("error",(function(e){n(e)})).on("end",(function(){r.streamInfo.crc32!==e.decompressed.crc32?n(new Error("Corrupted zip : CRC32 mismatch")):t()})).resume()}))}t.exports=function(e,t){var n=this;return t=r.extend(t||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:s.utf8decode}),l.isNode&&l.isStream(e)?i.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):r.prepareContent("the loaded zip file",e,!0,t.optimizedBinaryString,t.base64).then((function(e){var n=new o(t);return n.load(e),n})).then((function(e){var n=[i.Promise.resolve(e)],r=e.files;if(t.checkCRC32)for(var s=0;s<r.length;s++)n.push(c(r[s]));return i.Promise.all(n)})).then((function(e){for(var i=e.shift(),s=i.files,o=0;o<s.length;o++){var a=s[o],l=a.fileNameStr,c=r.resolve(a.fileNameStr);n.file(c,a.decompressed,{binary:!0,optimizedBinaryString:!0,date:a.date,dir:a.dir,comment:a.fileCommentStr.length?a.fileCommentStr:null,unixPermissions:a.unixPermissions,dosPermissions:a.dosPermissions,createFolders:t.createFolders}),a.dir||(n.file(c).unsafeOriginalName=l)}return i.zipComment.length&&(n.comment=i.zipComment),n}))}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(e,t,n){"use strict";var r=e("../utils"),i=e("../stream/GenericWorker");function s(e,t){i.call(this,"Nodejs stream input adapter for "+e),this._upstreamEnded=!1,this._bindStream(t)}r.inherits(s,i),s.prototype._bindStream=function(e){var t=this;(this._stream=e).pause(),e.on("data",(function(e){t.push({data:e,meta:{percent:0}})})).on("error",(function(e){t.isPaused?this.generatedError=e:t.error(e)})).on("end",(function(){t.isPaused?t._upstreamEnded=!0:t.end()}))},s.prototype.pause=function(){return!!i.prototype.pause.call(this)&&(this._stream.pause(),!0)},s.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},t.exports=s},{"../stream/GenericWorker":28,"../utils":32}],13:[function(e,t,n){"use strict";var r=e("readable-stream").Readable;function i(e,t,n){r.call(this,t),this._helper=e;var i=this;e.on("data",(function(e,t){i.push(e)||i._helper.pause(),n&&n(t)})).on("error",(function(e){i.emit("error",e)})).on("end",(function(){i.push(null)}))}e("../utils").inherits(i,r),i.prototype._read=function(){this._helper.resume()},t.exports=i},{"../utils":32,"readable-stream":16}],14:[function(e,t,n){"use strict";t.exports={isNode:"undefined"!=typeof Buffer,newBufferFrom:function(e,t){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(e,t);if("number"==typeof e)throw new Error('The "data" argument must not be a number');return new Buffer(e,t)},allocBuffer:function(e){if(Buffer.alloc)return Buffer.alloc(e);var t=new Buffer(e);return t.fill(0),t},isBuffer:function(e){return Buffer.isBuffer(e)},isStream:function(e){return e&&"function"==typeof e.on&&"function"==typeof e.pause&&"function"==typeof e.resume}}},{}],15:[function(e,t,n){"use strict";function r(e,t,n){var r,i=s.getTypeOf(t),a=s.extend(n||{},l);a.date=a.date||new Date,null!==a.compression&&(a.compression=a.compression.toUpperCase()),"string"==typeof a.unixPermissions&&(a.unixPermissions=parseInt(a.unixPermissions,8)),a.unixPermissions&&16384&a.unixPermissions&&(a.dir=!0),a.dosPermissions&&16&a.dosPermissions&&(a.dir=!0),a.dir&&(e=h(e)),a.createFolders&&(r=p(e))&&m.call(this,r,!0);var f="string"===i&&!1===a.binary&&!1===a.base64;n&&void 0!==n.binary||(a.binary=!f),(t instanceof c&&0===t.uncompressedSize||a.dir||!t||0===t.length)&&(a.base64=!1,a.binary=!0,t="",a.compression="STORE",i="string");var g;g=t instanceof c||t instanceof o?t:_.isNode&&_.isStream(t)?new d(e,t):s.prepareContent(e,t,a.binary,a.optimizedBinaryString,a.base64);var y=new u(e,g,a);this.files[e]=y}var i=e("./utf8"),s=e("./utils"),o=e("./stream/GenericWorker"),a=e("./stream/StreamHelper"),l=e("./defaults"),c=e("./compressedObject"),u=e("./zipObject"),f=e("./generate"),_=e("./nodejsUtils"),d=e("./nodejs/NodejsStreamInputAdapter"),p=function(e){"/"===e.slice(-1)&&(e=e.substring(0,e.length-1));var t=e.lastIndexOf("/");return 0<t?e.substring(0,t):""},h=function(e){return"/"!==e.slice(-1)&&(e+="/"),e},m=function(e,t){return t=void 0!==t?t:l.createFolders,e=h(e),this.files[e]||r.call(this,e,null,{dir:!0,createFolders:t}),this.files[e]};function g(e){return"[object RegExp]"===Object.prototype.toString.call(e)}var y={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(e){var t,n,r;for(t in this.files)r=this.files[t],(n=t.slice(this.root.length,t.length))&&t.slice(0,this.root.length)===this.root&&e(n,r)},filter:function(e){var t=[];return this.forEach((function(n,r){e(n,r)&&t.push(r)})),t},file:function(e,t,n){if(1!==arguments.length)return e=this.root+e,r.call(this,e,t,n),this;if(g(e)){var i=e;return this.filter((function(e,t){return!t.dir&&i.test(e)}))}var s=this.files[this.root+e];return s&&!s.dir?s:null},folder:function(e){if(!e)return this;if(g(e))return this.filter((function(t,n){return n.dir&&e.test(t)}));var t=this.root+e,n=m.call(this,t),r=this.clone();return r.root=n.name,r},remove:function(e){e=this.root+e;var t=this.files[e];if(t||("/"!==e.slice(-1)&&(e+="/"),t=this.files[e]),t&&!t.dir)delete this.files[e];else for(var n=this.filter((function(t,n){return n.name.slice(0,e.length)===e})),r=0;r<n.length;r++)delete this.files[n[r].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(e){var t,n={};try{if((n=s.extend(e||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:i.utf8encode})).type=n.type.toLowerCase(),n.compression=n.compression.toUpperCase(),"binarystring"===n.type&&(n.type="string"),!n.type)throw new Error("No output type specified.");s.checkSupport(n.type),"darwin"!==n.platform&&"freebsd"!==n.platform&&"linux"!==n.platform&&"sunos"!==n.platform||(n.platform="UNIX"),"win32"===n.platform&&(n.platform="DOS");var r=n.comment||this.comment||"";t=f.generateWorker(this,n,r)}catch(e){(t=new o("error")).error(e)}return new a(t,n.type||"string",n.mimeType)},generateAsync:function(e,t){return this.generateInternalStream(e).accumulate(t)},generateNodeStream:function(e,t){return(e=e||{}).type||(e.type="nodebuffer"),this.generateInternalStream(e).toNodejsStream(t)}};t.exports=y},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(e,t,n){"use strict";t.exports=e("stream")},{stream:void 0}],17:[function(e,t,n){"use strict";var r=e("./DataReader");function i(e){r.call(this,e);for(var t=0;t<this.data.length;t++)e[t]=255&e[t]}e("../utils").inherits(i,r),i.prototype.byteAt=function(e){return this.data[this.zero+e]},i.prototype.lastIndexOfSignature=function(e){for(var t=e.charCodeAt(0),n=e.charCodeAt(1),r=e.charCodeAt(2),i=e.charCodeAt(3),s=this.length-4;0<=s;--s)if(this.data[s]===t&&this.data[s+1]===n&&this.data[s+2]===r&&this.data[s+3]===i)return s-this.zero;return-1},i.prototype.readAndCheckSignature=function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1),r=e.charCodeAt(2),i=e.charCodeAt(3),s=this.readData(4);return t===s[0]&&n===s[1]&&r===s[2]&&i===s[3]},i.prototype.readData=function(e){if(this.checkOffset(e),0===e)return[];var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./DataReader":18}],18:[function(e,t,n){"use strict";var r=e("../utils");function i(e){this.data=e,this.length=e.length,this.index=0,this.zero=0}i.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<this.zero+e||e<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+e+"). Corrupted zip ?")},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(){},readInt:function(e){var t,n=0;for(this.checkOffset(e),t=this.index+e-1;t>=this.index;t--)n=(n<<8)+this.byteAt(t);return this.index+=e,n},readString:function(e){return r.transformTo("string",this.readData(e))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var e=this.readInt(4);return new Date(Date.UTC(1980+(e>>25&127),(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1))}},t.exports=i},{"../utils":32}],19:[function(e,t,n){"use strict";var r=e("./Uint8ArrayReader");function i(e){r.call(this,e)}e("../utils").inherits(i,r),i.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(e,t,n){"use strict";var r=e("./DataReader");function i(e){r.call(this,e)}e("../utils").inherits(i,r),i.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)},i.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero},i.prototype.readAndCheckSignature=function(e){return e===this.readData(4)},i.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./DataReader":18}],21:[function(e,t,n){"use strict";var r=e("./ArrayReader");function i(e){r.call(this,e)}e("../utils").inherits(i,r),i.prototype.readData=function(e){if(this.checkOffset(e),0===e)return new Uint8Array(0);var t=this.data.subarray(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./ArrayReader":17}],22:[function(e,t,n){"use strict";var r=e("../utils"),i=e("../support"),s=e("./ArrayReader"),o=e("./StringReader"),a=e("./NodeBufferReader"),l=e("./Uint8ArrayReader");t.exports=function(e){var t=r.getTypeOf(e);return r.checkSupport(t),"string"!==t||i.uint8array?"nodebuffer"===t?new a(e):i.uint8array?new l(r.transformTo("uint8array",e)):new s(r.transformTo("array",e)):new o(e)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(e,t,n){"use strict";n.LOCAL_FILE_HEADER="PK",n.CENTRAL_FILE_HEADER="PK",n.CENTRAL_DIRECTORY_END="PK",n.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",n.ZIP64_CENTRAL_DIRECTORY_END="PK",n.DATA_DESCRIPTOR="PK\b"},{}],24:[function(e,t,n){"use strict";var r=e("./GenericWorker"),i=e("../utils");function s(e){r.call(this,"ConvertWorker to "+e),this.destType=e}i.inherits(s,r),s.prototype.processChunk=function(e){this.push({data:i.transformTo(this.destType,e.data),meta:e.meta})},t.exports=s},{"../utils":32,"./GenericWorker":28}],25:[function(e,t,n){"use strict";var r=e("./GenericWorker"),i=e("../crc32");function s(){r.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}e("../utils").inherits(s,r),s.prototype.processChunk=function(e){this.streamInfo.crc32=i(e.data,this.streamInfo.crc32||0),this.push(e)},t.exports=s},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(e,t,n){"use strict";var r=e("../utils"),i=e("./GenericWorker");function s(e){i.call(this,"DataLengthProbe for "+e),this.propName=e,this.withStreamInfo(e,0)}r.inherits(s,i),s.prototype.processChunk=function(e){if(e){var t=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=t+e.data.length}i.prototype.processChunk.call(this,e)},t.exports=s},{"../utils":32,"./GenericWorker":28}],27:[function(e,t,n){"use strict";var r=e("../utils"),i=e("./GenericWorker");function s(e){i.call(this,"DataWorker");var t=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,e.then((function(e){t.dataIsReady=!0,t.data=e,t.max=e&&e.length||0,t.type=r.getTypeOf(e),t.isPaused||t._tickAndRepeat()}),(function(e){t.error(e)}))}r.inherits(s,i),s.prototype.cleanUp=function(){i.prototype.cleanUp.call(this),this.data=null},s.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,r.delay(this._tickAndRepeat,[],this)),!0)},s.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(r.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},s.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var e=null,t=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":e=this.data.substring(this.index,t);break;case"uint8array":e=this.data.subarray(this.index,t);break;case"array":case"nodebuffer":e=this.data.slice(this.index,t)}return this.index=t,this.push({data:e,meta:{percent:this.max?this.index/this.max*100:0}})},t.exports=s},{"../utils":32,"./GenericWorker":28}],28:[function(e,t,n){"use strict";function r(e){this.name=e||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}r.prototype={push:function(e){this.emit("data",e)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(e){this.emit("error",e)}return!0},error:function(e){return!this.isFinished&&(this.isPaused?this.generatedError=e:(this.isFinished=!0,this.emit("error",e),this.previous&&this.previous.error(e),this.cleanUp()),!0)},on:function(e,t){return this._listeners[e].push(t),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(e,t){if(this._listeners[e])for(var n=0;n<this._listeners[e].length;n++)this._listeners[e][n].call(this,t)},pipe:function(e){return e.registerPrevious(this)},registerPrevious:function(e){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=e.streamInfo,this.mergeStreamInfo(),this.previous=e;var t=this;return e.on("data",(function(e){t.processChunk(e)})),e.on("end",(function(){t.end()})),e.on("error",(function(e){t.error(e)})),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var e=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),e=!0),this.previous&&this.previous.resume(),!e},flush:function(){},processChunk:function(e){this.push(e)},withStreamInfo:function(e,t){return this.extraStreamInfo[e]=t,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var e in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,e)&&(this.streamInfo[e]=this.extraStreamInfo[e])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var e="Worker "+this.name;return this.previous?this.previous+" -> "+e:e}},t.exports=r},{}],29:[function(e,t,n){"use strict";var r=e("../utils"),i=e("./ConvertWorker"),s=e("./GenericWorker"),o=e("../base64"),a=e("../support"),l=e("../external"),c=null;if(a.nodestream)try{c=e("../nodejs/NodejsStreamOutputAdapter")}catch(e){}function u(e,t,n){var o=t;switch(t){case"blob":case"arraybuffer":o="uint8array";break;case"base64":o="string"}try{this._internalType=o,this._outputType=t,this._mimeType=n,r.checkSupport(o),this._worker=e.pipe(new i(o)),e.lock()}catch(e){this._worker=new s("error"),this._worker.error(e)}}u.prototype={accumulate:function(e){return function(e,t){return new l.Promise((function(n,i){var s=[],a=e._internalType,l=e._outputType,c=e._mimeType;e.on("data",(function(e,n){s.push(e),t&&t(n)})).on("error",(function(e){s=[],i(e)})).on("end",(function(){try{var e=function(e,t,n){switch(e){case"blob":return r.newBlob(r.transformTo("arraybuffer",t),n);case"base64":return o.encode(t);default:return r.transformTo(e,t)}}(l,function(e,t){var n,r=0,i=null,s=0;for(n=0;n<t.length;n++)s+=t[n].length;switch(e){case"string":return t.join("");case"array":return Array.prototype.concat.apply([],t);case"uint8array":for(i=new Uint8Array(s),n=0;n<t.length;n++)i.set(t[n],r),r+=t[n].length;return i;case"nodebuffer":return Buffer.concat(t);default:throw new Error("concat : unsupported type '"+e+"'")}}(a,s),c);n(e)}catch(e){i(e)}s=[]})).resume()}))}(this,e)},on:function(e,t){var n=this;return"data"===e?this._worker.on(e,(function(e){t.call(n,e.data,e.meta)})):this._worker.on(e,(function(){r.delay(t,arguments,n)})),this},resume:function(){return r.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(e){if(r.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new c(this,{objectMode:"nodebuffer"!==this._outputType},e)}},t.exports=u},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(e,t,n){"use strict";if(n.base64=!0,n.array=!0,n.string=!0,n.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,n.nodebuffer="undefined"!=typeof Buffer,n.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)n.blob=!1;else{var r=new ArrayBuffer(0);try{n.blob=0===new Blob([r],{type:"application/zip"}).size}catch(e){try{var i=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);i.append(r),n.blob=0===i.getBlob("application/zip").size}catch(e){n.blob=!1}}}try{n.nodestream=!!e("readable-stream").Readable}catch(e){n.nodestream=!1}},{"readable-stream":16}],31:[function(e,t,n){"use strict";for(var r=e("./utils"),i=e("./support"),s=e("./nodejsUtils"),o=e("./stream/GenericWorker"),a=new Array(256),l=0;l<256;l++)a[l]=252<=l?6:248<=l?5:240<=l?4:224<=l?3:192<=l?2:1;function c(){o.call(this,"utf-8 decode"),this.leftOver=null}function u(){o.call(this,"utf-8 encode")}a[254]=a[254]=1,n.utf8encode=function(e){return i.nodebuffer?s.newBufferFrom(e,"utf-8"):function(e){var t,n,r,s,o,a=e.length,l=0;for(s=0;s<a;s++)55296==(64512&(n=e.charCodeAt(s)))&&s+1<a&&56320==(64512&(r=e.charCodeAt(s+1)))&&(n=65536+(n-55296<<10)+(r-56320),s++),l+=n<128?1:n<2048?2:n<65536?3:4;for(t=i.uint8array?new Uint8Array(l):new Array(l),s=o=0;o<l;s++)55296==(64512&(n=e.charCodeAt(s)))&&s+1<a&&56320==(64512&(r=e.charCodeAt(s+1)))&&(n=65536+(n-55296<<10)+(r-56320),s++),n<128?t[o++]=n:(n<2048?t[o++]=192|n>>>6:(n<65536?t[o++]=224|n>>>12:(t[o++]=240|n>>>18,t[o++]=128|n>>>12&63),t[o++]=128|n>>>6&63),t[o++]=128|63&n);return t}(e)},n.utf8decode=function(e){return i.nodebuffer?r.transformTo("nodebuffer",e).toString("utf-8"):function(e){var t,n,i,s,o=e.length,l=new Array(2*o);for(t=n=0;t<o;)if((i=e[t++])<128)l[n++]=i;else if(4<(s=a[i]))l[n++]=65533,t+=s-1;else{for(i&=2===s?31:3===s?15:7;1<s&&t<o;)i=i<<6|63&e[t++],s--;1<s?l[n++]=65533:i<65536?l[n++]=i:(i-=65536,l[n++]=55296|i>>10&1023,l[n++]=56320|1023&i)}return l.length!==n&&(l.subarray?l=l.subarray(0,n):l.length=n),r.applyFromCharCode(l)}(e=r.transformTo(i.uint8array?"uint8array":"array",e))},r.inherits(c,o),c.prototype.processChunk=function(e){var t=r.transformTo(i.uint8array?"uint8array":"array",e.data);if(this.leftOver&&this.leftOver.length){if(i.uint8array){var s=t;(t=new Uint8Array(s.length+this.leftOver.length)).set(this.leftOver,0),t.set(s,this.leftOver.length)}else t=this.leftOver.concat(t);this.leftOver=null}var o=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;0<=n&&128==(192&e[n]);)n--;return n<0||0===n?t:n+a[e[n]]>t?n:t}(t),l=t;o!==t.length&&(i.uint8array?(l=t.subarray(0,o),this.leftOver=t.subarray(o,t.length)):(l=t.slice(0,o),this.leftOver=t.slice(o,t.length))),this.push({data:n.utf8decode(l),meta:e.meta})},c.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:n.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},n.Utf8DecodeWorker=c,r.inherits(u,o),u.prototype.processChunk=function(e){this.push({data:n.utf8encode(e.data),meta:e.meta})},n.Utf8EncodeWorker=u},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(e,t,n){"use strict";var r=e("./support"),i=e("./base64"),s=e("./nodejsUtils"),o=e("./external");function a(e){return e}function l(e,t){for(var n=0;n<e.length;++n)t[n]=255&e.charCodeAt(n);return t}e("setimmediate"),n.newBlob=function(e,t){n.checkSupport("blob");try{return new Blob([e],{type:t})}catch(n){try{var r=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return r.append(e),r.getBlob(t)}catch(e){throw new Error("Bug : can't construct the Blob.")}}};var c={stringifyByChunk:function(e,t,n){var r=[],i=0,s=e.length;if(s<=n)return String.fromCharCode.apply(null,e);for(;i<s;)"array"===t||"nodebuffer"===t?r.push(String.fromCharCode.apply(null,e.slice(i,Math.min(i+n,s)))):r.push(String.fromCharCode.apply(null,e.subarray(i,Math.min(i+n,s)))),i+=n;return r.join("")},stringifyByChar:function(e){for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},applyCanBeUsed:{uint8array:function(){try{return r.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(e){return!1}}(),nodebuffer:function(){try{return r.nodebuffer&&1===String.fromCharCode.apply(null,s.allocBuffer(1)).length}catch(e){return!1}}()}};function u(e){var t=65536,r=n.getTypeOf(e),i=!0;if("uint8array"===r?i=c.applyCanBeUsed.uint8array:"nodebuffer"===r&&(i=c.applyCanBeUsed.nodebuffer),i)for(;1<t;)try{return c.stringifyByChunk(e,r,t)}catch(e){t=Math.floor(t/2)}return c.stringifyByChar(e)}function f(e,t){for(var n=0;n<e.length;n++)t[n]=e[n];return t}n.applyFromCharCode=u;var _={};_.string={string:a,array:function(e){return l(e,new Array(e.length))},arraybuffer:function(e){return _.string.uint8array(e).buffer},uint8array:function(e){return l(e,new Uint8Array(e.length))},nodebuffer:function(e){return l(e,s.allocBuffer(e.length))}},_.array={string:u,array:a,arraybuffer:function(e){return new Uint8Array(e).buffer},uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return s.newBufferFrom(e)}},_.arraybuffer={string:function(e){return u(new Uint8Array(e))},array:function(e){return f(new Uint8Array(e),new Array(e.byteLength))},arraybuffer:a,uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return s.newBufferFrom(new Uint8Array(e))}},_.uint8array={string:u,array:function(e){return f(e,new Array(e.length))},arraybuffer:function(e){return e.buffer},uint8array:a,nodebuffer:function(e){return s.newBufferFrom(e)}},_.nodebuffer={string:u,array:function(e){return f(e,new Array(e.length))},arraybuffer:function(e){return _.nodebuffer.uint8array(e).buffer},uint8array:function(e){return f(e,new Uint8Array(e.length))},nodebuffer:a},n.transformTo=function(e,t){if(t=t||"",!e)return t;n.checkSupport(e);var r=n.getTypeOf(t);return _[r][e](t)},n.resolve=function(e){for(var t=e.split("/"),n=[],r=0;r<t.length;r++){var i=t[r];"."===i||""===i&&0!==r&&r!==t.length-1||(".."===i?n.pop():n.push(i))}return n.join("/")},n.getTypeOf=function(e){return"string"==typeof e?"string":"[object Array]"===Object.prototype.toString.call(e)?"array":r.nodebuffer&&s.isBuffer(e)?"nodebuffer":r.uint8array&&e instanceof Uint8Array?"uint8array":r.arraybuffer&&e instanceof ArrayBuffer?"arraybuffer":void 0},n.checkSupport=function(e){if(!r[e.toLowerCase()])throw new Error(e+" is not supported by this platform")},n.MAX_VALUE_16BITS=65535,n.MAX_VALUE_32BITS=-1,n.pretty=function(e){var t,n,r="";for(n=0;n<(e||"").length;n++)r+="\\x"+((t=e.charCodeAt(n))<16?"0":"")+t.toString(16).toUpperCase();return r},n.delay=function(e,t,n){setImmediate((function(){e.apply(n||null,t||[])}))},n.inherits=function(e,t){function n(){}n.prototype=t.prototype,e.prototype=new n},n.extend=function(){var e,t,n={};for(e=0;e<arguments.length;e++)for(t in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],t)&&void 0===n[t]&&(n[t]=arguments[e][t]);return n},n.prepareContent=function(e,t,s,a,c){return o.Promise.resolve(t).then((function(e){return r.blob&&(e instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(e)))&&"undefined"!=typeof FileReader?new o.Promise((function(t,n){var r=new FileReader;r.onload=function(e){t(e.target.result)},r.onerror=function(e){n(e.target.error)},r.readAsArrayBuffer(e)})):e})).then((function(t){var u=n.getTypeOf(t);return u?("arraybuffer"===u?t=n.transformTo("uint8array",t):"string"===u&&(c?t=i.decode(t):s&&!0!==a&&(t=function(e){return l(e,r.uint8array?new Uint8Array(e.length):new Array(e.length))}(t))),t):o.Promise.reject(new Error("Can't read the data of '"+e+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))}))}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(e,t,n){"use strict";var r=e("./reader/readerFor"),i=e("./utils"),s=e("./signature"),o=e("./zipEntry"),a=e("./support");function l(e){this.files=[],this.loadOptions=e}l.prototype={checkSignature:function(e){if(!this.reader.readAndCheckSignature(e)){this.reader.index-=4;var t=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+i.pretty(t)+", expected "+i.pretty(e)+")")}},isSignature:function(e,t){var n=this.reader.index;this.reader.setIndex(e);var r=this.reader.readString(4)===t;return this.reader.setIndex(n),r},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var e=this.reader.readData(this.zipCommentLength),t=a.uint8array?"uint8array":"array",n=i.transformTo(t,e);this.zipComment=this.loadOptions.decodeFileName(n)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e,t,n,r=this.zip64EndOfCentralSize-44;0<r;)e=this.reader.readInt(2),t=this.reader.readInt(4),n=this.reader.readData(t),this.zip64ExtensibleData[e]={id:e,length:t,value:n}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var e,t;for(e=0;e<this.files.length;e++)t=this.files[e],this.reader.setIndex(t.localHeaderOffset),this.checkSignature(s.LOCAL_FILE_HEADER),t.readLocalPart(this.reader),t.handleUTF8(),t.processAttributes()},readCentralDir:function(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(s.CENTRAL_FILE_HEADER);)(e=new o({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(e);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var e=this.reader.lastIndexOfSignature(s.CENTRAL_DIRECTORY_END);if(e<0)throw this.isSignature(0,s.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(e);var t=e;if(this.checkSignature(s.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===i.MAX_VALUE_16BITS||this.diskWithCentralDirStart===i.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===i.MAX_VALUE_16BITS||this.centralDirRecords===i.MAX_VALUE_16BITS||this.centralDirSize===i.MAX_VALUE_32BITS||this.centralDirOffset===i.MAX_VALUE_32BITS){if(this.zip64=!0,(e=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(e),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,s.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var n=this.centralDirOffset+this.centralDirSize;this.zip64&&(n+=20,n+=12+this.zip64EndOfCentralSize);var r=t-n;if(0<r)this.isSignature(t,s.CENTRAL_FILE_HEADER)||(this.reader.zero=r);else if(r<0)throw new Error("Corrupted zip: missing "+Math.abs(r)+" bytes.")},prepareReader:function(e){this.reader=r(e)},load:function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},t.exports=l},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(e,t,n){"use strict";var r=e("./reader/readerFor"),i=e("./utils"),s=e("./compressedObject"),o=e("./crc32"),a=e("./utf8"),l=e("./compressions"),c=e("./support");function u(e,t){this.options=e,this.loadOptions=t}u.prototype={isEncrypted:function(){return!(1&~this.bitFlag)},useUTF8:function(){return!(2048&~this.bitFlag)},readLocalPart:function(e){var t,n;if(e.skip(22),this.fileNameLength=e.readInt(2),n=e.readInt(2),this.fileName=e.readData(this.fileNameLength),e.skip(n),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(t=function(e){for(var t in l)if(Object.prototype.hasOwnProperty.call(l,t)&&l[t].magic===e)return l[t];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+i.pretty(this.compressionMethod)+" unknown (inner file : "+i.transformTo("string",this.fileName)+")");this.decompressed=new s(this.compressedSize,this.uncompressedSize,this.crc32,t,e.readData(this.compressedSize))},readCentralPart:function(e){this.versionMadeBy=e.readInt(2),e.skip(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4);var t=e.readInt(2);if(this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");e.skip(t),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0==e&&(this.dosPermissions=63&this.externalFileAttributes),3==e&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var e=r(this.extraFields[1].value);this.uncompressedSize===i.MAX_VALUE_32BITS&&(this.uncompressedSize=e.readInt(8)),this.compressedSize===i.MAX_VALUE_32BITS&&(this.compressedSize=e.readInt(8)),this.localHeaderOffset===i.MAX_VALUE_32BITS&&(this.localHeaderOffset=e.readInt(8)),this.diskNumberStart===i.MAX_VALUE_32BITS&&(this.diskNumberStart=e.readInt(4))}},readExtraFields:function(e){var t,n,r,i=e.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});e.index+4<i;)t=e.readInt(2),n=e.readInt(2),r=e.readData(n),this.extraFields[t]={id:t,length:n,value:r};e.setIndex(i)},handleUTF8:function(){var e=c.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=a.utf8decode(this.fileName),this.fileCommentStr=a.utf8decode(this.fileComment);else{var t=this.findExtraFieldUnicodePath();if(null!==t)this.fileNameStr=t;else{var n=i.transformTo(e,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(n)}var r=this.findExtraFieldUnicodeComment();if(null!==r)this.fileCommentStr=r;else{var s=i.transformTo(e,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(s)}}},findExtraFieldUnicodePath:function(){var e=this.extraFields[28789];if(e){var t=r(e.value);return 1!==t.readInt(1)||o(this.fileName)!==t.readInt(4)?null:a.utf8decode(t.readData(e.length-5))}return null},findExtraFieldUnicodeComment:function(){var e=this.extraFields[25461];if(e){var t=r(e.value);return 1!==t.readInt(1)||o(this.fileComment)!==t.readInt(4)?null:a.utf8decode(t.readData(e.length-5))}return null}},t.exports=u},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(e,t,n){"use strict";function r(e,t,n){this.name=e,this.dir=n.dir,this.date=n.date,this.comment=n.comment,this.unixPermissions=n.unixPermissions,this.dosPermissions=n.dosPermissions,this._data=t,this._dataBinary=n.binary,this.options={compression:n.compression,compressionOptions:n.compressionOptions}}var i=e("./stream/StreamHelper"),s=e("./stream/DataWorker"),o=e("./utf8"),a=e("./compressedObject"),l=e("./stream/GenericWorker");r.prototype={internalStream:function(e){var t=null,n="string";try{if(!e)throw new Error("No output type specified.");var r="string"===(n=e.toLowerCase())||"text"===n;"binarystring"!==n&&"text"!==n||(n="string"),t=this._decompressWorker();var s=!this._dataBinary;s&&!r&&(t=t.pipe(new o.Utf8EncodeWorker)),!s&&r&&(t=t.pipe(new o.Utf8DecodeWorker))}catch(e){(t=new l("error")).error(e)}return new i(t,n,"")},async:function(e,t){return this.internalStream(e).accumulate(t)},nodeStream:function(e,t){return this.internalStream(e||"nodebuffer").toNodejsStream(t)},_compressWorker:function(e,t){if(this._data instanceof a&&this._data.compression.magic===e.magic)return this._data.getCompressedWorker();var n=this._decompressWorker();return this._dataBinary||(n=n.pipe(new o.Utf8EncodeWorker)),a.createWorkerFrom(n,e,t)},_decompressWorker:function(){return this._data instanceof a?this._data.getContentWorker():this._data instanceof l?this._data:new s(this._data)}};for(var c=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],u=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},f=0;f<c.length;f++)r.prototype[c[f]]=u;t.exports=r},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(e,t,r){(function(e){"use strict";var n,r,i=e.MutationObserver||e.WebKitMutationObserver;if(i){var s=0,o=new i(u),a=e.document.createTextNode("");o.observe(a,{characterData:!0}),n=function(){a.data=s=++s%2}}else if(e.setImmediate||void 0===e.MessageChannel)n="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){u(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(u,0)};else{var l=new e.MessageChannel;l.port1.onmessage=u,n=function(){l.port2.postMessage(0)}}var c=[];function u(){var e,t;r=!0;for(var n=c.length;n;){for(t=c,c=[],e=-1;++e<n;)t[e]();n=c.length}r=!1}t.exports=function(e){1!==c.push(e)||r||n()}}).call(this,void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],37:[function(e,t,n){"use strict";var r=e("immediate");function i(){}var s={},o=["REJECTED"],a=["FULFILLED"],l=["PENDING"];function c(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=l,this.queue=[],this.outcome=void 0,e!==i&&d(this,e)}function u(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function f(e,t,n){r((function(){var r;try{r=t(n)}catch(r){return s.reject(e,r)}r===e?s.reject(e,new TypeError("Cannot resolve promise with itself")):s.resolve(e,r)}))}function _(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function d(e,t){var n=!1;function r(t){n||(n=!0,s.reject(e,t))}function i(t){n||(n=!0,s.resolve(e,t))}var o=p((function(){t(i,r)}));"error"===o.status&&r(o.value)}function p(e,t){var n={};try{n.value=e(t),n.status="success"}catch(e){n.status="error",n.value=e}return n}(t.exports=c).prototype.finally=function(e){if("function"!=typeof e)return this;var t=this.constructor;return this.then((function(n){return t.resolve(e()).then((function(){return n}))}),(function(n){return t.resolve(e()).then((function(){throw n}))}))},c.prototype.catch=function(e){return this.then(null,e)},c.prototype.then=function(e,t){if("function"!=typeof e&&this.state===a||"function"!=typeof t&&this.state===o)return this;var n=new this.constructor(i);return this.state!==l?f(n,this.state===a?e:t,this.outcome):this.queue.push(new u(n,e,t)),n},u.prototype.callFulfilled=function(e){s.resolve(this.promise,e)},u.prototype.otherCallFulfilled=function(e){f(this.promise,this.onFulfilled,e)},u.prototype.callRejected=function(e){s.reject(this.promise,e)},u.prototype.otherCallRejected=function(e){f(this.promise,this.onRejected,e)},s.resolve=function(e,t){var n=p(_,t);if("error"===n.status)return s.reject(e,n.value);var r=n.value;if(r)d(e,r);else{e.state=a,e.outcome=t;for(var i=-1,o=e.queue.length;++i<o;)e.queue[i].callFulfilled(t)}return e},s.reject=function(e,t){e.state=o,e.outcome=t;for(var n=-1,r=e.queue.length;++n<r;)e.queue[n].callRejected(t);return e},c.resolve=function(e){return e instanceof this?e:s.resolve(new this(i),e)},c.reject=function(e){var t=new this(i);return s.reject(t,e)},c.all=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,r=!1;if(!n)return this.resolve([]);for(var o=new Array(n),a=0,l=-1,c=new this(i);++l<n;)u(e[l],l);return c;function u(e,i){t.resolve(e).then((function(e){o[i]=e,++a!==n||r||(r=!0,s.resolve(c,o))}),(function(e){r||(r=!0,s.reject(c,e))}))}},c.race=function(e){if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var t=e.length,n=!1;if(!t)return this.resolve([]);for(var r,o=-1,a=new this(i);++o<t;)r=e[o],this.resolve(r).then((function(e){n||(n=!0,s.resolve(a,e))}),(function(e){n||(n=!0,s.reject(a,e))}));return a}},{immediate:36}],38:[function(e,t,n){"use strict";var r={};(0,e("./lib/utils/common").assign)(r,e("./lib/deflate"),e("./lib/inflate"),e("./lib/zlib/constants")),t.exports=r},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(e,t,n){"use strict";var r=e("./zlib/deflate"),i=e("./utils/common"),s=e("./utils/strings"),o=e("./zlib/messages"),a=e("./zlib/zstream"),l=Object.prototype.toString,c=0,u=-1,f=0,_=8;function d(e){if(!(this instanceof d))return new d(e);this.options=i.assign({level:u,method:_,chunkSize:16384,windowBits:15,memLevel:8,strategy:f,to:""},e||{});var t=this.options;t.raw&&0<t.windowBits?t.windowBits=-t.windowBits:t.gzip&&0<t.windowBits&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new a,this.strm.avail_out=0;var n=r.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==c)throw new Error(o[n]);if(t.header&&r.deflateSetHeader(this.strm,t.header),t.dictionary){var p;if(p="string"==typeof t.dictionary?s.string2buf(t.dictionary):"[object ArrayBuffer]"===l.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(n=r.deflateSetDictionary(this.strm,p))!==c)throw new Error(o[n]);this._dict_set=!0}}function p(e,t){var n=new d(t);if(n.push(e,!0),n.err)throw n.msg||o[n.err];return n.result}d.prototype.push=function(e,t){var n,o,a=this.strm,u=this.options.chunkSize;if(this.ended)return!1;o=t===~~t?t:!0===t?4:0,"string"==typeof e?a.input=s.string2buf(e):"[object ArrayBuffer]"===l.call(e)?a.input=new Uint8Array(e):a.input=e,a.next_in=0,a.avail_in=a.input.length;do{if(0===a.avail_out&&(a.output=new i.Buf8(u),a.next_out=0,a.avail_out=u),1!==(n=r.deflate(a,o))&&n!==c)return this.onEnd(n),!(this.ended=!0);0!==a.avail_out&&(0!==a.avail_in||4!==o&&2!==o)||("string"===this.options.to?this.onData(s.buf2binstring(i.shrinkBuf(a.output,a.next_out))):this.onData(i.shrinkBuf(a.output,a.next_out)))}while((0<a.avail_in||0===a.avail_out)&&1!==n);return 4===o?(n=r.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===c):2!==o||(this.onEnd(c),!(a.avail_out=0))},d.prototype.onData=function(e){this.chunks.push(e)},d.prototype.onEnd=function(e){e===c&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Deflate=d,n.deflate=p,n.deflateRaw=function(e,t){return(t=t||{}).raw=!0,p(e,t)},n.gzip=function(e,t){return(t=t||{}).gzip=!0,p(e,t)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(e,t,n){"use strict";var r=e("./zlib/inflate"),i=e("./utils/common"),s=e("./utils/strings"),o=e("./zlib/constants"),a=e("./zlib/messages"),l=e("./zlib/zstream"),c=e("./zlib/gzheader"),u=Object.prototype.toString;function f(e){if(!(this instanceof f))return new f(e);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&0<=t.windowBits&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(0<=t.windowBits&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),15<t.windowBits&&t.windowBits<48&&!(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var n=r.inflateInit2(this.strm,t.windowBits);if(n!==o.Z_OK)throw new Error(a[n]);this.header=new c,r.inflateGetHeader(this.strm,this.header)}function _(e,t){var n=new f(t);if(n.push(e,!0),n.err)throw n.msg||a[n.err];return n.result}f.prototype.push=function(e,t){var n,a,l,c,f,_,d=this.strm,p=this.options.chunkSize,h=this.options.dictionary,m=!1;if(this.ended)return!1;a=t===~~t?t:!0===t?o.Z_FINISH:o.Z_NO_FLUSH,"string"==typeof e?d.input=s.binstring2buf(e):"[object ArrayBuffer]"===u.call(e)?d.input=new Uint8Array(e):d.input=e,d.next_in=0,d.avail_in=d.input.length;do{if(0===d.avail_out&&(d.output=new i.Buf8(p),d.next_out=0,d.avail_out=p),(n=r.inflate(d,o.Z_NO_FLUSH))===o.Z_NEED_DICT&&h&&(_="string"==typeof h?s.string2buf(h):"[object ArrayBuffer]"===u.call(h)?new Uint8Array(h):h,n=r.inflateSetDictionary(this.strm,_)),n===o.Z_BUF_ERROR&&!0===m&&(n=o.Z_OK,m=!1),n!==o.Z_STREAM_END&&n!==o.Z_OK)return this.onEnd(n),!(this.ended=!0);d.next_out&&(0!==d.avail_out&&n!==o.Z_STREAM_END&&(0!==d.avail_in||a!==o.Z_FINISH&&a!==o.Z_SYNC_FLUSH)||("string"===this.options.to?(l=s.utf8border(d.output,d.next_out),c=d.next_out-l,f=s.buf2string(d.output,l),d.next_out=c,d.avail_out=p-c,c&&i.arraySet(d.output,d.output,l,c,0),this.onData(f)):this.onData(i.shrinkBuf(d.output,d.next_out)))),0===d.avail_in&&0===d.avail_out&&(m=!0)}while((0<d.avail_in||0===d.avail_out)&&n!==o.Z_STREAM_END);return n===o.Z_STREAM_END&&(a=o.Z_FINISH),a===o.Z_FINISH?(n=r.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===o.Z_OK):a!==o.Z_SYNC_FLUSH||(this.onEnd(o.Z_OK),!(d.avail_out=0))},f.prototype.onData=function(e){this.chunks.push(e)},f.prototype.onEnd=function(e){e===o.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Inflate=f,n.inflate=_,n.inflateRaw=function(e,t){return(t=t||{}).raw=!0,_(e,t)},n.ungzip=_},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(e,t,n){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;n.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r])}}return e},n.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var i={arraySet:function(e,t,n,r,i){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+r),i);else for(var s=0;s<r;s++)e[i+s]=t[n+s]},flattenChunks:function(e){var t,n,r,i,s,o;for(t=r=0,n=e.length;t<n;t++)r+=e[t].length;for(o=new Uint8Array(r),t=i=0,n=e.length;t<n;t++)s=e[t],o.set(s,i),i+=s.length;return o}},s={arraySet:function(e,t,n,r,i){for(var s=0;s<r;s++)e[i+s]=t[n+s]},flattenChunks:function(e){return[].concat.apply([],e)}};n.setTyped=function(e){e?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,i)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,s))},n.setTyped(r)},{}],42:[function(e,t,n){"use strict";var r=e("./common"),i=!0,s=!0;try{String.fromCharCode.apply(null,[0])}catch(e){i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){s=!1}for(var o=new r.Buf8(256),a=0;a<256;a++)o[a]=252<=a?6:248<=a?5:240<=a?4:224<=a?3:192<=a?2:1;function l(e,t){if(t<65537&&(e.subarray&&s||!e.subarray&&i))return String.fromCharCode.apply(null,r.shrinkBuf(e,t));for(var n="",o=0;o<t;o++)n+=String.fromCharCode(e[o]);return n}o[254]=o[254]=1,n.string2buf=function(e){var t,n,i,s,o,a=e.length,l=0;for(s=0;s<a;s++)55296==(64512&(n=e.charCodeAt(s)))&&s+1<a&&56320==(64512&(i=e.charCodeAt(s+1)))&&(n=65536+(n-55296<<10)+(i-56320),s++),l+=n<128?1:n<2048?2:n<65536?3:4;for(t=new r.Buf8(l),s=o=0;o<l;s++)55296==(64512&(n=e.charCodeAt(s)))&&s+1<a&&56320==(64512&(i=e.charCodeAt(s+1)))&&(n=65536+(n-55296<<10)+(i-56320),s++),n<128?t[o++]=n:(n<2048?t[o++]=192|n>>>6:(n<65536?t[o++]=224|n>>>12:(t[o++]=240|n>>>18,t[o++]=128|n>>>12&63),t[o++]=128|n>>>6&63),t[o++]=128|63&n);return t},n.buf2binstring=function(e){return l(e,e.length)},n.binstring2buf=function(e){for(var t=new r.Buf8(e.length),n=0,i=t.length;n<i;n++)t[n]=e.charCodeAt(n);return t},n.buf2string=function(e,t){var n,r,i,s,a=t||e.length,c=new Array(2*a);for(n=r=0;n<a;)if((i=e[n++])<128)c[r++]=i;else if(4<(s=o[i]))c[r++]=65533,n+=s-1;else{for(i&=2===s?31:3===s?15:7;1<s&&n<a;)i=i<<6|63&e[n++],s--;1<s?c[r++]=65533:i<65536?c[r++]=i:(i-=65536,c[r++]=55296|i>>10&1023,c[r++]=56320|1023&i)}return l(c,r)},n.utf8border=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;0<=n&&128==(192&e[n]);)n--;return n<0||0===n?t:n+o[e[n]]>t?n:t}},{"./common":41}],43:[function(e,t,n){"use strict";t.exports=function(e,t,n,r){for(var i=65535&e,s=e>>>16&65535,o=0;0!==n;){for(n-=o=2e3<n?2e3:n;s=s+(i=i+t[r++]|0)|0,--o;);i%=65521,s%=65521}return i|s<<16}},{}],44:[function(e,t,n){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(e,t,n){"use strict";var r=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();t.exports=function(e,t,n,i){var s=r,o=i+n;e^=-1;for(var a=i;a<o;a++)e=e>>>8^s[255&(e^t[a])];return~e}},{}],46:[function(e,t,n){"use strict";var r,i=e("../utils/common"),s=e("./trees"),o=e("./adler32"),a=e("./crc32"),l=e("./messages"),c=0,u=0,f=-2,_=2,d=8,p=286,h=30,m=19,g=2*p+1,y=15,b=3,v=258,w=v+b+1,q=42,E=113;function x(e,t){return e.msg=l[t],t}function S(e){return(e<<1)-(4<e?9:0)}function k(e){for(var t=e.length;0<=--t;)e[t]=0}function A(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(i.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function I(e,t){s._tr_flush_block(e,0<=e.block_start?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,A(e.strm)}function T(e,t){e.pending_buf[e.pending++]=t}function O(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function F(e,t){var n,r,i=e.max_chain_length,s=e.strstart,o=e.prev_length,a=e.nice_match,l=e.strstart>e.w_size-w?e.strstart-(e.w_size-w):0,c=e.window,u=e.w_mask,f=e.prev,_=e.strstart+v,d=c[s+o-1],p=c[s+o];e.prev_length>=e.good_match&&(i>>=2),a>e.lookahead&&(a=e.lookahead);do{if(c[(n=t)+o]===p&&c[n+o-1]===d&&c[n]===c[s]&&c[++n]===c[s+1]){s+=2,n++;do{}while(c[++s]===c[++n]&&c[++s]===c[++n]&&c[++s]===c[++n]&&c[++s]===c[++n]&&c[++s]===c[++n]&&c[++s]===c[++n]&&c[++s]===c[++n]&&c[++s]===c[++n]&&s<_);if(r=v-(_-s),s=_-v,o<r){if(e.match_start=t,a<=(o=r))break;d=c[s+o-1],p=c[s+o]}}}while((t=f[t&u])>l&&0!=--i);return o<=e.lookahead?o:e.lookahead}function C(e){var t,n,r,s,l,c,u,f,_,d,p=e.w_size;do{if(s=e.window_size-e.lookahead-e.strstart,e.strstart>=p+(p-w)){for(i.arraySet(e.window,e.window,p,p,0),e.match_start-=p,e.strstart-=p,e.block_start-=p,t=n=e.hash_size;r=e.head[--t],e.head[t]=p<=r?r-p:0,--n;);for(t=n=p;r=e.prev[--t],e.prev[t]=p<=r?r-p:0,--n;);s+=p}if(0===e.strm.avail_in)break;if(c=e.strm,u=e.window,f=e.strstart+e.lookahead,d=void 0,(_=s)<(d=c.avail_in)&&(d=_),n=0===d?0:(c.avail_in-=d,i.arraySet(u,c.input,c.next_in,d,f),1===c.state.wrap?c.adler=o(c.adler,u,d,f):2===c.state.wrap&&(c.adler=a(c.adler,u,d,f)),c.next_in+=d,c.total_in+=d,d),e.lookahead+=n,e.lookahead+e.insert>=b)for(l=e.strstart-e.insert,e.ins_h=e.window[l],e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+b-1])&e.hash_mask,e.prev[l&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=l,l++,e.insert--,!(e.lookahead+e.insert<b)););}while(e.lookahead<w&&0!==e.strm.avail_in)}function P(e,t){for(var n,r;;){if(e.lookahead<w){if(C(e),e.lookahead<w&&t===c)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=b&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+b-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-w&&(e.match_length=F(e,n)),e.match_length>=b)if(r=s._tr_tally(e,e.strstart-e.match_start,e.match_length-b),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=b){for(e.match_length--;e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+b-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart,0!=--e.match_length;);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else r=s._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(I(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<b-1?e.strstart:b-1,4===t?(I(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(I(e,!1),0===e.strm.avail_out)?1:2}function D(e,t){for(var n,r,i;;){if(e.lookahead<w){if(C(e),e.lookahead<w&&t===c)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=b&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+b-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=b-1,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-w&&(e.match_length=F(e,n),e.match_length<=5&&(1===e.strategy||e.match_length===b&&4096<e.strstart-e.match_start)&&(e.match_length=b-1)),e.prev_length>=b&&e.match_length<=e.prev_length){for(i=e.strstart+e.lookahead-b,r=s._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-b),e.lookahead-=e.prev_length-1,e.prev_length-=2;++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+b-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!=--e.prev_length;);if(e.match_available=0,e.match_length=b-1,e.strstart++,r&&(I(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((r=s._tr_tally(e,0,e.window[e.strstart-1]))&&I(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=s._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<b-1?e.strstart:b-1,4===t?(I(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(I(e,!1),0===e.strm.avail_out)?1:2}function L(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}function z(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=d,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(2*g),this.dyn_dtree=new i.Buf16(2*(2*h+1)),this.bl_tree=new i.Buf16(2*(2*m+1)),k(this.dyn_ltree),k(this.dyn_dtree),k(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(y+1),this.heap=new i.Buf16(2*p+1),k(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(2*p+1),k(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function R(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=_,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?q:E,e.adler=2===t.wrap?0:1,t.last_flush=c,s._tr_init(t),u):x(e,f)}function N(e){var t=R(e);return t===u&&function(e){e.window_size=2*e.w_size,k(e.head),e.max_lazy_match=r[e.level].max_lazy,e.good_match=r[e.level].good_length,e.nice_match=r[e.level].nice_length,e.max_chain_length=r[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=b-1,e.match_available=0,e.ins_h=0}(e.state),t}function B(e,t,n,r,s,o){if(!e)return f;var a=1;if(-1===t&&(t=6),r<0?(a=0,r=-r):15<r&&(a=2,r-=16),s<1||9<s||n!==d||r<8||15<r||t<0||9<t||o<0||4<o)return x(e,f);8===r&&(r=9);var l=new z;return(e.state=l).strm=e,l.wrap=a,l.gzhead=null,l.w_bits=r,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=s+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+b-1)/b),l.window=new i.Buf8(2*l.w_size),l.head=new i.Buf16(l.hash_size),l.prev=new i.Buf16(l.w_size),l.lit_bufsize=1<<s+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new i.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=t,l.strategy=o,l.method=n,N(e)}r=[new L(0,0,0,0,(function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(C(e),0===e.lookahead&&t===c)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+n;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,I(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-w&&(I(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(I(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&(I(e,!1),e.strm.avail_out),1)})),new L(4,4,8,4,P),new L(4,5,16,8,P),new L(4,6,32,32,P),new L(4,4,16,16,D),new L(8,16,32,32,D),new L(8,16,128,128,D),new L(8,32,128,256,D),new L(32,128,258,1024,D),new L(32,258,258,4096,D)],n.deflateInit=function(e,t){return B(e,t,d,15,8,0)},n.deflateInit2=B,n.deflateReset=N,n.deflateResetKeep=R,n.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?f:(e.state.gzhead=t,u):f},n.deflate=function(e,t){var n,i,o,l;if(!e||!e.state||5<t||t<0)return e?x(e,f):f;if(i=e.state,!e.output||!e.input&&0!==e.avail_in||666===i.status&&4!==t)return x(e,0===e.avail_out?-5:f);if(i.strm=e,n=i.last_flush,i.last_flush=t,i.status===q)if(2===i.wrap)e.adler=0,T(i,31),T(i,139),T(i,8),i.gzhead?(T(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),T(i,255&i.gzhead.time),T(i,i.gzhead.time>>8&255),T(i,i.gzhead.time>>16&255),T(i,i.gzhead.time>>24&255),T(i,9===i.level?2:2<=i.strategy||i.level<2?4:0),T(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(T(i,255&i.gzhead.extra.length),T(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=a(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(T(i,0),T(i,0),T(i,0),T(i,0),T(i,0),T(i,9===i.level?2:2<=i.strategy||i.level<2?4:0),T(i,3),i.status=E);else{var _=d+(i.w_bits-8<<4)<<8;_|=(2<=i.strategy||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(_|=32),_+=31-_%31,i.status=E,O(i,_),0!==i.strstart&&(O(i,e.adler>>>16),O(i,65535&e.adler)),e.adler=1}if(69===i.status)if(i.gzhead.extra){for(o=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>o&&(e.adler=a(e.adler,i.pending_buf,i.pending-o,o)),A(e),o=i.pending,i.pending!==i.pending_buf_size));)T(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>o&&(e.adler=a(e.adler,i.pending_buf,i.pending-o,o)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){o=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>o&&(e.adler=a(e.adler,i.pending_buf,i.pending-o,o)),A(e),o=i.pending,i.pending===i.pending_buf_size)){l=1;break}l=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,T(i,l)}while(0!==l);i.gzhead.hcrc&&i.pending>o&&(e.adler=a(e.adler,i.pending_buf,i.pending-o,o)),0===l&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){o=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>o&&(e.adler=a(e.adler,i.pending_buf,i.pending-o,o)),A(e),o=i.pending,i.pending===i.pending_buf_size)){l=1;break}l=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,T(i,l)}while(0!==l);i.gzhead.hcrc&&i.pending>o&&(e.adler=a(e.adler,i.pending_buf,i.pending-o,o)),0===l&&(i.status=103)}else i.status=103;if(103===i.status&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&A(e),i.pending+2<=i.pending_buf_size&&(T(i,255&e.adler),T(i,e.adler>>8&255),e.adler=0,i.status=E)):i.status=E),0!==i.pending){if(A(e),0===e.avail_out)return i.last_flush=-1,u}else if(0===e.avail_in&&S(t)<=S(n)&&4!==t)return x(e,-5);if(666===i.status&&0!==e.avail_in)return x(e,-5);if(0!==e.avail_in||0!==i.lookahead||t!==c&&666!==i.status){var p=2===i.strategy?function(e,t){for(var n;;){if(0===e.lookahead&&(C(e),0===e.lookahead)){if(t===c)return 1;break}if(e.match_length=0,n=s._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(I(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(I(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(I(e,!1),0===e.strm.avail_out)?1:2}(i,t):3===i.strategy?function(e,t){for(var n,r,i,o,a=e.window;;){if(e.lookahead<=v){if(C(e),e.lookahead<=v&&t===c)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=b&&0<e.strstart&&(r=a[i=e.strstart-1])===a[++i]&&r===a[++i]&&r===a[++i]){o=e.strstart+v;do{}while(r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&i<o);e.match_length=v-(o-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=b?(n=s._tr_tally(e,1,e.match_length-b),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=s._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(I(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(I(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(I(e,!1),0===e.strm.avail_out)?1:2}(i,t):r[i.level].func(i,t);if(3!==p&&4!==p||(i.status=666),1===p||3===p)return 0===e.avail_out&&(i.last_flush=-1),u;if(2===p&&(1===t?s._tr_align(i):5!==t&&(s._tr_stored_block(i,0,0,!1),3===t&&(k(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),A(e),0===e.avail_out))return i.last_flush=-1,u}return 4!==t?u:i.wrap<=0?1:(2===i.wrap?(T(i,255&e.adler),T(i,e.adler>>8&255),T(i,e.adler>>16&255),T(i,e.adler>>24&255),T(i,255&e.total_in),T(i,e.total_in>>8&255),T(i,e.total_in>>16&255),T(i,e.total_in>>24&255)):(O(i,e.adler>>>16),O(i,65535&e.adler)),A(e),0<i.wrap&&(i.wrap=-i.wrap),0!==i.pending?u:1)},n.deflateEnd=function(e){var t;return e&&e.state?(t=e.state.status)!==q&&69!==t&&73!==t&&91!==t&&103!==t&&t!==E&&666!==t?x(e,f):(e.state=null,t===E?x(e,-3):u):f},n.deflateSetDictionary=function(e,t){var n,r,s,a,l,c,_,d,p=t.length;if(!e||!e.state)return f;if(2===(a=(n=e.state).wrap)||1===a&&n.status!==q||n.lookahead)return f;for(1===a&&(e.adler=o(e.adler,t,p,0)),n.wrap=0,p>=n.w_size&&(0===a&&(k(n.head),n.strstart=0,n.block_start=0,n.insert=0),d=new i.Buf8(n.w_size),i.arraySet(d,t,p-n.w_size,n.w_size,0),t=d,p=n.w_size),l=e.avail_in,c=e.next_in,_=e.input,e.avail_in=p,e.next_in=0,e.input=t,C(n);n.lookahead>=b;){for(r=n.strstart,s=n.lookahead-(b-1);n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+b-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++,--s;);n.strstart=r,n.lookahead=b-1,C(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=b-1,n.match_available=0,e.next_in=c,e.input=_,e.avail_in=l,n.wrap=a,u},n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(e,t,n){"use strict";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(e,t,n){"use strict";t.exports=function(e,t){var n,r,i,s,o,a,l,c,u,f,_,d,p,h,m,g,y,b,v,w,q,E,x,S,k;n=e.state,r=e.next_in,S=e.input,i=r+(e.avail_in-5),s=e.next_out,k=e.output,o=s-(t-e.avail_out),a=s+(e.avail_out-257),l=n.dmax,c=n.wsize,u=n.whave,f=n.wnext,_=n.window,d=n.hold,p=n.bits,h=n.lencode,m=n.distcode,g=(1<<n.lenbits)-1,y=(1<<n.distbits)-1;e:do{p<15&&(d+=S[r++]<<p,p+=8,d+=S[r++]<<p,p+=8),b=h[d&g];t:for(;;){if(d>>>=v=b>>>24,p-=v,0==(v=b>>>16&255))k[s++]=65535&b;else{if(!(16&v)){if(!(64&v)){b=h[(65535&b)+(d&(1<<v)-1)];continue t}if(32&v){n.mode=12;break e}e.msg="invalid literal/length code",n.mode=30;break e}w=65535&b,(v&=15)&&(p<v&&(d+=S[r++]<<p,p+=8),w+=d&(1<<v)-1,d>>>=v,p-=v),p<15&&(d+=S[r++]<<p,p+=8,d+=S[r++]<<p,p+=8),b=m[d&y];n:for(;;){if(d>>>=v=b>>>24,p-=v,!(16&(v=b>>>16&255))){if(!(64&v)){b=m[(65535&b)+(d&(1<<v)-1)];continue n}e.msg="invalid distance code",n.mode=30;break e}if(q=65535&b,p<(v&=15)&&(d+=S[r++]<<p,(p+=8)<v&&(d+=S[r++]<<p,p+=8)),l<(q+=d&(1<<v)-1)){e.msg="invalid distance too far back",n.mode=30;break e}if(d>>>=v,p-=v,(v=s-o)<q){if(u<(v=q-v)&&n.sane){e.msg="invalid distance too far back",n.mode=30;break e}if(x=_,(E=0)===f){if(E+=c-v,v<w){for(w-=v;k[s++]=_[E++],--v;);E=s-q,x=k}}else if(f<v){if(E+=c+f-v,(v-=f)<w){for(w-=v;k[s++]=_[E++],--v;);if(E=0,f<w){for(w-=v=f;k[s++]=_[E++],--v;);E=s-q,x=k}}}else if(E+=f-v,v<w){for(w-=v;k[s++]=_[E++],--v;);E=s-q,x=k}for(;2<w;)k[s++]=x[E++],k[s++]=x[E++],k[s++]=x[E++],w-=3;w&&(k[s++]=x[E++],1<w&&(k[s++]=x[E++]))}else{for(E=s-q;k[s++]=k[E++],k[s++]=k[E++],k[s++]=k[E++],2<(w-=3););w&&(k[s++]=k[E++],1<w&&(k[s++]=k[E++]))}break}}break}}while(r<i&&s<a);r-=w=p>>3,d&=(1<<(p-=w<<3))-1,e.next_in=r,e.next_out=s,e.avail_in=r<i?i-r+5:5-(r-i),e.avail_out=s<a?a-s+257:257-(s-a),n.hold=d,n.bits=p}},{}],49:[function(e,t,n){"use strict";var r=e("../utils/common"),i=e("./adler32"),s=e("./crc32"),o=e("./inffast"),a=e("./inftrees"),l=0,c=-2,u=1,f=852,_=592;function d(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function p(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function h(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=u,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new r.Buf32(f),t.distcode=t.distdyn=new r.Buf32(_),t.sane=1,t.back=-1,l):c}function m(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,h(e)):c}function g(e,t){var n,r;return e&&e.state?(r=e.state,t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||15<t)?c:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,m(e))):c}function y(e,t){var n,r;return e?(r=new p,(e.state=r).window=null,(n=g(e,t))!==l&&(e.state=null),n):c}var b,v,w=!0;function q(e){if(w){var t;for(b=new r.Buf32(512),v=new r.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(a(1,e.lens,0,288,b,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;a(2,e.lens,0,32,v,0,e.work,{bits:5}),w=!1}e.lencode=b,e.lenbits=9,e.distcode=v,e.distbits=5}function E(e,t,n,i){var s,o=e.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new r.Buf8(o.wsize)),i>=o.wsize?(r.arraySet(o.window,t,n-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):(i<(s=o.wsize-o.wnext)&&(s=i),r.arraySet(o.window,t,n-i,s,o.wnext),(i-=s)?(r.arraySet(o.window,t,n-i,i,0),o.wnext=i,o.whave=o.wsize):(o.wnext+=s,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=s))),0}n.inflateReset=m,n.inflateReset2=g,n.inflateResetKeep=h,n.inflateInit=function(e){return y(e,15)},n.inflateInit2=y,n.inflate=function(e,t){var n,f,_,p,h,m,g,y,b,v,w,x,S,k,A,I,T,O,F,C,P,D,L,z,R=0,N=new r.Buf8(4),B=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return c;12===(n=e.state).mode&&(n.mode=13),h=e.next_out,_=e.output,g=e.avail_out,p=e.next_in,f=e.input,m=e.avail_in,y=n.hold,b=n.bits,v=m,w=g,D=l;e:for(;;)switch(n.mode){case u:if(0===n.wrap){n.mode=13;break}for(;b<16;){if(0===m)break e;m--,y+=f[p++]<<b,b+=8}if(2&n.wrap&&35615===y){N[n.check=0]=255&y,N[1]=y>>>8&255,n.check=s(n.check,N,2,0),b=y=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&y)<<8)+(y>>8))%31){e.msg="incorrect header check",n.mode=30;break}if(8!=(15&y)){e.msg="unknown compression method",n.mode=30;break}if(b-=4,P=8+(15&(y>>>=4)),0===n.wbits)n.wbits=P;else if(P>n.wbits){e.msg="invalid window size",n.mode=30;break}n.dmax=1<<P,e.adler=n.check=1,n.mode=512&y?10:12,b=y=0;break;case 2:for(;b<16;){if(0===m)break e;m--,y+=f[p++]<<b,b+=8}if(n.flags=y,8!=(255&n.flags)){e.msg="unknown compression method",n.mode=30;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=30;break}n.head&&(n.head.text=y>>8&1),512&n.flags&&(N[0]=255&y,N[1]=y>>>8&255,n.check=s(n.check,N,2,0)),b=y=0,n.mode=3;case 3:for(;b<32;){if(0===m)break e;m--,y+=f[p++]<<b,b+=8}n.head&&(n.head.time=y),512&n.flags&&(N[0]=255&y,N[1]=y>>>8&255,N[2]=y>>>16&255,N[3]=y>>>24&255,n.check=s(n.check,N,4,0)),b=y=0,n.mode=4;case 4:for(;b<16;){if(0===m)break e;m--,y+=f[p++]<<b,b+=8}n.head&&(n.head.xflags=255&y,n.head.os=y>>8),512&n.flags&&(N[0]=255&y,N[1]=y>>>8&255,n.check=s(n.check,N,2,0)),b=y=0,n.mode=5;case 5:if(1024&n.flags){for(;b<16;){if(0===m)break e;m--,y+=f[p++]<<b,b+=8}n.length=y,n.head&&(n.head.extra_len=y),512&n.flags&&(N[0]=255&y,N[1]=y>>>8&255,n.check=s(n.check,N,2,0)),b=y=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&(m<(x=n.length)&&(x=m),x&&(n.head&&(P=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),r.arraySet(n.head.extra,f,p,x,P)),512&n.flags&&(n.check=s(n.check,f,x,p)),m-=x,p+=x,n.length-=x),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===m)break e;for(x=0;P=f[p+x++],n.head&&P&&n.length<65536&&(n.head.name+=String.fromCharCode(P)),P&&x<m;);if(512&n.flags&&(n.check=s(n.check,f,x,p)),m-=x,p+=x,P)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===m)break e;for(x=0;P=f[p+x++],n.head&&P&&n.length<65536&&(n.head.comment+=String.fromCharCode(P)),P&&x<m;);if(512&n.flags&&(n.check=s(n.check,f,x,p)),m-=x,p+=x,P)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;b<16;){if(0===m)break e;m--,y+=f[p++]<<b,b+=8}if(y!==(65535&n.check)){e.msg="header crc mismatch",n.mode=30;break}b=y=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=12;break;case 10:for(;b<32;){if(0===m)break e;m--,y+=f[p++]<<b,b+=8}e.adler=n.check=d(y),b=y=0,n.mode=11;case 11:if(0===n.havedict)return e.next_out=h,e.avail_out=g,e.next_in=p,e.avail_in=m,n.hold=y,n.bits=b,2;e.adler=n.check=1,n.mode=12;case 12:if(5===t||6===t)break e;case 13:if(n.last){y>>>=7&b,b-=7&b,n.mode=27;break}for(;b<3;){if(0===m)break e;m--,y+=f[p++]<<b,b+=8}switch(n.last=1&y,b-=1,3&(y>>>=1)){case 0:n.mode=14;break;case 1:if(q(n),n.mode=20,6!==t)break;y>>>=2,b-=2;break e;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=30}y>>>=2,b-=2;break;case 14:for(y>>>=7&b,b-=7&b;b<32;){if(0===m)break e;m--,y+=f[p++]<<b,b+=8}if((65535&y)!=(y>>>16^65535)){e.msg="invalid stored block lengths",n.mode=30;break}if(n.length=65535&y,b=y=0,n.mode=15,6===t)break e;case 15:n.mode=16;case 16:if(x=n.length){if(m<x&&(x=m),g<x&&(x=g),0===x)break e;r.arraySet(_,f,p,x,h),m-=x,p+=x,g-=x,h+=x,n.length-=x;break}n.mode=12;break;case 17:for(;b<14;){if(0===m)break e;m--,y+=f[p++]<<b,b+=8}if(n.nlen=257+(31&y),y>>>=5,b-=5,n.ndist=1+(31&y),y>>>=5,b-=5,n.ncode=4+(15&y),y>>>=4,b-=4,286<n.nlen||30<n.ndist){e.msg="too many length or distance symbols",n.mode=30;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;b<3;){if(0===m)break e;m--,y+=f[p++]<<b,b+=8}n.lens[B[n.have++]]=7&y,y>>>=3,b-=3}for(;n.have<19;)n.lens[B[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,L={bits:n.lenbits},D=a(0,n.lens,0,19,n.lencode,0,n.work,L),n.lenbits=L.bits,D){e.msg="invalid code lengths set",n.mode=30;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;I=(R=n.lencode[y&(1<<n.lenbits)-1])>>>16&255,T=65535&R,!((A=R>>>24)<=b);){if(0===m)break e;m--,y+=f[p++]<<b,b+=8}if(T<16)y>>>=A,b-=A,n.lens[n.have++]=T;else{if(16===T){for(z=A+2;b<z;){if(0===m)break e;m--,y+=f[p++]<<b,b+=8}if(y>>>=A,b-=A,0===n.have){e.msg="invalid bit length repeat",n.mode=30;break}P=n.lens[n.have-1],x=3+(3&y),y>>>=2,b-=2}else if(17===T){for(z=A+3;b<z;){if(0===m)break e;m--,y+=f[p++]<<b,b+=8}b-=A,P=0,x=3+(7&(y>>>=A)),y>>>=3,b-=3}else{for(z=A+7;b<z;){if(0===m)break e;m--,y+=f[p++]<<b,b+=8}b-=A,P=0,x=11+(127&(y>>>=A)),y>>>=7,b-=7}if(n.have+x>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=30;break}for(;x--;)n.lens[n.have++]=P}}if(30===n.mode)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=30;break}if(n.lenbits=9,L={bits:n.lenbits},D=a(1,n.lens,0,n.nlen,n.lencode,0,n.work,L),n.lenbits=L.bits,D){e.msg="invalid literal/lengths set",n.mode=30;break}if(n.distbits=6,n.distcode=n.distdyn,L={bits:n.distbits},D=a(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,L),n.distbits=L.bits,D){e.msg="invalid distances set",n.mode=30;break}if(n.mode=20,6===t)break e;case 20:n.mode=21;case 21:if(6<=m&&258<=g){e.next_out=h,e.avail_out=g,e.next_in=p,e.avail_in=m,n.hold=y,n.bits=b,o(e,w),h=e.next_out,_=e.output,g=e.avail_out,p=e.next_in,f=e.input,m=e.avail_in,y=n.hold,b=n.bits,12===n.mode&&(n.back=-1);break}for(n.back=0;I=(R=n.lencode[y&(1<<n.lenbits)-1])>>>16&255,T=65535&R,!((A=R>>>24)<=b);){if(0===m)break e;m--,y+=f[p++]<<b,b+=8}if(I&&!(240&I)){for(O=A,F=I,C=T;I=(R=n.lencode[C+((y&(1<<O+F)-1)>>O)])>>>16&255,T=65535&R,!(O+(A=R>>>24)<=b);){if(0===m)break e;m--,y+=f[p++]<<b,b+=8}y>>>=O,b-=O,n.back+=O}if(y>>>=A,b-=A,n.back+=A,n.length=T,0===I){n.mode=26;break}if(32&I){n.back=-1,n.mode=12;break}if(64&I){e.msg="invalid literal/length code",n.mode=30;break}n.extra=15&I,n.mode=22;case 22:if(n.extra){for(z=n.extra;b<z;){if(0===m)break e;m--,y+=f[p++]<<b,b+=8}n.length+=y&(1<<n.extra)-1,y>>>=n.extra,b-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;I=(R=n.distcode[y&(1<<n.distbits)-1])>>>16&255,T=65535&R,!((A=R>>>24)<=b);){if(0===m)break e;m--,y+=f[p++]<<b,b+=8}if(!(240&I)){for(O=A,F=I,C=T;I=(R=n.distcode[C+((y&(1<<O+F)-1)>>O)])>>>16&255,T=65535&R,!(O+(A=R>>>24)<=b);){if(0===m)break e;m--,y+=f[p++]<<b,b+=8}y>>>=O,b-=O,n.back+=O}if(y>>>=A,b-=A,n.back+=A,64&I){e.msg="invalid distance code",n.mode=30;break}n.offset=T,n.extra=15&I,n.mode=24;case 24:if(n.extra){for(z=n.extra;b<z;){if(0===m)break e;m--,y+=f[p++]<<b,b+=8}n.offset+=y&(1<<n.extra)-1,y>>>=n.extra,b-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=30;break}n.mode=25;case 25:if(0===g)break e;if(x=w-g,n.offset>x){if((x=n.offset-x)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=30;break}S=x>n.wnext?(x-=n.wnext,n.wsize-x):n.wnext-x,x>n.length&&(x=n.length),k=n.window}else k=_,S=h-n.offset,x=n.length;for(g<x&&(x=g),g-=x,n.length-=x;_[h++]=k[S++],--x;);0===n.length&&(n.mode=21);break;case 26:if(0===g)break e;_[h++]=n.length,g--,n.mode=21;break;case 27:if(n.wrap){for(;b<32;){if(0===m)break e;m--,y|=f[p++]<<b,b+=8}if(w-=g,e.total_out+=w,n.total+=w,w&&(e.adler=n.check=n.flags?s(n.check,_,w,h-w):i(n.check,_,w,h-w)),w=g,(n.flags?y:d(y))!==n.check){e.msg="incorrect data check",n.mode=30;break}b=y=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;b<32;){if(0===m)break e;m--,y+=f[p++]<<b,b+=8}if(y!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=30;break}b=y=0}n.mode=29;case 29:D=1;break e;case 30:D=-3;break e;case 31:return-4;default:return c}return e.next_out=h,e.avail_out=g,e.next_in=p,e.avail_in=m,n.hold=y,n.bits=b,(n.wsize||w!==e.avail_out&&n.mode<30&&(n.mode<27||4!==t))&&E(e,e.output,e.next_out,w-e.avail_out)?(n.mode=31,-4):(v-=e.avail_in,w-=e.avail_out,e.total_in+=v,e.total_out+=w,n.total+=w,n.wrap&&w&&(e.adler=n.check=n.flags?s(n.check,_,w,e.next_out-w):i(n.check,_,w,e.next_out-w)),e.data_type=n.bits+(n.last?64:0)+(12===n.mode?128:0)+(20===n.mode||15===n.mode?256:0),(0==v&&0===w||4===t)&&D===l&&(D=-5),D)},n.inflateEnd=function(e){if(!e||!e.state)return c;var t=e.state;return t.window&&(t.window=null),e.state=null,l},n.inflateGetHeader=function(e,t){var n;return e&&e.state&&2&(n=e.state).wrap?((n.head=t).done=!1,l):c},n.inflateSetDictionary=function(e,t){var n,r=t.length;return e&&e.state?0!==(n=e.state).wrap&&11!==n.mode?c:11===n.mode&&i(1,t,r,0)!==n.check?-3:E(e,t,r,r)?(n.mode=31,-4):(n.havedict=1,l):c},n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(e,t,n){"use strict";var r=e("../utils/common"),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],s=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],o=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],a=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(e,t,n,l,c,u,f,_){var d,p,h,m,g,y,b,v,w,q=_.bits,E=0,x=0,S=0,k=0,A=0,I=0,T=0,O=0,F=0,C=0,P=null,D=0,L=new r.Buf16(16),z=new r.Buf16(16),R=null,N=0;for(E=0;E<=15;E++)L[E]=0;for(x=0;x<l;x++)L[t[n+x]]++;for(A=q,k=15;1<=k&&0===L[k];k--);if(k<A&&(A=k),0===k)return c[u++]=20971520,c[u++]=20971520,_.bits=1,0;for(S=1;S<k&&0===L[S];S++);for(A<S&&(A=S),E=O=1;E<=15;E++)if(O<<=1,(O-=L[E])<0)return-1;if(0<O&&(0===e||1!==k))return-1;for(z[1]=0,E=1;E<15;E++)z[E+1]=z[E]+L[E];for(x=0;x<l;x++)0!==t[n+x]&&(f[z[t[n+x]]++]=x);if(y=0===e?(P=R=f,19):1===e?(P=i,D-=257,R=s,N-=257,256):(P=o,R=a,-1),E=S,g=u,T=x=C=0,h=-1,m=(F=1<<(I=A))-1,1===e&&852<F||2===e&&592<F)return 1;for(;;){for(b=E-T,w=f[x]<y?(v=0,f[x]):f[x]>y?(v=R[N+f[x]],P[D+f[x]]):(v=96,0),d=1<<E-T,S=p=1<<I;c[g+(C>>T)+(p-=d)]=b<<24|v<<16|w,0!==p;);for(d=1<<E-1;C&d;)d>>=1;if(0!==d?(C&=d-1,C+=d):C=0,x++,0==--L[E]){if(E===k)break;E=t[n+f[x]]}if(A<E&&(C&m)!==h){for(0===T&&(T=A),g+=S,O=1<<(I=E-T);I+T<k&&!((O-=L[I+T])<=0);)I++,O<<=1;if(F+=1<<I,1===e&&852<F||2===e&&592<F)return 1;c[h=C&m]=A<<24|I<<16|g-u}}return 0!==C&&(c[g+C]=E-T<<24|64<<16),_.bits=A,0}},{"../utils/common":41}],51:[function(e,t,n){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(e,t,n){"use strict";var r=e("../utils/common");function i(e){for(var t=e.length;0<=--t;)e[t]=0}var s=256,o=286,a=30,l=15,c=16,u=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],f=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],_=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],d=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],p=new Array(576);i(p);var h=new Array(60);i(h);var m=new Array(512);i(m);var g=new Array(256);i(g);var y=new Array(29);i(y);var b,v,w,q=new Array(a);function E(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}function x(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function S(e){return e<256?m[e]:m[256+(e>>>7)]}function k(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function A(e,t,n){e.bi_valid>c-n?(e.bi_buf|=t<<e.bi_valid&65535,k(e,e.bi_buf),e.bi_buf=t>>c-e.bi_valid,e.bi_valid+=n-c):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function I(e,t,n){A(e,n[2*t],n[2*t+1])}function T(e,t){for(var n=0;n|=1&e,e>>>=1,n<<=1,0<--t;);return n>>>1}function O(e,t,n){var r,i,s=new Array(l+1),o=0;for(r=1;r<=l;r++)s[r]=o=o+n[r-1]<<1;for(i=0;i<=t;i++){var a=e[2*i+1];0!==a&&(e[2*i]=T(s[a]++,a))}}function F(e){var t;for(t=0;t<o;t++)e.dyn_ltree[2*t]=0;for(t=0;t<a;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function C(e){8<e.bi_valid?k(e,e.bi_buf):0<e.bi_valid&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function P(e,t,n,r){var i=2*t,s=2*n;return e[i]<e[s]||e[i]===e[s]&&r[t]<=r[n]}function D(e,t,n){for(var r=e.heap[n],i=n<<1;i<=e.heap_len&&(i<e.heap_len&&P(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!P(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r}function L(e,t,n){var r,i,o,a,l=0;if(0!==e.last_lit)for(;r=e.pending_buf[e.d_buf+2*l]<<8|e.pending_buf[e.d_buf+2*l+1],i=e.pending_buf[e.l_buf+l],l++,0===r?I(e,i,t):(I(e,(o=g[i])+s+1,t),0!==(a=u[o])&&A(e,i-=y[o],a),I(e,o=S(--r),n),0!==(a=f[o])&&A(e,r-=q[o],a)),l<e.last_lit;);I(e,256,t)}function z(e,t){var n,r,i,s=t.dyn_tree,o=t.stat_desc.static_tree,a=t.stat_desc.has_stree,c=t.stat_desc.elems,u=-1;for(e.heap_len=0,e.heap_max=573,n=0;n<c;n++)0!==s[2*n]?(e.heap[++e.heap_len]=u=n,e.depth[n]=0):s[2*n+1]=0;for(;e.heap_len<2;)s[2*(i=e.heap[++e.heap_len]=u<2?++u:0)]=1,e.depth[i]=0,e.opt_len--,a&&(e.static_len-=o[2*i+1]);for(t.max_code=u,n=e.heap_len>>1;1<=n;n--)D(e,s,n);for(i=c;n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],D(e,s,1),r=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=r,s[2*i]=s[2*n]+s[2*r],e.depth[i]=(e.depth[n]>=e.depth[r]?e.depth[n]:e.depth[r])+1,s[2*n+1]=s[2*r+1]=i,e.heap[1]=i++,D(e,s,1),2<=e.heap_len;);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,r,i,s,o,a,c=t.dyn_tree,u=t.max_code,f=t.stat_desc.static_tree,_=t.stat_desc.has_stree,d=t.stat_desc.extra_bits,p=t.stat_desc.extra_base,h=t.stat_desc.max_length,m=0;for(s=0;s<=l;s++)e.bl_count[s]=0;for(c[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<573;n++)h<(s=c[2*c[2*(r=e.heap[n])+1]+1]+1)&&(s=h,m++),c[2*r+1]=s,u<r||(e.bl_count[s]++,o=0,p<=r&&(o=d[r-p]),a=c[2*r],e.opt_len+=a*(s+o),_&&(e.static_len+=a*(f[2*r+1]+o)));if(0!==m){do{for(s=h-1;0===e.bl_count[s];)s--;e.bl_count[s]--,e.bl_count[s+1]+=2,e.bl_count[h]--,m-=2}while(0<m);for(s=h;0!==s;s--)for(r=e.bl_count[s];0!==r;)u<(i=e.heap[--n])||(c[2*i+1]!==s&&(e.opt_len+=(s-c[2*i+1])*c[2*i],c[2*i+1]=s),r--)}}(e,t),O(s,u,e.bl_count)}function R(e,t,n){var r,i,s=-1,o=t[1],a=0,l=7,c=4;for(0===o&&(l=138,c=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)i=o,o=t[2*(r+1)+1],++a<l&&i===o||(a<c?e.bl_tree[2*i]+=a:0!==i?(i!==s&&e.bl_tree[2*i]++,e.bl_tree[32]++):a<=10?e.bl_tree[34]++:e.bl_tree[36]++,s=i,c=(a=0)===o?(l=138,3):i===o?(l=6,3):(l=7,4))}function N(e,t,n){var r,i,s=-1,o=t[1],a=0,l=7,c=4;for(0===o&&(l=138,c=3),r=0;r<=n;r++)if(i=o,o=t[2*(r+1)+1],!(++a<l&&i===o)){if(a<c)for(;I(e,i,e.bl_tree),0!=--a;);else 0!==i?(i!==s&&(I(e,i,e.bl_tree),a--),I(e,16,e.bl_tree),A(e,a-3,2)):a<=10?(I(e,17,e.bl_tree),A(e,a-3,3)):(I(e,18,e.bl_tree),A(e,a-11,7));s=i,c=(a=0)===o?(l=138,3):i===o?(l=6,3):(l=7,4)}}i(q);var B=!1;function j(e,t,n,i){A(e,0+(i?1:0),3),function(e,t,n,i){C(e),k(e,n),k(e,~n),r.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}(e,t,n)}n._tr_init=function(e){B||(function(){var e,t,n,r,i,s=new Array(l+1);for(r=n=0;r<28;r++)for(y[r]=n,e=0;e<1<<u[r];e++)g[n++]=r;for(g[n-1]=r,r=i=0;r<16;r++)for(q[r]=i,e=0;e<1<<f[r];e++)m[i++]=r;for(i>>=7;r<a;r++)for(q[r]=i<<7,e=0;e<1<<f[r]-7;e++)m[256+i++]=r;for(t=0;t<=l;t++)s[t]=0;for(e=0;e<=143;)p[2*e+1]=8,e++,s[8]++;for(;e<=255;)p[2*e+1]=9,e++,s[9]++;for(;e<=279;)p[2*e+1]=7,e++,s[7]++;for(;e<=287;)p[2*e+1]=8,e++,s[8]++;for(O(p,287,s),e=0;e<a;e++)h[2*e+1]=5,h[2*e]=T(e,5);b=new E(p,u,257,o,l),v=new E(h,f,0,a,l),w=new E(new Array(0),_,0,19,7)}(),B=!0),e.l_desc=new x(e.dyn_ltree,b),e.d_desc=new x(e.dyn_dtree,v),e.bl_desc=new x(e.bl_tree,w),e.bi_buf=0,e.bi_valid=0,F(e)},n._tr_stored_block=j,n._tr_flush_block=function(e,t,n,r){var i,o,a=0;0<e.level?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<s;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),z(e,e.l_desc),z(e,e.d_desc),a=function(e){var t;for(R(e,e.dyn_ltree,e.l_desc.max_code),R(e,e.dyn_dtree,e.d_desc.max_code),z(e,e.bl_desc),t=18;3<=t&&0===e.bl_tree[2*d[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),i=e.opt_len+3+7>>>3,(o=e.static_len+3+7>>>3)<=i&&(i=o)):i=o=n+5,n+4<=i&&-1!==t?j(e,t,n,r):4===e.strategy||o===i?(A(e,2+(r?1:0),3),L(e,p,h)):(A(e,4+(r?1:0),3),function(e,t,n,r){var i;for(A(e,t-257,5),A(e,n-1,5),A(e,r-4,4),i=0;i<r;i++)A(e,e.bl_tree[2*d[i]+1],3);N(e,e.dyn_ltree,t-1),N(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),L(e,e.dyn_ltree,e.dyn_dtree)),F(e),r&&C(e)},n._tr_tally=function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(g[n]+s+1)]++,e.dyn_dtree[2*S(t)]++),e.last_lit===e.lit_bufsize-1},n._tr_align=function(e){A(e,2,3),I(e,256,p),function(e){16===e.bi_valid?(k(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):8<=e.bi_valid&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},{"../utils/common":41}],53:[function(e,t,n){"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(e,t,r){(function(e){!function(e,t){"use strict";if(!e.setImmediate){var n,r,i,s,o=1,a={},l=!1,c=e.document,u=Object.getPrototypeOf&&Object.getPrototypeOf(e);u=u&&u.setTimeout?u:e,n="[object process]"==={}.toString.call(e.process)?function(e){process.nextTick((function(){_(e)}))}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?(s="setImmediate$"+Math.random()+"$",e.addEventListener?e.addEventListener("message",d,!1):e.attachEvent("onmessage",d),function(t){e.postMessage(s+t,"*")}):e.MessageChannel?((i=new MessageChannel).port1.onmessage=function(e){_(e.data)},function(e){i.port2.postMessage(e)}):c&&"onreadystatechange"in c.createElement("script")?(r=c.documentElement,function(e){var t=c.createElement("script");t.onreadystatechange=function(){_(e),t.onreadystatechange=null,r.removeChild(t),t=null},r.appendChild(t)}):function(e){setTimeout(_,0,e)},u.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),r=0;r<t.length;r++)t[r]=arguments[r+1];var i={callback:e,args:t};return a[o]=i,n(o),o++},u.clearImmediate=f}function f(e){delete a[e]}function _(e){if(l)setTimeout(_,0,e);else{var n=a[e];if(n){l=!0;try{!function(e){var n=e.callback,r=e.args;switch(r.length){case 0:n();break;case 1:n(r[0]);break;case 2:n(r[0],r[1]);break;case 3:n(r[0],r[1],r[2]);break;default:n.apply(t,r)}}(n)}finally{f(e),l=!1}}}}function d(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(s)&&_(+t.data.slice(s.length))}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[10])(10)},8432:(e,t,n)=>{"use strict";e.exports=n.p+"40679214b5b8068ca3d9.wasm"},2556:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r,i=(r="file:///home/runner/work/boss-show-time/boss-show-time/node_modules/@sqlite.org/sqlite-wasm/sqlite-wasm/jswasm/sqlite3-bundler-friendly.mjs",function(e){var t,i,s=e||{},o=void 0!==s?s:{};o.ready=new Promise((function(e,n){t=e,i=n}));const a=globalThis.sqlite3InitModuleState||Object.assign(Object.create(null),{debugModule:()=>{}});delete globalThis.sqlite3InitModuleState,a.debugModule("globalThis.location =",globalThis.location);const l="emscripten-bug-17951";o[l]=function e(t,n){t.env.foo=function(){};const r=o.locateFile(e.uri,void 0===g?"":g);a.debugModule("instantiateWasm() uri =",r);const i=()=>fetch(r,{credentials:"same-origin"});return(WebAssembly.instantiateStreaming?async()=>WebAssembly.instantiateStreaming(i(),t).then((e=>n(e.instance,e.module))):async()=>i().then((e=>e.arrayBuffer())).then((e=>WebAssembly.instantiate(e,t))).then((e=>n(e.instance,e.module))))(),{}},o[l].uri="sqlite3.wasm";var c,u,f,_=Object.assign({},o),d=[],p="./this.program",h="object"==typeof window,m="function"==typeof importScripts,g=("object"==typeof process&&"object"==typeof process.versions&&process.versions.node,"");(h||m)&&(m?g=self.location.href:"undefined"!=typeof document&&document.currentScript&&(g=document.currentScript.src),r&&(g=r),g=0!==g.indexOf("blob:")?g.substr(0,g.replace(/[?#].*/,"").lastIndexOf("/")+1):"",c=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},m&&(f=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),u=(e,t,n)=>{var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=()=>{200==r.status||0==r.status&&r.response?t(r.response):n()},r.onerror=n,r.send(null)});var y,b,v=o.print||console.log.bind(console),w=o.printErr||console.warn.bind(console);Object.assign(o,_),_=null,o.arguments&&(d=o.arguments),o.thisProgram&&(p=o.thisProgram),o.quit&&o.quit,o.wasmBinary&&(y=o.wasmBinary),o.noExitRuntime,"object"!=typeof WebAssembly&&W("no native wasm support detected");var q=!1;var E,x,S,k,A,I="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function T(e,t,n){for(var r=t+n,i=t;e[i]&&!(i>=r);)++i;if(i-t>16&&e.buffer&&I)return I.decode(e.subarray(t,i));for(var s="";t<i;){var o=e[t++];if(128&o){var a=63&e[t++];if(192!=(224&o)){var l=63&e[t++];if((o=224==(240&o)?(15&o)<<12|a<<6|l:(7&o)<<18|a<<12|l<<6|63&e[t++])<65536)s+=String.fromCharCode(o);else{var c=o-65536;s+=String.fromCharCode(55296|c>>10,56320|1023&c)}}else s+=String.fromCharCode((31&o)<<6|a)}else s+=String.fromCharCode(o)}return s}function O(e,t,n,r){if(!(r>0))return 0;for(var i=n,s=n+r-1,o=0;o<e.length;++o){var a=e.charCodeAt(o);if(a>=55296&&a<=57343&&(a=65536+((1023&a)<<10)|1023&e.charCodeAt(++o)),a<=127){if(n>=s)break;t[n++]=a}else if(a<=2047){if(n+1>=s)break;t[n++]=192|a>>6,t[n++]=128|63&a}else if(a<=65535){if(n+2>=s)break;t[n++]=224|a>>12,t[n++]=128|a>>6&63,t[n++]=128|63&a}else{if(n+3>=s)break;t[n++]=240|a>>18,t[n++]=128|a>>12&63,t[n++]=128|a>>6&63,t[n++]=128|63&a}}return t[n]=0,n-i}function F(e,t,n){return O(e,x,t,n)}function C(e){for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);r<=127?t++:r<=2047?t+=2:r>=55296&&r<=57343?(t+=4,++n):t+=3}return t}function P(){var e=b.buffer;o.HEAP8=E=new Int8Array(e),o.HEAP16=S=new Int16Array(e),o.HEAP32=k=new Int32Array(e),o.HEAPU8=x=new Uint8Array(e),o.HEAPU16=new Uint16Array(e),o.HEAPU32=A=new Uint32Array(e),o.HEAPF32=new Float32Array(e),o.HEAPF64=new Float64Array(e),o.HEAP64=new BigInt64Array(e),o.HEAPU64=new BigUint64Array(e)}var D=o.INITIAL_MEMORY||16777216;b=o.wasmMemory?o.wasmMemory:new WebAssembly.Memory({initial:D/65536,maximum:32768}),P(),D=b.buffer.byteLength;var L=[],z=[],R=[],N=0,B=null,j=null;function M(e){N++,o.monitorRunDependencies&&o.monitorRunDependencies(N)}function U(e){if(N--,o.monitorRunDependencies&&o.monitorRunDependencies(N),0==N&&(null!==B&&(clearInterval(B),B=null),j)){var t=j;j=null,t()}}function W(e){o.onAbort&&o.onAbort(e),w(e="Aborted("+e+")"),q=!0,e+=". Build with -sASSERTIONS for more info.";var t=new WebAssembly.RuntimeError(e);throw i(t),t}var H,Q,$,V;function G(e){return e.startsWith("data:application/octet-stream;base64,")}function Z(e){try{if(e==H&&y)return new Uint8Array(y);if(f)return f(e);throw"both async and sync fetching of the wasm failed"}catch(e){W(e)}}function K(e){for(;e.length>0;)e.shift()(o)}o.locateFile?G(H="sqlite3.wasm")||(Q=H,H=o.locateFile?o.locateFile(Q,g):g+Q):H=new URL(n(8432),n.b).href;var J={isAbs:e=>"/"===e.charAt(0),splitPath:e=>/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(e).slice(1),normalizeArray:(e,t)=>{for(var n=0,r=e.length-1;r>=0;r--){var i=e[r];"."===i?e.splice(r,1):".."===i?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n;n--)e.unshift("..");return e},normalize:e=>{var t=J.isAbs(e),n="/"===e.substr(-1);return(e=J.normalizeArray(e.split("/").filter((e=>!!e)),!t).join("/"))||t||(e="."),e&&n&&(e+="/"),(t?"/":"")+e},dirname:e=>{var t=J.splitPath(e),n=t[0],r=t[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},basename:e=>{if("/"===e)return"/";var t=(e=(e=J.normalize(e)).replace(/\/$/,"")).lastIndexOf("/");return-1===t?e:e.substr(t+1)},join:function(){var e=Array.prototype.slice.call(arguments);return J.normalize(e.join("/"))},join2:(e,t)=>J.normalize(e+"/"+t)},X={resolve:function(){for(var e="",t=!1,n=arguments.length-1;n>=-1&&!t;n--){var r=n>=0?arguments[n]:re.cwd();if("string"!=typeof r)throw new TypeError("Arguments to path.resolve must be strings");if(!r)return"";e=r+"/"+e,t=J.isAbs(r)}return(t?"/":"")+(e=J.normalizeArray(e.split("/").filter((e=>!!e)),!t).join("/"))||"."},relative:(e,t)=>{function n(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=X.resolve(e).substr(1),t=X.resolve(t).substr(1);for(var r=n(e.split("/")),i=n(t.split("/")),s=Math.min(r.length,i.length),o=s,a=0;a<s;a++)if(r[a]!==i[a]){o=a;break}var l=[];for(a=o;a<r.length;a++)l.push("..");return(l=l.concat(i.slice(o))).join("/")}};function Y(e,t,n){var r=n>0?n:C(e)+1,i=new Array(r),s=O(e,i,0,i.length);return t&&(i.length=s),i}var ee={ttys:[],init:function(){},shutdown:function(){},register:function(e,t){ee.ttys[e]={input:[],output:[],ops:t},re.registerDevice(e,ee.stream_ops)},stream_ops:{open:function(e){var t=ee.ttys[e.node.rdev];if(!t)throw new re.ErrnoError(43);e.tty=t,e.seekable=!1},close:function(e){e.tty.ops.fsync(e.tty)},fsync:function(e){e.tty.ops.fsync(e.tty)},read:function(e,t,n,r,i){if(!e.tty||!e.tty.ops.get_char)throw new re.ErrnoError(60);for(var s=0,o=0;o<r;o++){var a;try{a=e.tty.ops.get_char(e.tty)}catch(e){throw new re.ErrnoError(29)}if(void 0===a&&0===s)throw new re.ErrnoError(6);if(null==a)break;s++,t[n+o]=a}return s&&(e.node.timestamp=Date.now()),s},write:function(e,t,n,r,i){if(!e.tty||!e.tty.ops.put_char)throw new re.ErrnoError(60);try{for(var s=0;s<r;s++)e.tty.ops.put_char(e.tty,t[n+s])}catch(e){throw new re.ErrnoError(29)}return r&&(e.node.timestamp=Date.now()),s}},default_tty_ops:{get_char:function(e){if(!e.input.length){var t=null;if("undefined"!=typeof window&&"function"==typeof window.prompt?null!==(t=window.prompt("Input: "))&&(t+="\n"):"function"==typeof readline&&null!==(t=readline())&&(t+="\n"),!t)return null;e.input=Y(t,!0)}return e.input.shift()},put_char:function(e,t){null===t||10===t?(v(T(e.output,0)),e.output=[]):0!=t&&e.output.push(t)},fsync:function(e){e.output&&e.output.length>0&&(v(T(e.output,0)),e.output=[])}},default_tty1_ops:{put_char:function(e,t){null===t||10===t?(w(T(e.output,0)),e.output=[]):0!=t&&e.output.push(t)},fsync:function(e){e.output&&e.output.length>0&&(w(T(e.output,0)),e.output=[])}}};function te(e){e=function(e,t){return 65536*Math.ceil(e/65536)}(e);var t=be(65536,e);return t?function(e,t){return x.fill(0,e,e+t),e}(t,e):0}var ne={ops_table:null,mount:function(e){return ne.createNode(null,"/",16895,0)},createNode:function(e,t,n,r){if(re.isBlkdev(n)||re.isFIFO(n))throw new re.ErrnoError(63);ne.ops_table||(ne.ops_table={dir:{node:{getattr:ne.node_ops.getattr,setattr:ne.node_ops.setattr,lookup:ne.node_ops.lookup,mknod:ne.node_ops.mknod,rename:ne.node_ops.rename,unlink:ne.node_ops.unlink,rmdir:ne.node_ops.rmdir,readdir:ne.node_ops.readdir,symlink:ne.node_ops.symlink},stream:{llseek:ne.stream_ops.llseek}},file:{node:{getattr:ne.node_ops.getattr,setattr:ne.node_ops.setattr},stream:{llseek:ne.stream_ops.llseek,read:ne.stream_ops.read,write:ne.stream_ops.write,allocate:ne.stream_ops.allocate,mmap:ne.stream_ops.mmap,msync:ne.stream_ops.msync}},link:{node:{getattr:ne.node_ops.getattr,setattr:ne.node_ops.setattr,readlink:ne.node_ops.readlink},stream:{}},chrdev:{node:{getattr:ne.node_ops.getattr,setattr:ne.node_ops.setattr},stream:re.chrdev_stream_ops}});var i=re.createNode(e,t,n,r);return re.isDir(i.mode)?(i.node_ops=ne.ops_table.dir.node,i.stream_ops=ne.ops_table.dir.stream,i.contents={}):re.isFile(i.mode)?(i.node_ops=ne.ops_table.file.node,i.stream_ops=ne.ops_table.file.stream,i.usedBytes=0,i.contents=null):re.isLink(i.mode)?(i.node_ops=ne.ops_table.link.node,i.stream_ops=ne.ops_table.link.stream):re.isChrdev(i.mode)&&(i.node_ops=ne.ops_table.chrdev.node,i.stream_ops=ne.ops_table.chrdev.stream),i.timestamp=Date.now(),e&&(e.contents[t]=i,e.timestamp=i.timestamp),i},getFileDataAsTypedArray:function(e){return e.contents?e.contents.subarray?e.contents.subarray(0,e.usedBytes):new Uint8Array(e.contents):new Uint8Array(0)},expandFileStorage:function(e,t){var n=e.contents?e.contents.length:0;if(!(n>=t)){t=Math.max(t,n*(n<1048576?2:1.125)>>>0),0!=n&&(t=Math.max(t,256));var r=e.contents;e.contents=new Uint8Array(t),e.usedBytes>0&&e.contents.set(r.subarray(0,e.usedBytes),0)}},resizeFileStorage:function(e,t){if(e.usedBytes!=t)if(0==t)e.contents=null,e.usedBytes=0;else{var n=e.contents;e.contents=new Uint8Array(t),n&&e.contents.set(n.subarray(0,Math.min(t,e.usedBytes))),e.usedBytes=t}},node_ops:{getattr:function(e){var t={};return t.dev=re.isChrdev(e.mode)?e.id:1,t.ino=e.id,t.mode=e.mode,t.nlink=1,t.uid=0,t.gid=0,t.rdev=e.rdev,re.isDir(e.mode)?t.size=4096:re.isFile(e.mode)?t.size=e.usedBytes:re.isLink(e.mode)?t.size=e.link.length:t.size=0,t.atime=new Date(e.timestamp),t.mtime=new Date(e.timestamp),t.ctime=new Date(e.timestamp),t.blksize=4096,t.blocks=Math.ceil(t.size/t.blksize),t},setattr:function(e,t){void 0!==t.mode&&(e.mode=t.mode),void 0!==t.timestamp&&(e.timestamp=t.timestamp),void 0!==t.size&&ne.resizeFileStorage(e,t.size)},lookup:function(e,t){throw re.genericErrors[44]},mknod:function(e,t,n,r){return ne.createNode(e,t,n,r)},rename:function(e,t,n){if(re.isDir(e.mode)){var r;try{r=re.lookupNode(t,n)}catch(e){}if(r)for(var i in r.contents)throw new re.ErrnoError(55)}delete e.parent.contents[e.name],e.parent.timestamp=Date.now(),e.name=n,t.contents[n]=e,t.timestamp=e.parent.timestamp,e.parent=t},unlink:function(e,t){delete e.contents[t],e.timestamp=Date.now()},rmdir:function(e,t){var n=re.lookupNode(e,t);for(var r in n.contents)throw new re.ErrnoError(55);delete e.contents[t],e.timestamp=Date.now()},readdir:function(e){var t=[".",".."];for(var n in e.contents)e.contents.hasOwnProperty(n)&&t.push(n);return t},symlink:function(e,t,n){var r=ne.createNode(e,t,41471,0);return r.link=n,r},readlink:function(e){if(!re.isLink(e.mode))throw new re.ErrnoError(28);return e.link}},stream_ops:{read:function(e,t,n,r,i){var s=e.node.contents;if(i>=e.node.usedBytes)return 0;var o=Math.min(e.node.usedBytes-i,r);if(o>8&&s.subarray)t.set(s.subarray(i,i+o),n);else for(var a=0;a<o;a++)t[n+a]=s[i+a];return o},write:function(e,t,n,r,i,s){if(t.buffer===E.buffer&&(s=!1),!r)return 0;var o=e.node;if(o.timestamp=Date.now(),t.subarray&&(!o.contents||o.contents.subarray)){if(s)return o.contents=t.subarray(n,n+r),o.usedBytes=r,r;if(0===o.usedBytes&&0===i)return o.contents=t.slice(n,n+r),o.usedBytes=r,r;if(i+r<=o.usedBytes)return o.contents.set(t.subarray(n,n+r),i),r}if(ne.expandFileStorage(o,i+r),o.contents.subarray&&t.subarray)o.contents.set(t.subarray(n,n+r),i);else for(var a=0;a<r;a++)o.contents[i+a]=t[n+a];return o.usedBytes=Math.max(o.usedBytes,i+r),r},llseek:function(e,t,n){var r=t;if(1===n?r+=e.position:2===n&&re.isFile(e.node.mode)&&(r+=e.node.usedBytes),r<0)throw new re.ErrnoError(28);return r},allocate:function(e,t,n){ne.expandFileStorage(e.node,t+n),e.node.usedBytes=Math.max(e.node.usedBytes,t+n)},mmap:function(e,t,n,r,i){if(!re.isFile(e.node.mode))throw new re.ErrnoError(43);var s,o,a=e.node.contents;if(2&i||a.buffer!==E.buffer){if((n>0||n+t<a.length)&&(a=a.subarray?a.subarray(n,n+t):Array.prototype.slice.call(a,n,n+t)),o=!0,!(s=te(t)))throw new re.ErrnoError(48);E.set(a,s)}else o=!1,s=a.byteOffset;return{ptr:s,allocated:o}},msync:function(e,t,n,r,i){return ne.stream_ops.write(e,t,0,r,n,!1),0}}},re={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:(e,t={})=>{if(!(e=X.resolve(e)))return{path:"",node:null};if((t=Object.assign({follow_mount:!0,recurse_count:0},t)).recurse_count>8)throw new re.ErrnoError(32);for(var n=e.split("/").filter((e=>!!e)),r=re.root,i="/",s=0;s<n.length;s++){var o=s===n.length-1;if(o&&t.parent)break;if(r=re.lookupNode(r,n[s]),i=J.join2(i,n[s]),re.isMountpoint(r)&&(!o||o&&t.follow_mount)&&(r=r.mounted.root),!o||t.follow)for(var a=0;re.isLink(r.mode);){var l=re.readlink(i);if(i=X.resolve(J.dirname(i),l),r=re.lookupPath(i,{recurse_count:t.recurse_count+1}).node,a++>40)throw new re.ErrnoError(32)}}return{path:i,node:r}},getPath:e=>{for(var t;;){if(re.isRoot(e)){var n=e.mount.mountpoint;return t?"/"!==n[n.length-1]?n+"/"+t:n+t:n}t=t?e.name+"/"+t:e.name,e=e.parent}},hashName:(e,t)=>{for(var n=0,r=0;r<t.length;r++)n=(n<<5)-n+t.charCodeAt(r)|0;return(e+n>>>0)%re.nameTable.length},hashAddNode:e=>{var t=re.hashName(e.parent.id,e.name);e.name_next=re.nameTable[t],re.nameTable[t]=e},hashRemoveNode:e=>{var t=re.hashName(e.parent.id,e.name);if(re.nameTable[t]===e)re.nameTable[t]=e.name_next;else for(var n=re.nameTable[t];n;){if(n.name_next===e){n.name_next=e.name_next;break}n=n.name_next}},lookupNode:(e,t)=>{var n=re.mayLookup(e);if(n)throw new re.ErrnoError(n,e);for(var r=re.hashName(e.id,t),i=re.nameTable[r];i;i=i.name_next){var s=i.name;if(i.parent.id===e.id&&s===t)return i}return re.lookup(e,t)},createNode:(e,t,n,r)=>{var i=new re.FSNode(e,t,n,r);return re.hashAddNode(i),i},destroyNode:e=>{re.hashRemoveNode(e)},isRoot:e=>e===e.parent,isMountpoint:e=>!!e.mounted,isFile:e=>32768==(61440&e),isDir:e=>16384==(61440&e),isLink:e=>40960==(61440&e),isChrdev:e=>8192==(61440&e),isBlkdev:e=>24576==(61440&e),isFIFO:e=>4096==(61440&e),isSocket:e=>!(49152&~e),flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:e=>{var t=re.flagModes[e];if(void 0===t)throw new Error("Unknown file open mode: "+e);return t},flagsToPermissionString:e=>{var t=["r","w","rw"][3&e];return 512&e&&(t+="w"),t},nodePermissions:(e,t)=>re.ignorePermissions||(!t.includes("r")||292&e.mode)&&(!t.includes("w")||146&e.mode)&&(!t.includes("x")||73&e.mode)?0:2,mayLookup:e=>re.nodePermissions(e,"x")||(e.node_ops.lookup?0:2),mayCreate:(e,t)=>{try{return re.lookupNode(e,t),20}catch(e){}return re.nodePermissions(e,"wx")},mayDelete:(e,t,n)=>{var r;try{r=re.lookupNode(e,t)}catch(e){return e.errno}var i=re.nodePermissions(e,"wx");if(i)return i;if(n){if(!re.isDir(r.mode))return 54;if(re.isRoot(r)||re.getPath(r)===re.cwd())return 10}else if(re.isDir(r.mode))return 31;return 0},mayOpen:(e,t)=>e?re.isLink(e.mode)?32:re.isDir(e.mode)&&("r"!==re.flagsToPermissionString(t)||512&t)?31:re.nodePermissions(e,re.flagsToPermissionString(t)):44,MAX_OPEN_FDS:4096,nextfd:(e=0,t=re.MAX_OPEN_FDS)=>{for(var n=e;n<=t;n++)if(!re.streams[n])return n;throw new re.ErrnoError(33)},getStream:e=>re.streams[e],createStream:(e,t,n)=>{re.FSStream||(re.FSStream=function(){this.shared={}},re.FSStream.prototype={},Object.defineProperties(re.FSStream.prototype,{object:{get:function(){return this.node},set:function(e){this.node=e}},isRead:{get:function(){return 1!=(2097155&this.flags)}},isWrite:{get:function(){return!!(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}},flags:{get:function(){return this.shared.flags},set:function(e){this.shared.flags=e}},position:{get:function(){return this.shared.position},set:function(e){this.shared.position=e}}})),e=Object.assign(new re.FSStream,e);var r=re.nextfd(t,n);return e.fd=r,re.streams[r]=e,e},closeStream:e=>{re.streams[e]=null},chrdev_stream_ops:{open:e=>{var t=re.getDevice(e.node.rdev);e.stream_ops=t.stream_ops,e.stream_ops.open&&e.stream_ops.open(e)},llseek:()=>{throw new re.ErrnoError(70)}},major:e=>e>>8,minor:e=>255&e,makedev:(e,t)=>e<<8|t,registerDevice:(e,t)=>{re.devices[e]={stream_ops:t}},getDevice:e=>re.devices[e],getMounts:e=>{for(var t=[],n=[e];n.length;){var r=n.pop();t.push(r),n.push.apply(n,r.mounts)}return t},syncfs:(e,t)=>{"function"==typeof e&&(t=e,e=!1),re.syncFSRequests++,re.syncFSRequests>1&&w("warning: "+re.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var n=re.getMounts(re.root.mount),r=0;function i(e){return re.syncFSRequests--,t(e)}function s(e){if(e)return s.errored?void 0:(s.errored=!0,i(e));++r>=n.length&&i(null)}n.forEach((t=>{if(!t.type.syncfs)return s(null);t.type.syncfs(t,e,s)}))},mount:(e,t,n)=>{var r,i="/"===n,s=!n;if(i&&re.root)throw new re.ErrnoError(10);if(!i&&!s){var o=re.lookupPath(n,{follow_mount:!1});if(n=o.path,r=o.node,re.isMountpoint(r))throw new re.ErrnoError(10);if(!re.isDir(r.mode))throw new re.ErrnoError(54)}var a={type:e,opts:t,mountpoint:n,mounts:[]},l=e.mount(a);return l.mount=a,a.root=l,i?re.root=l:r&&(r.mounted=a,r.mount&&r.mount.mounts.push(a)),l},unmount:e=>{var t=re.lookupPath(e,{follow_mount:!1});if(!re.isMountpoint(t.node))throw new re.ErrnoError(28);var n=t.node,r=n.mounted,i=re.getMounts(r);Object.keys(re.nameTable).forEach((e=>{for(var t=re.nameTable[e];t;){var n=t.name_next;i.includes(t.mount)&&re.destroyNode(t),t=n}})),n.mounted=null;var s=n.mount.mounts.indexOf(r);n.mount.mounts.splice(s,1)},lookup:(e,t)=>e.node_ops.lookup(e,t),mknod:(e,t,n)=>{var r=re.lookupPath(e,{parent:!0}).node,i=J.basename(e);if(!i||"."===i||".."===i)throw new re.ErrnoError(28);var s=re.mayCreate(r,i);if(s)throw new re.ErrnoError(s);if(!r.node_ops.mknod)throw new re.ErrnoError(63);return r.node_ops.mknod(r,i,t,n)},create:(e,t)=>(t=void 0!==t?t:438,t&=4095,t|=32768,re.mknod(e,t,0)),mkdir:(e,t)=>(t=void 0!==t?t:511,t&=1023,t|=16384,re.mknod(e,t,0)),mkdirTree:(e,t)=>{for(var n=e.split("/"),r="",i=0;i<n.length;++i)if(n[i]){r+="/"+n[i];try{re.mkdir(r,t)}catch(e){if(20!=e.errno)throw e}}},mkdev:(e,t,n)=>(void 0===n&&(n=t,t=438),t|=8192,re.mknod(e,t,n)),symlink:(e,t)=>{if(!X.resolve(e))throw new re.ErrnoError(44);var n=re.lookupPath(t,{parent:!0}).node;if(!n)throw new re.ErrnoError(44);var r=J.basename(t),i=re.mayCreate(n,r);if(i)throw new re.ErrnoError(i);if(!n.node_ops.symlink)throw new re.ErrnoError(63);return n.node_ops.symlink(n,r,e)},rename:(e,t)=>{var n,r,i=J.dirname(e),s=J.dirname(t),o=J.basename(e),a=J.basename(t);if(n=re.lookupPath(e,{parent:!0}).node,r=re.lookupPath(t,{parent:!0}).node,!n||!r)throw new re.ErrnoError(44);if(n.mount!==r.mount)throw new re.ErrnoError(75);var l,c=re.lookupNode(n,o),u=X.relative(e,s);if("."!==u.charAt(0))throw new re.ErrnoError(28);if("."!==(u=X.relative(t,i)).charAt(0))throw new re.ErrnoError(55);try{l=re.lookupNode(r,a)}catch(e){}if(c!==l){var f=re.isDir(c.mode),_=re.mayDelete(n,o,f);if(_)throw new re.ErrnoError(_);if(_=l?re.mayDelete(r,a,f):re.mayCreate(r,a))throw new re.ErrnoError(_);if(!n.node_ops.rename)throw new re.ErrnoError(63);if(re.isMountpoint(c)||l&&re.isMountpoint(l))throw new re.ErrnoError(10);if(r!==n&&(_=re.nodePermissions(n,"w")))throw new re.ErrnoError(_);re.hashRemoveNode(c);try{n.node_ops.rename(c,r,a)}catch(e){throw e}finally{re.hashAddNode(c)}}},rmdir:e=>{var t=re.lookupPath(e,{parent:!0}).node,n=J.basename(e),r=re.lookupNode(t,n),i=re.mayDelete(t,n,!0);if(i)throw new re.ErrnoError(i);if(!t.node_ops.rmdir)throw new re.ErrnoError(63);if(re.isMountpoint(r))throw new re.ErrnoError(10);t.node_ops.rmdir(t,n),re.destroyNode(r)},readdir:e=>{var t=re.lookupPath(e,{follow:!0}).node;if(!t.node_ops.readdir)throw new re.ErrnoError(54);return t.node_ops.readdir(t)},unlink:e=>{var t=re.lookupPath(e,{parent:!0}).node;if(!t)throw new re.ErrnoError(44);var n=J.basename(e),r=re.lookupNode(t,n),i=re.mayDelete(t,n,!1);if(i)throw new re.ErrnoError(i);if(!t.node_ops.unlink)throw new re.ErrnoError(63);if(re.isMountpoint(r))throw new re.ErrnoError(10);t.node_ops.unlink(t,n),re.destroyNode(r)},readlink:e=>{var t=re.lookupPath(e).node;if(!t)throw new re.ErrnoError(44);if(!t.node_ops.readlink)throw new re.ErrnoError(28);return X.resolve(re.getPath(t.parent),t.node_ops.readlink(t))},stat:(e,t)=>{var n=re.lookupPath(e,{follow:!t}).node;if(!n)throw new re.ErrnoError(44);if(!n.node_ops.getattr)throw new re.ErrnoError(63);return n.node_ops.getattr(n)},lstat:e=>re.stat(e,!0),chmod:(e,t,n)=>{var r;if(!(r="string"==typeof e?re.lookupPath(e,{follow:!n}).node:e).node_ops.setattr)throw new re.ErrnoError(63);r.node_ops.setattr(r,{mode:4095&t|-4096&r.mode,timestamp:Date.now()})},lchmod:(e,t)=>{re.chmod(e,t,!0)},fchmod:(e,t)=>{var n=re.getStream(e);if(!n)throw new re.ErrnoError(8);re.chmod(n.node,t)},chown:(e,t,n,r)=>{var i;if(!(i="string"==typeof e?re.lookupPath(e,{follow:!r}).node:e).node_ops.setattr)throw new re.ErrnoError(63);i.node_ops.setattr(i,{timestamp:Date.now()})},lchown:(e,t,n)=>{re.chown(e,t,n,!0)},fchown:(e,t,n)=>{var r=re.getStream(e);if(!r)throw new re.ErrnoError(8);re.chown(r.node,t,n)},truncate:(e,t)=>{if(t<0)throw new re.ErrnoError(28);var n;if(!(n="string"==typeof e?re.lookupPath(e,{follow:!0}).node:e).node_ops.setattr)throw new re.ErrnoError(63);if(re.isDir(n.mode))throw new re.ErrnoError(31);if(!re.isFile(n.mode))throw new re.ErrnoError(28);var r=re.nodePermissions(n,"w");if(r)throw new re.ErrnoError(r);n.node_ops.setattr(n,{size:t,timestamp:Date.now()})},ftruncate:(e,t)=>{var n=re.getStream(e);if(!n)throw new re.ErrnoError(8);if(!(2097155&n.flags))throw new re.ErrnoError(28);re.truncate(n.node,t)},utime:(e,t,n)=>{var r=re.lookupPath(e,{follow:!0}).node;r.node_ops.setattr(r,{timestamp:Math.max(t,n)})},open:(e,t,n)=>{if(""===e)throw new re.ErrnoError(44);var r;if(n=void 0===n?438:n,n=64&(t="string"==typeof t?re.modeStringToFlags(t):t)?4095&n|32768:0,"object"==typeof e)r=e;else{e=J.normalize(e);try{r=re.lookupPath(e,{follow:!(131072&t)}).node}catch(e){}}var i=!1;if(64&t)if(r){if(128&t)throw new re.ErrnoError(20)}else r=re.mknod(e,n,0),i=!0;if(!r)throw new re.ErrnoError(44);if(re.isChrdev(r.mode)&&(t&=-513),65536&t&&!re.isDir(r.mode))throw new re.ErrnoError(54);if(!i){var s=re.mayOpen(r,t);if(s)throw new re.ErrnoError(s)}512&t&&!i&&re.truncate(r,0),t&=-131713;var a=re.createStream({node:r,path:re.getPath(r),flags:t,seekable:!0,position:0,stream_ops:r.stream_ops,ungotten:[],error:!1});return a.stream_ops.open&&a.stream_ops.open(a),!o.logReadFiles||1&t||(re.readFiles||(re.readFiles={}),e in re.readFiles||(re.readFiles[e]=1)),a},close:e=>{if(re.isClosed(e))throw new re.ErrnoError(8);e.getdents&&(e.getdents=null);try{e.stream_ops.close&&e.stream_ops.close(e)}catch(e){throw e}finally{re.closeStream(e.fd)}e.fd=null},isClosed:e=>null===e.fd,llseek:(e,t,n)=>{if(re.isClosed(e))throw new re.ErrnoError(8);if(!e.seekable||!e.stream_ops.llseek)throw new re.ErrnoError(70);if(0!=n&&1!=n&&2!=n)throw new re.ErrnoError(28);return e.position=e.stream_ops.llseek(e,t,n),e.ungotten=[],e.position},read:(e,t,n,r,i)=>{if(r<0||i<0)throw new re.ErrnoError(28);if(re.isClosed(e))throw new re.ErrnoError(8);if(1==(2097155&e.flags))throw new re.ErrnoError(8);if(re.isDir(e.node.mode))throw new re.ErrnoError(31);if(!e.stream_ops.read)throw new re.ErrnoError(28);var s=void 0!==i;if(s){if(!e.seekable)throw new re.ErrnoError(70)}else i=e.position;var o=e.stream_ops.read(e,t,n,r,i);return s||(e.position+=o),o},write:(e,t,n,r,i,s)=>{if(r<0||i<0)throw new re.ErrnoError(28);if(re.isClosed(e))throw new re.ErrnoError(8);if(!(2097155&e.flags))throw new re.ErrnoError(8);if(re.isDir(e.node.mode))throw new re.ErrnoError(31);if(!e.stream_ops.write)throw new re.ErrnoError(28);e.seekable&&1024&e.flags&&re.llseek(e,0,2);var o=void 0!==i;if(o){if(!e.seekable)throw new re.ErrnoError(70)}else i=e.position;var a=e.stream_ops.write(e,t,n,r,i,s);return o||(e.position+=a),a},allocate:(e,t,n)=>{if(re.isClosed(e))throw new re.ErrnoError(8);if(t<0||n<=0)throw new re.ErrnoError(28);if(!(2097155&e.flags))throw new re.ErrnoError(8);if(!re.isFile(e.node.mode)&&!re.isDir(e.node.mode))throw new re.ErrnoError(43);if(!e.stream_ops.allocate)throw new re.ErrnoError(138);e.stream_ops.allocate(e,t,n)},mmap:(e,t,n,r,i)=>{if(2&r&&!(2&i)&&2!=(2097155&e.flags))throw new re.ErrnoError(2);if(1==(2097155&e.flags))throw new re.ErrnoError(2);if(!e.stream_ops.mmap)throw new re.ErrnoError(43);return e.stream_ops.mmap(e,t,n,r,i)},msync:(e,t,n,r,i)=>e.stream_ops.msync?e.stream_ops.msync(e,t,n,r,i):0,munmap:e=>0,ioctl:(e,t,n)=>{if(!e.stream_ops.ioctl)throw new re.ErrnoError(59);return e.stream_ops.ioctl(e,t,n)},readFile:(e,t={})=>{if(t.flags=t.flags||0,t.encoding=t.encoding||"binary","utf8"!==t.encoding&&"binary"!==t.encoding)throw new Error('Invalid encoding type "'+t.encoding+'"');var n,r=re.open(e,t.flags),i=re.stat(e).size,s=new Uint8Array(i);return re.read(r,s,0,i,0),"utf8"===t.encoding?n=T(s,0):"binary"===t.encoding&&(n=s),re.close(r),n},writeFile:(e,t,n={})=>{n.flags=n.flags||577;var r=re.open(e,n.flags,n.mode);if("string"==typeof t){var i=new Uint8Array(C(t)+1),s=O(t,i,0,i.length);re.write(r,i,0,s,void 0,n.canOwn)}else{if(!ArrayBuffer.isView(t))throw new Error("Unsupported data type");re.write(r,t,0,t.byteLength,void 0,n.canOwn)}re.close(r)},cwd:()=>re.currentPath,chdir:e=>{var t=re.lookupPath(e,{follow:!0});if(null===t.node)throw new re.ErrnoError(44);if(!re.isDir(t.node.mode))throw new re.ErrnoError(54);var n=re.nodePermissions(t.node,"x");if(n)throw new re.ErrnoError(n);re.currentPath=t.path},createDefaultDirectories:()=>{re.mkdir("/tmp"),re.mkdir("/home"),re.mkdir("/home/web_user")},createDefaultDevices:()=>{re.mkdir("/dev"),re.registerDevice(re.makedev(1,3),{read:()=>0,write:(e,t,n,r,i)=>r}),re.mkdev("/dev/null",re.makedev(1,3)),ee.register(re.makedev(5,0),ee.default_tty_ops),ee.register(re.makedev(6,0),ee.default_tty1_ops),re.mkdev("/dev/tty",re.makedev(5,0)),re.mkdev("/dev/tty1",re.makedev(6,0));var e=function(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var e=new Uint8Array(1);return()=>(crypto.getRandomValues(e),e[0])}return()=>W("randomDevice")}();re.createDevice("/dev","random",e),re.createDevice("/dev","urandom",e),re.mkdir("/dev/shm"),re.mkdir("/dev/shm/tmp")},createSpecialDirectories:()=>{re.mkdir("/proc");var e=re.mkdir("/proc/self");re.mkdir("/proc/self/fd"),re.mount({mount:()=>{var t=re.createNode(e,"fd",16895,73);return t.node_ops={lookup:(e,t)=>{var n=+t,r=re.getStream(n);if(!r)throw new re.ErrnoError(8);var i={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>r.path}};return i.parent=i,i}},t}},{},"/proc/self/fd")},createStandardStreams:()=>{o.stdin?re.createDevice("/dev","stdin",o.stdin):re.symlink("/dev/tty","/dev/stdin"),o.stdout?re.createDevice("/dev","stdout",null,o.stdout):re.symlink("/dev/tty","/dev/stdout"),o.stderr?re.createDevice("/dev","stderr",null,o.stderr):re.symlink("/dev/tty1","/dev/stderr"),re.open("/dev/stdin",0),re.open("/dev/stdout",1),re.open("/dev/stderr",1)},ensureErrnoError:()=>{re.ErrnoError||(re.ErrnoError=function(e,t){this.node=t,this.setErrno=function(e){this.errno=e},this.setErrno(e),this.message="FS error"},re.ErrnoError.prototype=new Error,re.ErrnoError.prototype.constructor=re.ErrnoError,[44].forEach((e=>{re.genericErrors[e]=new re.ErrnoError(e),re.genericErrors[e].stack="<generic error, no stack>"})))},staticInit:()=>{re.ensureErrnoError(),re.nameTable=new Array(4096),re.mount(ne,{},"/"),re.createDefaultDirectories(),re.createDefaultDevices(),re.createSpecialDirectories(),re.filesystems={MEMFS:ne}},init:(e,t,n)=>{re.init.initialized=!0,re.ensureErrnoError(),o.stdin=e||o.stdin,o.stdout=t||o.stdout,o.stderr=n||o.stderr,re.createStandardStreams()},quit:()=>{re.init.initialized=!1;for(var e=0;e<re.streams.length;e++){var t=re.streams[e];t&&re.close(t)}},getMode:(e,t)=>{var n=0;return e&&(n|=365),t&&(n|=146),n},findObject:(e,t)=>{var n=re.analyzePath(e,t);return n.exists?n.object:null},analyzePath:(e,t)=>{try{e=(r=re.lookupPath(e,{follow:!t})).path}catch(e){}var n={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var r=re.lookupPath(e,{parent:!0});n.parentExists=!0,n.parentPath=r.path,n.parentObject=r.node,n.name=J.basename(e),r=re.lookupPath(e,{follow:!t}),n.exists=!0,n.path=r.path,n.object=r.node,n.name=r.node.name,n.isRoot="/"===r.path}catch(e){n.error=e.errno}return n},createPath:(e,t,n,r)=>{e="string"==typeof e?e:re.getPath(e);for(var i=t.split("/").reverse();i.length;){var s=i.pop();if(s){var o=J.join2(e,s);try{re.mkdir(o)}catch(e){}e=o}}return o},createFile:(e,t,n,r,i)=>{var s=J.join2("string"==typeof e?e:re.getPath(e),t),o=re.getMode(r,i);return re.create(s,o)},createDataFile:(e,t,n,r,i,s)=>{var o=t;e&&(e="string"==typeof e?e:re.getPath(e),o=t?J.join2(e,t):e);var a=re.getMode(r,i),l=re.create(o,a);if(n){if("string"==typeof n){for(var c=new Array(n.length),u=0,f=n.length;u<f;++u)c[u]=n.charCodeAt(u);n=c}re.chmod(l,146|a);var _=re.open(l,577);re.write(_,n,0,n.length,0,s),re.close(_),re.chmod(l,a)}return l},createDevice:(e,t,n,r)=>{var i=J.join2("string"==typeof e?e:re.getPath(e),t),s=re.getMode(!!n,!!r);re.createDevice.major||(re.createDevice.major=64);var o=re.makedev(re.createDevice.major++,0);return re.registerDevice(o,{open:e=>{e.seekable=!1},close:e=>{r&&r.buffer&&r.buffer.length&&r(10)},read:(e,t,r,i,s)=>{for(var o=0,a=0;a<i;a++){var l;try{l=n()}catch(e){throw new re.ErrnoError(29)}if(void 0===l&&0===o)throw new re.ErrnoError(6);if(null==l)break;o++,t[r+a]=l}return o&&(e.node.timestamp=Date.now()),o},write:(e,t,n,i,s)=>{for(var o=0;o<i;o++)try{r(t[n+o])}catch(e){throw new re.ErrnoError(29)}return i&&(e.node.timestamp=Date.now()),o}}),re.mkdev(i,s,o)},forceLoadFile:e=>{if(e.isDevice||e.isFolder||e.link||e.contents)return!0;if("undefined"!=typeof XMLHttpRequest)throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!c)throw new Error("Cannot load without read() or XMLHttpRequest.");try{e.contents=Y(c(e.url),!0),e.usedBytes=e.contents.length}catch(e){throw new re.ErrnoError(29)}},createLazyFile:(e,t,n,r,i)=>{function s(){this.lengthKnown=!1,this.chunks=[]}if(s.prototype.get=function(e){if(!(e>this.length-1||e<0)){var t=e%this.chunkSize,n=e/this.chunkSize|0;return this.getter(n)[t]}},s.prototype.setDataGetter=function(e){this.getter=e},s.prototype.cacheLength=function(){var e=new XMLHttpRequest;if(e.open("HEAD",n,!1),e.send(null),!(e.status>=200&&e.status<300||304===e.status))throw new Error("Couldn't load "+n+". Status: "+e.status);var t,r=Number(e.getResponseHeader("Content-length")),i=(t=e.getResponseHeader("Accept-Ranges"))&&"bytes"===t,s=(t=e.getResponseHeader("Content-Encoding"))&&"gzip"===t,o=1048576;i||(o=r);var a=this;a.setDataGetter((e=>{var t=e*o,i=(e+1)*o-1;if(i=Math.min(i,r-1),void 0===a.chunks[e]&&(a.chunks[e]=((e,t)=>{if(e>t)throw new Error("invalid range ("+e+", "+t+") or no bytes requested!");if(t>r-1)throw new Error("only "+r+" bytes available! programmer error!");var i=new XMLHttpRequest;if(i.open("GET",n,!1),r!==o&&i.setRequestHeader("Range","bytes="+e+"-"+t),i.responseType="arraybuffer",i.overrideMimeType&&i.overrideMimeType("text/plain; charset=x-user-defined"),i.send(null),!(i.status>=200&&i.status<300||304===i.status))throw new Error("Couldn't load "+n+". Status: "+i.status);return void 0!==i.response?new Uint8Array(i.response||[]):Y(i.responseText||"",!0)})(t,i)),void 0===a.chunks[e])throw new Error("doXHR failed!");return a.chunks[e]})),!s&&r||(o=r=1,r=this.getter(0).length,o=r,v("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=r,this._chunkSize=o,this.lengthKnown=!0},"undefined"!=typeof XMLHttpRequest){if(!m)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var o=new s;Object.defineProperties(o,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var a={isDevice:!1,contents:o}}else a={isDevice:!1,url:n};var l=re.createFile(e,t,a,r,i);a.contents?l.contents=a.contents:a.url&&(l.contents=null,l.url=a.url),Object.defineProperties(l,{usedBytes:{get:function(){return this.contents.length}}});var c={};function u(e,t,n,r,i){var s=e.node.contents;if(i>=s.length)return 0;var o=Math.min(s.length-i,r);if(s.slice)for(var a=0;a<o;a++)t[n+a]=s[i+a];else for(a=0;a<o;a++)t[n+a]=s.get(i+a);return o}return Object.keys(l.stream_ops).forEach((e=>{var t=l.stream_ops[e];c[e]=function(){return re.forceLoadFile(l),t.apply(null,arguments)}})),c.read=(e,t,n,r,i)=>(re.forceLoadFile(l),u(e,t,n,r,i)),c.mmap=(e,t,n,r,i)=>{re.forceLoadFile(l);var s=te(t);if(!s)throw new re.ErrnoError(48);return u(e,E,s,t,n),{ptr:s,allocated:!0}},l.stream_ops=c,l},createPreloadedFile:(e,t,n,r,i,s,o,a,l,c)=>{var f=t?X.resolve(J.join2(e,t)):e;function _(n){function u(n){c&&c(),a||re.createDataFile(e,t,n,r,i,l),s&&s(),U()}Browser.handledByPreloadPlugin(n,f,u,(()=>{o&&o(),U()}))||u(n)}M(),"string"==typeof n?function(e,t,n,r){var i="al "+e;u(e,(t=>{var n;n='Loading data file "'+e+'" failed (no arrayBuffer).',t||W(n),_(new Uint8Array(t)),i&&U()}),(t=>{if(!n)throw'Loading data file "'+e+'" failed.';n()})),i&&M()}(n,0,o):_(n)},indexedDB:()=>window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,DB_NAME:()=>"EM_FS_"+window.location.pathname,DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:(e,t,n)=>{t=t||(()=>{}),n=n||(()=>{});var r=re.indexedDB();try{var i=r.open(re.DB_NAME(),re.DB_VERSION)}catch(e){return n(e)}i.onupgradeneeded=()=>{v("creating db"),i.result.createObjectStore(re.DB_STORE_NAME)},i.onsuccess=()=>{var r=i.result.transaction([re.DB_STORE_NAME],"readwrite"),s=r.objectStore(re.DB_STORE_NAME),o=0,a=0,l=e.length;function c(){0==a?t():n()}e.forEach((e=>{var t=s.put(re.analyzePath(e).object.contents,e);t.onsuccess=()=>{++o+a==l&&c()},t.onerror=()=>{a++,o+a==l&&c()}})),r.onerror=n},i.onerror=n},loadFilesFromDB:(e,t,n)=>{t=t||(()=>{}),n=n||(()=>{});var r=re.indexedDB();try{var i=r.open(re.DB_NAME(),re.DB_VERSION)}catch(e){return n(e)}i.onupgradeneeded=n,i.onsuccess=()=>{var r=i.result;try{var s=r.transaction([re.DB_STORE_NAME],"readonly")}catch(e){return void n(e)}var o=s.objectStore(re.DB_STORE_NAME),a=0,l=0,c=e.length;function u(){0==l?t():n()}e.forEach((e=>{var t=o.get(e);t.onsuccess=()=>{re.analyzePath(e).exists&&re.unlink(e),re.createDataFile(J.dirname(e),J.basename(e),t.result,!0,!0,!0),++a+l==c&&u()},t.onerror=()=>{l++,a+l==c&&u()}})),s.onerror=n},i.onerror=n}},ie={DEFAULT_POLLMASK:5,calculateAt:function(e,t,n){if(J.isAbs(t))return t;var r;if(r=-100===e?re.cwd():ie.getStreamFromFD(e).path,0==t.length){if(!n)throw new re.ErrnoError(44);return r}return J.join2(r,t)},doStat:function(e,t,n){try{var r=e(t)}catch(e){if(e&&e.node&&J.normalize(t)!==J.normalize(re.getPath(e.node)))return-54;throw e}k[n>>2]=r.dev,k[n+8>>2]=r.ino,k[n+12>>2]=r.mode,A[n+16>>2]=r.nlink,k[n+20>>2]=r.uid,k[n+24>>2]=r.gid,k[n+28>>2]=r.rdev,V=[r.size>>>0,($=r.size,+Math.abs($)>=1?$>0?(0|Math.min(+Math.floor($/4294967296),4294967295))>>>0:~~+Math.ceil(($-+(~~$>>>0))/4294967296)>>>0:0)],k[n+40>>2]=V[0],k[n+44>>2]=V[1],k[n+48>>2]=4096,k[n+52>>2]=r.blocks;var i=r.atime.getTime(),s=r.mtime.getTime(),o=r.ctime.getTime();return V=[Math.floor(i/1e3)>>>0,($=Math.floor(i/1e3),+Math.abs($)>=1?$>0?(0|Math.min(+Math.floor($/4294967296),4294967295))>>>0:~~+Math.ceil(($-+(~~$>>>0))/4294967296)>>>0:0)],k[n+56>>2]=V[0],k[n+60>>2]=V[1],A[n+64>>2]=i%1e3*1e3,V=[Math.floor(s/1e3)>>>0,($=Math.floor(s/1e3),+Math.abs($)>=1?$>0?(0|Math.min(+Math.floor($/4294967296),4294967295))>>>0:~~+Math.ceil(($-+(~~$>>>0))/4294967296)>>>0:0)],k[n+72>>2]=V[0],k[n+76>>2]=V[1],A[n+80>>2]=s%1e3*1e3,V=[Math.floor(o/1e3)>>>0,($=Math.floor(o/1e3),+Math.abs($)>=1?$>0?(0|Math.min(+Math.floor($/4294967296),4294967295))>>>0:~~+Math.ceil(($-+(~~$>>>0))/4294967296)>>>0:0)],k[n+88>>2]=V[0],k[n+92>>2]=V[1],A[n+96>>2]=o%1e3*1e3,V=[r.ino>>>0,($=r.ino,+Math.abs($)>=1?$>0?(0|Math.min(+Math.floor($/4294967296),4294967295))>>>0:~~+Math.ceil(($-+(~~$>>>0))/4294967296)>>>0:0)],k[n+104>>2]=V[0],k[n+108>>2]=V[1],0},doMsync:function(e,t,n,r,i){if(!re.isFile(t.node.mode))throw new re.ErrnoError(43);if(2&r)return 0;var s=x.slice(e,e+n);re.msync(t,s,i,n,r)},varargs:void 0,get:function(){return ie.varargs+=4,k[ie.varargs-4>>2]},getStr:function(e){var t=function(e,t){return e?T(x,e,void 0):""}(e);return t},getStreamFromFD:function(e){var t=re.getStream(e);if(!t)throw new re.ErrnoError(8);return t}};function se(e){return e<-9007199254740992||e>9007199254740992?NaN:Number(e)}function oe(e){return A[e>>2]+4294967296*k[e+4>>2]}var ae,le=[0,31,60,91,121,152,182,213,244,274,305,335],ce=[0,31,59,90,120,151,181,212,243,273,304,334];function ue(e){var t=C(e)+1,n=ye(t);return n&&O(e,E,n,t),n}function fe(e){var t=b.buffer;try{return b.grow(e-t.byteLength+65535>>>16),P(),1}catch(e){}}ae=()=>performance.now();var _e={};function de(){if(!de.strings){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:p||"./this.program"};for(var t in _e)void 0===_e[t]?delete e[t]:e[t]=_e[t];var n=[];for(var t in e)n.push(t+"="+e[t]);de.strings=n}return de.strings}var pe=function(e,t,n,r){e||(e=this),this.parent=e,this.mount=e.mount,this.mounted=null,this.id=re.nextInode++,this.name=t,this.mode=n,this.node_ops={},this.stream_ops={},this.rdev=r};Object.defineProperties(pe.prototype,{read:{get:function(){return!(365&~this.mode)},set:function(e){e?this.mode|=365:this.mode&=-366}},write:{get:function(){return!(146&~this.mode)},set:function(e){e?this.mode|=146:this.mode&=-147}},isFolder:{get:function(){return re.isDir(this.mode)}},isDevice:{get:function(){return re.isChrdev(this.mode)}}}),re.FSNode=pe,re.staticInit();var he,me={__syscall_chmod:function(e,t){try{return e=ie.getStr(e),re.chmod(e,t),0}catch(e){if(void 0===re||!(e instanceof re.ErrnoError))throw e;return-e.errno}},__syscall_faccessat:function(e,t,n,r){try{if(t=ie.getStr(t),t=ie.calculateAt(e,t),-8&n)return-28;var i=re.lookupPath(t,{follow:!0}).node;if(!i)return-44;var s="";return 4&n&&(s+="r"),2&n&&(s+="w"),1&n&&(s+="x"),s&&re.nodePermissions(i,s)?-2:0}catch(e){if(void 0===re||!(e instanceof re.ErrnoError))throw e;return-e.errno}},__syscall_fchmod:function(e,t){try{return re.fchmod(e,t),0}catch(e){if(void 0===re||!(e instanceof re.ErrnoError))throw e;return-e.errno}},__syscall_fchown32:function(e,t,n){try{return re.fchown(e,t,n),0}catch(e){if(void 0===re||!(e instanceof re.ErrnoError))throw e;return-e.errno}},__syscall_fcntl64:function(e,t,n){ie.varargs=n;try{var r=ie.getStreamFromFD(e);switch(t){case 0:return(i=ie.get())<0?-28:re.createStream(r,i).fd;case 1:case 2:case 6:case 7:return 0;case 3:return r.flags;case 4:var i=ie.get();return r.flags|=i,0;case 5:return i=ie.get(),S[i+0>>1]=2,0;case 16:case 8:default:return-28;case 9:return 28,k[ge()>>2]=28,-1}}catch(e){if(void 0===re||!(e instanceof re.ErrnoError))throw e;return-e.errno}},__syscall_fstat64:function(e,t){try{var n=ie.getStreamFromFD(e);return ie.doStat(re.stat,n.path,t)}catch(e){if(void 0===re||!(e instanceof re.ErrnoError))throw e;return-e.errno}},__syscall_ftruncate64:function(e,t){try{return t=se(t),isNaN(t)?-61:(re.ftruncate(e,t),0)}catch(e){if(void 0===re||!(e instanceof re.ErrnoError))throw e;return-e.errno}},__syscall_getcwd:function(e,t){try{if(0===t)return-28;var n=re.cwd(),r=C(n)+1;return t<r?-68:(F(n,e,t),r)}catch(e){if(void 0===re||!(e instanceof re.ErrnoError))throw e;return-e.errno}},__syscall_ioctl:function(e,t,n){ie.varargs=n;try{var r=ie.getStreamFromFD(e);switch(t){case 21509:case 21505:case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:case 21523:case 21524:return r.tty?0:-59;case 21519:if(!r.tty)return-59;var i=ie.get();return k[i>>2]=0,0;case 21520:return r.tty?-28:-59;case 21531:return i=ie.get(),re.ioctl(r,t,i);default:return-28}}catch(e){if(void 0===re||!(e instanceof re.ErrnoError))throw e;return-e.errno}},__syscall_lstat64:function(e,t){try{return e=ie.getStr(e),ie.doStat(re.lstat,e,t)}catch(e){if(void 0===re||!(e instanceof re.ErrnoError))throw e;return-e.errno}},__syscall_mkdirat:function(e,t,n){try{return t=ie.getStr(t),t=ie.calculateAt(e,t),"/"===(t=J.normalize(t))[t.length-1]&&(t=t.substr(0,t.length-1)),re.mkdir(t,n,0),0}catch(e){if(void 0===re||!(e instanceof re.ErrnoError))throw e;return-e.errno}},__syscall_newfstatat:function(e,t,n,r){try{t=ie.getStr(t);var i=256&r,s=4096&r;return r&=-6401,t=ie.calculateAt(e,t,s),ie.doStat(i?re.lstat:re.stat,t,n)}catch(e){if(void 0===re||!(e instanceof re.ErrnoError))throw e;return-e.errno}},__syscall_openat:function(e,t,n,r){ie.varargs=r;try{t=ie.getStr(t),t=ie.calculateAt(e,t);var i=r?ie.get():0;return re.open(t,n,i).fd}catch(e){if(void 0===re||!(e instanceof re.ErrnoError))throw e;return-e.errno}},__syscall_readlinkat:function(e,t,n,r){try{if(t=ie.getStr(t),t=ie.calculateAt(e,t),r<=0)return-28;var i=re.readlink(t),s=Math.min(r,C(i)),o=E[n+s];return F(i,n,r+1),E[n+s]=o,s}catch(e){if(void 0===re||!(e instanceof re.ErrnoError))throw e;return-e.errno}},__syscall_rmdir:function(e){try{return e=ie.getStr(e),re.rmdir(e),0}catch(e){if(void 0===re||!(e instanceof re.ErrnoError))throw e;return-e.errno}},__syscall_stat64:function(e,t){try{return e=ie.getStr(e),ie.doStat(re.stat,e,t)}catch(e){if(void 0===re||!(e instanceof re.ErrnoError))throw e;return-e.errno}},__syscall_unlinkat:function(e,t,n){try{return t=ie.getStr(t),t=ie.calculateAt(e,t),0===n?re.unlink(t):512===n?re.rmdir(t):W("Invalid flags passed to unlinkat"),0}catch(e){if(void 0===re||!(e instanceof re.ErrnoError))throw e;return-e.errno}},__syscall_utimensat:function(e,t,n,r){try{if(t=ie.getStr(t),t=ie.calculateAt(e,t,!0),n){var i=oe(n),s=k[n+8>>2];o=1e3*i+s/1e6,a=1e3*(i=oe(n+=16))+(s=k[n+8>>2])/1e6}else var o=Date.now(),a=o;return re.utime(t,o,a),0}catch(e){if(void 0===re||!(e instanceof re.ErrnoError))throw e;return-e.errno}},_emscripten_get_now_is_monotonic:function(){return!0},_localtime_js:function(e,t){var n=new Date(1e3*oe(e));k[t>>2]=n.getSeconds(),k[t+4>>2]=n.getMinutes(),k[t+8>>2]=n.getHours(),k[t+12>>2]=n.getDate(),k[t+16>>2]=n.getMonth(),k[t+20>>2]=n.getFullYear()-1900,k[t+24>>2]=n.getDay();var r=0|function(e){var t;return((t=e.getFullYear())%4!=0||t%100==0&&t%400!=0?ce:le)[e.getMonth()]+e.getDate()-1}(n);k[t+28>>2]=r,k[t+36>>2]=-60*n.getTimezoneOffset();var i=new Date(n.getFullYear(),0,1),s=new Date(n.getFullYear(),6,1).getTimezoneOffset(),o=i.getTimezoneOffset(),a=0|(s!=o&&n.getTimezoneOffset()==Math.min(o,s));k[t+32>>2]=a},_mmap_js:function(e,t,n,r,i,s,o){try{var a=ie.getStreamFromFD(r),l=re.mmap(a,e,i,t,n),c=l.ptr;return k[s>>2]=l.allocated,A[o>>2]=c,0}catch(e){if(void 0===re||!(e instanceof re.ErrnoError))throw e;return-e.errno}},_munmap_js:function(e,t,n,r,i,s){try{var o=ie.getStreamFromFD(i);2&n&&ie.doMsync(e,o,t,r,s),re.munmap(o)}catch(e){if(void 0===re||!(e instanceof re.ErrnoError))throw e;return-e.errno}},_tzset_js:function(e,t,n){var r=(new Date).getFullYear(),i=new Date(r,0,1),s=new Date(r,6,1),o=i.getTimezoneOffset(),a=s.getTimezoneOffset(),l=Math.max(o,a);function c(e){var t=e.toTimeString().match(/\(([A-Za-z ]+)\)$/);return t?t[1]:"GMT"}A[e>>2]=60*l,k[t>>2]=Number(o!=a);var u=c(i),f=c(s),_=ue(u),d=ue(f);a<o?(A[n>>2]=_,A[n+4>>2]=d):(A[n>>2]=d,A[n+4>>2]=_)},emscripten_date_now:function(){return Date.now()},emscripten_get_now:ae,emscripten_resize_heap:function(e){var t,n=x.length,r=2147483648;if((e>>>=0)>r)return!1;for(var i=1;i<=4;i*=2){var s=n*(1+.2/i);if(s=Math.min(s,e+100663296),fe(Math.min(r,(t=Math.max(e,s))+(65536-t%65536)%65536)))return!0}return!1},environ_get:function(e,t){var n=0;return de().forEach((function(r,i){var s=t+n;A[e+4*i>>2]=s,function(e,t,n){for(var r=0;r<e.length;++r)E[0|t++]=e.charCodeAt(r);E[0|t]=0}(r,s),n+=r.length+1})),0},environ_sizes_get:function(e,t){var n=de();A[e>>2]=n.length;var r=0;return n.forEach((function(e){r+=e.length+1})),A[t>>2]=r,0},fd_close:function(e){try{var t=ie.getStreamFromFD(e);return re.close(t),0}catch(e){if(void 0===re||!(e instanceof re.ErrnoError))throw e;return e.errno}},fd_fdstat_get:function(e,t){try{var n=ie.getStreamFromFD(e),r=n.tty?2:re.isDir(n.mode)?3:re.isLink(n.mode)?7:4;return E[0|t]=r,0}catch(e){if(void 0===re||!(e instanceof re.ErrnoError))throw e;return e.errno}},fd_read:function(e,t,n,r){try{var i=function(e,t,n,r){for(var i=0,s=0;s<n;s++){var o=A[t>>2],a=A[t+4>>2];t+=8;var l=re.read(e,E,o,a,r);if(l<0)return-1;if(i+=l,l<a)break;void 0!==r&&(r+=l)}return i}(ie.getStreamFromFD(e),t,n);return A[r>>2]=i,0}catch(e){if(void 0===re||!(e instanceof re.ErrnoError))throw e;return e.errno}},fd_seek:function(e,t,n,r){try{if(t=se(t),isNaN(t))return 61;var i=ie.getStreamFromFD(e);return re.llseek(i,t,n),V=[i.position>>>0,($=i.position,+Math.abs($)>=1?$>0?(0|Math.min(+Math.floor($/4294967296),4294967295))>>>0:~~+Math.ceil(($-+(~~$>>>0))/4294967296)>>>0:0)],k[r>>2]=V[0],k[r+4>>2]=V[1],i.getdents&&0===t&&0===n&&(i.getdents=null),0}catch(e){if(void 0===re||!(e instanceof re.ErrnoError))throw e;return e.errno}},fd_sync:function(e){try{var t=ie.getStreamFromFD(e);return t.stream_ops&&t.stream_ops.fsync?t.stream_ops.fsync(t):0}catch(e){if(void 0===re||!(e instanceof re.ErrnoError))throw e;return e.errno}},fd_write:function(e,t,n,r){try{var i=function(e,t,n,r){for(var i=0,s=0;s<n;s++){var o=A[t>>2],a=A[t+4>>2];t+=8;var l=re.write(e,E,o,a,r);if(l<0)return-1;i+=l,void 0!==r&&(r+=l)}return i}(ie.getStreamFromFD(e),t,n);return A[r>>2]=i,0}catch(e){if(void 0===re||!(e instanceof re.ErrnoError))throw e;return e.errno}},memory:b},ge=(function(){var e={env:me,wasi_snapshot_preview1:me};function t(e,t){var n,r=e.exports;o.asm=r,o.asm.__indirect_function_table,n=o.asm.__wasm_call_ctors,z.unshift(n),U()}function n(e){t(e.instance)}function r(t){return(y||!h&&!m||"function"!=typeof fetch?Promise.resolve().then((function(){return Z(H)})):fetch(H,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+H+"'";return e.arrayBuffer()})).catch((function(){return Z(H)}))).then((function(t){return WebAssembly.instantiate(t,e)})).then((function(e){return e})).then(t,(function(e){w("failed to asynchronously prepare wasm: "+e),W(e)}))}if(M(),o.instantiateWasm)try{return o.instantiateWasm(e,t)}catch(e){w("Module.instantiateWasm callback failed with error: "+e),i(e)}(y||"function"!=typeof WebAssembly.instantiateStreaming||G(H)||"function"!=typeof fetch?r(n):fetch(H,{credentials:"same-origin"}).then((function(t){return WebAssembly.instantiateStreaming(t,e).then(n,(function(e){return w("wasm streaming compile failed: "+e),w("falling back to ArrayBuffer instantiation"),r(n)}))}))).catch(i)}(),o.___wasm_call_ctors=function(){return(o.___wasm_call_ctors=o.asm.__wasm_call_ctors).apply(null,arguments)},o._sqlite3_status64=function(){return(o._sqlite3_status64=o.asm.sqlite3_status64).apply(null,arguments)},o._sqlite3_status=function(){return(o._sqlite3_status=o.asm.sqlite3_status).apply(null,arguments)},o._sqlite3_db_status=function(){return(o._sqlite3_db_status=o.asm.sqlite3_db_status).apply(null,arguments)},o._sqlite3_msize=function(){return(o._sqlite3_msize=o.asm.sqlite3_msize).apply(null,arguments)},o._sqlite3_vfs_find=function(){return(o._sqlite3_vfs_find=o.asm.sqlite3_vfs_find).apply(null,arguments)},o._sqlite3_initialize=function(){return(o._sqlite3_initialize=o.asm.sqlite3_initialize).apply(null,arguments)},o._sqlite3_malloc=function(){return(o._sqlite3_malloc=o.asm.sqlite3_malloc).apply(null,arguments)},o._sqlite3_free=function(){return(o._sqlite3_free=o.asm.sqlite3_free).apply(null,arguments)},o._sqlite3_vfs_register=function(){return(o._sqlite3_vfs_register=o.asm.sqlite3_vfs_register).apply(null,arguments)},o._sqlite3_vfs_unregister=function(){return(o._sqlite3_vfs_unregister=o.asm.sqlite3_vfs_unregister).apply(null,arguments)},o._sqlite3_malloc64=function(){return(o._sqlite3_malloc64=o.asm.sqlite3_malloc64).apply(null,arguments)},o._sqlite3_realloc=function(){return(o._sqlite3_realloc=o.asm.sqlite3_realloc).apply(null,arguments)},o._sqlite3_realloc64=function(){return(o._sqlite3_realloc64=o.asm.sqlite3_realloc64).apply(null,arguments)},o._sqlite3_value_text=function(){return(o._sqlite3_value_text=o.asm.sqlite3_value_text).apply(null,arguments)},o._sqlite3_randomness=function(){return(o._sqlite3_randomness=o.asm.sqlite3_randomness).apply(null,arguments)},o._sqlite3_stricmp=function(){return(o._sqlite3_stricmp=o.asm.sqlite3_stricmp).apply(null,arguments)},o._sqlite3_strnicmp=function(){return(o._sqlite3_strnicmp=o.asm.sqlite3_strnicmp).apply(null,arguments)},o._sqlite3_uri_parameter=function(){return(o._sqlite3_uri_parameter=o.asm.sqlite3_uri_parameter).apply(null,arguments)},o.___errno_location=function(){return(ge=o.___errno_location=o.asm.__errno_location).apply(null,arguments)}),ye=(o._sqlite3_uri_boolean=function(){return(o._sqlite3_uri_boolean=o.asm.sqlite3_uri_boolean).apply(null,arguments)},o._sqlite3_serialize=function(){return(o._sqlite3_serialize=o.asm.sqlite3_serialize).apply(null,arguments)},o._sqlite3_prepare_v2=function(){return(o._sqlite3_prepare_v2=o.asm.sqlite3_prepare_v2).apply(null,arguments)},o._sqlite3_step=function(){return(o._sqlite3_step=o.asm.sqlite3_step).apply(null,arguments)},o._sqlite3_column_int64=function(){return(o._sqlite3_column_int64=o.asm.sqlite3_column_int64).apply(null,arguments)},o._sqlite3_column_int=function(){return(o._sqlite3_column_int=o.asm.sqlite3_column_int).apply(null,arguments)},o._sqlite3_finalize=function(){return(o._sqlite3_finalize=o.asm.sqlite3_finalize).apply(null,arguments)},o._sqlite3_file_control=function(){return(o._sqlite3_file_control=o.asm.sqlite3_file_control).apply(null,arguments)},o._sqlite3_reset=function(){return(o._sqlite3_reset=o.asm.sqlite3_reset).apply(null,arguments)},o._sqlite3_deserialize=function(){return(o._sqlite3_deserialize=o.asm.sqlite3_deserialize).apply(null,arguments)},o._sqlite3_clear_bindings=function(){return(o._sqlite3_clear_bindings=o.asm.sqlite3_clear_bindings).apply(null,arguments)},o._sqlite3_value_blob=function(){return(o._sqlite3_value_blob=o.asm.sqlite3_value_blob).apply(null,arguments)},o._sqlite3_value_bytes=function(){return(o._sqlite3_value_bytes=o.asm.sqlite3_value_bytes).apply(null,arguments)},o._sqlite3_value_double=function(){return(o._sqlite3_value_double=o.asm.sqlite3_value_double).apply(null,arguments)},o._sqlite3_value_int=function(){return(o._sqlite3_value_int=o.asm.sqlite3_value_int).apply(null,arguments)},o._sqlite3_value_int64=function(){return(o._sqlite3_value_int64=o.asm.sqlite3_value_int64).apply(null,arguments)},o._sqlite3_value_subtype=function(){return(o._sqlite3_value_subtype=o.asm.sqlite3_value_subtype).apply(null,arguments)},o._sqlite3_value_pointer=function(){return(o._sqlite3_value_pointer=o.asm.sqlite3_value_pointer).apply(null,arguments)},o._sqlite3_value_type=function(){return(o._sqlite3_value_type=o.asm.sqlite3_value_type).apply(null,arguments)},o._sqlite3_value_nochange=function(){return(o._sqlite3_value_nochange=o.asm.sqlite3_value_nochange).apply(null,arguments)},o._sqlite3_value_frombind=function(){return(o._sqlite3_value_frombind=o.asm.sqlite3_value_frombind).apply(null,arguments)},o._sqlite3_value_dup=function(){return(o._sqlite3_value_dup=o.asm.sqlite3_value_dup).apply(null,arguments)},o._sqlite3_value_free=function(){return(o._sqlite3_value_free=o.asm.sqlite3_value_free).apply(null,arguments)},o._sqlite3_result_blob=function(){return(o._sqlite3_result_blob=o.asm.sqlite3_result_blob).apply(null,arguments)},o._sqlite3_result_error_nomem=function(){return(o._sqlite3_result_error_nomem=o.asm.sqlite3_result_error_nomem).apply(null,arguments)},o._sqlite3_result_error_toobig=function(){return(o._sqlite3_result_error_toobig=o.asm.sqlite3_result_error_toobig).apply(null,arguments)},o._sqlite3_result_double=function(){return(o._sqlite3_result_double=o.asm.sqlite3_result_double).apply(null,arguments)},o._sqlite3_result_error=function(){return(o._sqlite3_result_error=o.asm.sqlite3_result_error).apply(null,arguments)},o._sqlite3_result_int=function(){return(o._sqlite3_result_int=o.asm.sqlite3_result_int).apply(null,arguments)},o._sqlite3_result_int64=function(){return(o._sqlite3_result_int64=o.asm.sqlite3_result_int64).apply(null,arguments)},o._sqlite3_result_null=function(){return(o._sqlite3_result_null=o.asm.sqlite3_result_null).apply(null,arguments)},o._sqlite3_result_pointer=function(){return(o._sqlite3_result_pointer=o.asm.sqlite3_result_pointer).apply(null,arguments)},o._sqlite3_result_subtype=function(){return(o._sqlite3_result_subtype=o.asm.sqlite3_result_subtype).apply(null,arguments)},o._sqlite3_result_text=function(){return(o._sqlite3_result_text=o.asm.sqlite3_result_text).apply(null,arguments)},o._sqlite3_result_zeroblob=function(){return(o._sqlite3_result_zeroblob=o.asm.sqlite3_result_zeroblob).apply(null,arguments)},o._sqlite3_result_zeroblob64=function(){return(o._sqlite3_result_zeroblob64=o.asm.sqlite3_result_zeroblob64).apply(null,arguments)},o._sqlite3_result_error_code=function(){return(o._sqlite3_result_error_code=o.asm.sqlite3_result_error_code).apply(null,arguments)},o._sqlite3_user_data=function(){return(o._sqlite3_user_data=o.asm.sqlite3_user_data).apply(null,arguments)},o._sqlite3_context_db_handle=function(){return(o._sqlite3_context_db_handle=o.asm.sqlite3_context_db_handle).apply(null,arguments)},o._sqlite3_vtab_nochange=function(){return(o._sqlite3_vtab_nochange=o.asm.sqlite3_vtab_nochange).apply(null,arguments)},o._sqlite3_vtab_in_first=function(){return(o._sqlite3_vtab_in_first=o.asm.sqlite3_vtab_in_first).apply(null,arguments)},o._sqlite3_vtab_in_next=function(){return(o._sqlite3_vtab_in_next=o.asm.sqlite3_vtab_in_next).apply(null,arguments)},o._sqlite3_aggregate_context=function(){return(o._sqlite3_aggregate_context=o.asm.sqlite3_aggregate_context).apply(null,arguments)},o._sqlite3_get_auxdata=function(){return(o._sqlite3_get_auxdata=o.asm.sqlite3_get_auxdata).apply(null,arguments)},o._sqlite3_set_auxdata=function(){return(o._sqlite3_set_auxdata=o.asm.sqlite3_set_auxdata).apply(null,arguments)},o._sqlite3_column_count=function(){return(o._sqlite3_column_count=o.asm.sqlite3_column_count).apply(null,arguments)},o._sqlite3_data_count=function(){return(o._sqlite3_data_count=o.asm.sqlite3_data_count).apply(null,arguments)},o._sqlite3_column_blob=function(){return(o._sqlite3_column_blob=o.asm.sqlite3_column_blob).apply(null,arguments)},o._sqlite3_column_bytes=function(){return(o._sqlite3_column_bytes=o.asm.sqlite3_column_bytes).apply(null,arguments)},o._sqlite3_column_double=function(){return(o._sqlite3_column_double=o.asm.sqlite3_column_double).apply(null,arguments)},o._sqlite3_column_text=function(){return(o._sqlite3_column_text=o.asm.sqlite3_column_text).apply(null,arguments)},o._sqlite3_column_value=function(){return(o._sqlite3_column_value=o.asm.sqlite3_column_value).apply(null,arguments)},o._sqlite3_column_type=function(){return(o._sqlite3_column_type=o.asm.sqlite3_column_type).apply(null,arguments)},o._sqlite3_column_name=function(){return(o._sqlite3_column_name=o.asm.sqlite3_column_name).apply(null,arguments)},o._sqlite3_bind_blob=function(){return(o._sqlite3_bind_blob=o.asm.sqlite3_bind_blob).apply(null,arguments)},o._sqlite3_bind_double=function(){return(o._sqlite3_bind_double=o.asm.sqlite3_bind_double).apply(null,arguments)},o._sqlite3_bind_int=function(){return(o._sqlite3_bind_int=o.asm.sqlite3_bind_int).apply(null,arguments)},o._sqlite3_bind_int64=function(){return(o._sqlite3_bind_int64=o.asm.sqlite3_bind_int64).apply(null,arguments)},o._sqlite3_bind_null=function(){return(o._sqlite3_bind_null=o.asm.sqlite3_bind_null).apply(null,arguments)},o._sqlite3_bind_pointer=function(){return(o._sqlite3_bind_pointer=o.asm.sqlite3_bind_pointer).apply(null,arguments)},o._sqlite3_bind_text=function(){return(o._sqlite3_bind_text=o.asm.sqlite3_bind_text).apply(null,arguments)},o._sqlite3_bind_parameter_count=function(){return(o._sqlite3_bind_parameter_count=o.asm.sqlite3_bind_parameter_count).apply(null,arguments)},o._sqlite3_bind_parameter_index=function(){return(o._sqlite3_bind_parameter_index=o.asm.sqlite3_bind_parameter_index).apply(null,arguments)},o._sqlite3_db_handle=function(){return(o._sqlite3_db_handle=o.asm.sqlite3_db_handle).apply(null,arguments)},o._sqlite3_stmt_readonly=function(){return(o._sqlite3_stmt_readonly=o.asm.sqlite3_stmt_readonly).apply(null,arguments)},o._sqlite3_stmt_isexplain=function(){return(o._sqlite3_stmt_isexplain=o.asm.sqlite3_stmt_isexplain).apply(null,arguments)},o._sqlite3_stmt_status=function(){return(o._sqlite3_stmt_status=o.asm.sqlite3_stmt_status).apply(null,arguments)},o._sqlite3_sql=function(){return(o._sqlite3_sql=o.asm.sqlite3_sql).apply(null,arguments)},o._sqlite3_expanded_sql=function(){return(o._sqlite3_expanded_sql=o.asm.sqlite3_expanded_sql).apply(null,arguments)},o._sqlite3_preupdate_old=function(){return(o._sqlite3_preupdate_old=o.asm.sqlite3_preupdate_old).apply(null,arguments)},o._sqlite3_preupdate_count=function(){return(o._sqlite3_preupdate_count=o.asm.sqlite3_preupdate_count).apply(null,arguments)},o._sqlite3_preupdate_depth=function(){return(o._sqlite3_preupdate_depth=o.asm.sqlite3_preupdate_depth).apply(null,arguments)},o._sqlite3_preupdate_blobwrite=function(){return(o._sqlite3_preupdate_blobwrite=o.asm.sqlite3_preupdate_blobwrite).apply(null,arguments)},o._sqlite3_preupdate_new=function(){return(o._sqlite3_preupdate_new=o.asm.sqlite3_preupdate_new).apply(null,arguments)},o._sqlite3_value_numeric_type=function(){return(o._sqlite3_value_numeric_type=o.asm.sqlite3_value_numeric_type).apply(null,arguments)},o._sqlite3_errmsg=function(){return(o._sqlite3_errmsg=o.asm.sqlite3_errmsg).apply(null,arguments)},o._sqlite3_set_authorizer=function(){return(o._sqlite3_set_authorizer=o.asm.sqlite3_set_authorizer).apply(null,arguments)},o._sqlite3_strglob=function(){return(o._sqlite3_strglob=o.asm.sqlite3_strglob).apply(null,arguments)},o._sqlite3_strlike=function(){return(o._sqlite3_strlike=o.asm.sqlite3_strlike).apply(null,arguments)},o._sqlite3_exec=function(){return(o._sqlite3_exec=o.asm.sqlite3_exec).apply(null,arguments)},o._sqlite3_auto_extension=function(){return(o._sqlite3_auto_extension=o.asm.sqlite3_auto_extension).apply(null,arguments)},o._sqlite3_cancel_auto_extension=function(){return(o._sqlite3_cancel_auto_extension=o.asm.sqlite3_cancel_auto_extension).apply(null,arguments)},o._sqlite3_reset_auto_extension=function(){return(o._sqlite3_reset_auto_extension=o.asm.sqlite3_reset_auto_extension).apply(null,arguments)},o._sqlite3_prepare_v3=function(){return(o._sqlite3_prepare_v3=o.asm.sqlite3_prepare_v3).apply(null,arguments)},o._sqlite3_create_module=function(){return(o._sqlite3_create_module=o.asm.sqlite3_create_module).apply(null,arguments)},o._sqlite3_create_module_v2=function(){return(o._sqlite3_create_module_v2=o.asm.sqlite3_create_module_v2).apply(null,arguments)},o._sqlite3_drop_modules=function(){return(o._sqlite3_drop_modules=o.asm.sqlite3_drop_modules).apply(null,arguments)},o._sqlite3_declare_vtab=function(){return(o._sqlite3_declare_vtab=o.asm.sqlite3_declare_vtab).apply(null,arguments)},o._sqlite3_vtab_on_conflict=function(){return(o._sqlite3_vtab_on_conflict=o.asm.sqlite3_vtab_on_conflict).apply(null,arguments)},o._sqlite3_vtab_collation=function(){return(o._sqlite3_vtab_collation=o.asm.sqlite3_vtab_collation).apply(null,arguments)},o._sqlite3_vtab_in=function(){return(o._sqlite3_vtab_in=o.asm.sqlite3_vtab_in).apply(null,arguments)},o._sqlite3_vtab_rhs_value=function(){return(o._sqlite3_vtab_rhs_value=o.asm.sqlite3_vtab_rhs_value).apply(null,arguments)},o._sqlite3_vtab_distinct=function(){return(o._sqlite3_vtab_distinct=o.asm.sqlite3_vtab_distinct).apply(null,arguments)},o._sqlite3_keyword_name=function(){return(o._sqlite3_keyword_name=o.asm.sqlite3_keyword_name).apply(null,arguments)},o._sqlite3_keyword_count=function(){return(o._sqlite3_keyword_count=o.asm.sqlite3_keyword_count).apply(null,arguments)},o._sqlite3_keyword_check=function(){return(o._sqlite3_keyword_check=o.asm.sqlite3_keyword_check).apply(null,arguments)},o._sqlite3_complete=function(){return(o._sqlite3_complete=o.asm.sqlite3_complete).apply(null,arguments)},o._sqlite3_libversion=function(){return(o._sqlite3_libversion=o.asm.sqlite3_libversion).apply(null,arguments)},o._sqlite3_libversion_number=function(){return(o._sqlite3_libversion_number=o.asm.sqlite3_libversion_number).apply(null,arguments)},o._sqlite3_shutdown=function(){return(o._sqlite3_shutdown=o.asm.sqlite3_shutdown).apply(null,arguments)},o._sqlite3_last_insert_rowid=function(){return(o._sqlite3_last_insert_rowid=o.asm.sqlite3_last_insert_rowid).apply(null,arguments)},o._sqlite3_set_last_insert_rowid=function(){return(o._sqlite3_set_last_insert_rowid=o.asm.sqlite3_set_last_insert_rowid).apply(null,arguments)},o._sqlite3_changes64=function(){return(o._sqlite3_changes64=o.asm.sqlite3_changes64).apply(null,arguments)},o._sqlite3_changes=function(){return(o._sqlite3_changes=o.asm.sqlite3_changes).apply(null,arguments)},o._sqlite3_total_changes64=function(){return(o._sqlite3_total_changes64=o.asm.sqlite3_total_changes64).apply(null,arguments)},o._sqlite3_total_changes=function(){return(o._sqlite3_total_changes=o.asm.sqlite3_total_changes).apply(null,arguments)},o._sqlite3_txn_state=function(){return(o._sqlite3_txn_state=o.asm.sqlite3_txn_state).apply(null,arguments)},o._sqlite3_close_v2=function(){return(o._sqlite3_close_v2=o.asm.sqlite3_close_v2).apply(null,arguments)},o._sqlite3_busy_handler=function(){return(o._sqlite3_busy_handler=o.asm.sqlite3_busy_handler).apply(null,arguments)},o._sqlite3_progress_handler=function(){return(o._sqlite3_progress_handler=o.asm.sqlite3_progress_handler).apply(null,arguments)},o._sqlite3_busy_timeout=function(){return(o._sqlite3_busy_timeout=o.asm.sqlite3_busy_timeout).apply(null,arguments)},o._sqlite3_create_function=function(){return(o._sqlite3_create_function=o.asm.sqlite3_create_function).apply(null,arguments)},o._sqlite3_create_function_v2=function(){return(o._sqlite3_create_function_v2=o.asm.sqlite3_create_function_v2).apply(null,arguments)},o._sqlite3_create_window_function=function(){return(o._sqlite3_create_window_function=o.asm.sqlite3_create_window_function).apply(null,arguments)},o._sqlite3_overload_function=function(){return(o._sqlite3_overload_function=o.asm.sqlite3_overload_function).apply(null,arguments)},o._sqlite3_trace_v2=function(){return(o._sqlite3_trace_v2=o.asm.sqlite3_trace_v2).apply(null,arguments)},o._sqlite3_commit_hook=function(){return(o._sqlite3_commit_hook=o.asm.sqlite3_commit_hook).apply(null,arguments)},o._sqlite3_update_hook=function(){return(o._sqlite3_update_hook=o.asm.sqlite3_update_hook).apply(null,arguments)},o._sqlite3_rollback_hook=function(){return(o._sqlite3_rollback_hook=o.asm.sqlite3_rollback_hook).apply(null,arguments)},o._sqlite3_preupdate_hook=function(){return(o._sqlite3_preupdate_hook=o.asm.sqlite3_preupdate_hook).apply(null,arguments)},o._sqlite3_error_offset=function(){return(o._sqlite3_error_offset=o.asm.sqlite3_error_offset).apply(null,arguments)},o._sqlite3_errcode=function(){return(o._sqlite3_errcode=o.asm.sqlite3_errcode).apply(null,arguments)},o._sqlite3_extended_errcode=function(){return(o._sqlite3_extended_errcode=o.asm.sqlite3_extended_errcode).apply(null,arguments)},o._sqlite3_errstr=function(){return(o._sqlite3_errstr=o.asm.sqlite3_errstr).apply(null,arguments)},o._sqlite3_limit=function(){return(o._sqlite3_limit=o.asm.sqlite3_limit).apply(null,arguments)},o._sqlite3_open=function(){return(o._sqlite3_open=o.asm.sqlite3_open).apply(null,arguments)},o._sqlite3_open_v2=function(){return(o._sqlite3_open_v2=o.asm.sqlite3_open_v2).apply(null,arguments)},o._sqlite3_create_collation=function(){return(o._sqlite3_create_collation=o.asm.sqlite3_create_collation).apply(null,arguments)},o._sqlite3_create_collation_v2=function(){return(o._sqlite3_create_collation_v2=o.asm.sqlite3_create_collation_v2).apply(null,arguments)},o._sqlite3_collation_needed=function(){return(o._sqlite3_collation_needed=o.asm.sqlite3_collation_needed).apply(null,arguments)},o._sqlite3_table_column_metadata=function(){return(o._sqlite3_table_column_metadata=o.asm.sqlite3_table_column_metadata).apply(null,arguments)},o._sqlite3_extended_result_codes=function(){return(o._sqlite3_extended_result_codes=o.asm.sqlite3_extended_result_codes).apply(null,arguments)},o._sqlite3_uri_key=function(){return(o._sqlite3_uri_key=o.asm.sqlite3_uri_key).apply(null,arguments)},o._sqlite3_uri_int64=function(){return(o._sqlite3_uri_int64=o.asm.sqlite3_uri_int64).apply(null,arguments)},o._sqlite3_db_name=function(){return(o._sqlite3_db_name=o.asm.sqlite3_db_name).apply(null,arguments)},o._sqlite3_db_filename=function(){return(o._sqlite3_db_filename=o.asm.sqlite3_db_filename).apply(null,arguments)},o._sqlite3_compileoption_used=function(){return(o._sqlite3_compileoption_used=o.asm.sqlite3_compileoption_used).apply(null,arguments)},o._sqlite3_compileoption_get=function(){return(o._sqlite3_compileoption_get=o.asm.sqlite3_compileoption_get).apply(null,arguments)},o._sqlite3session_diff=function(){return(o._sqlite3session_diff=o.asm.sqlite3session_diff).apply(null,arguments)},o._sqlite3session_attach=function(){return(o._sqlite3session_attach=o.asm.sqlite3session_attach).apply(null,arguments)},o._sqlite3session_create=function(){return(o._sqlite3session_create=o.asm.sqlite3session_create).apply(null,arguments)},o._sqlite3session_delete=function(){return(o._sqlite3session_delete=o.asm.sqlite3session_delete).apply(null,arguments)},o._sqlite3session_table_filter=function(){return(o._sqlite3session_table_filter=o.asm.sqlite3session_table_filter).apply(null,arguments)},o._sqlite3session_changeset=function(){return(o._sqlite3session_changeset=o.asm.sqlite3session_changeset).apply(null,arguments)},o._sqlite3session_changeset_strm=function(){return(o._sqlite3session_changeset_strm=o.asm.sqlite3session_changeset_strm).apply(null,arguments)},o._sqlite3session_patchset_strm=function(){return(o._sqlite3session_patchset_strm=o.asm.sqlite3session_patchset_strm).apply(null,arguments)},o._sqlite3session_patchset=function(){return(o._sqlite3session_patchset=o.asm.sqlite3session_patchset).apply(null,arguments)},o._sqlite3session_enable=function(){return(o._sqlite3session_enable=o.asm.sqlite3session_enable).apply(null,arguments)},o._sqlite3session_indirect=function(){return(o._sqlite3session_indirect=o.asm.sqlite3session_indirect).apply(null,arguments)},o._sqlite3session_isempty=function(){return(o._sqlite3session_isempty=o.asm.sqlite3session_isempty).apply(null,arguments)},o._sqlite3session_memory_used=function(){return(o._sqlite3session_memory_used=o.asm.sqlite3session_memory_used).apply(null,arguments)},o._sqlite3session_object_config=function(){return(o._sqlite3session_object_config=o.asm.sqlite3session_object_config).apply(null,arguments)},o._sqlite3session_changeset_size=function(){return(o._sqlite3session_changeset_size=o.asm.sqlite3session_changeset_size).apply(null,arguments)},o._sqlite3changeset_start=function(){return(o._sqlite3changeset_start=o.asm.sqlite3changeset_start).apply(null,arguments)},o._sqlite3changeset_start_v2=function(){return(o._sqlite3changeset_start_v2=o.asm.sqlite3changeset_start_v2).apply(null,arguments)},o._sqlite3changeset_start_strm=function(){return(o._sqlite3changeset_start_strm=o.asm.sqlite3changeset_start_strm).apply(null,arguments)},o._sqlite3changeset_start_v2_strm=function(){return(o._sqlite3changeset_start_v2_strm=o.asm.sqlite3changeset_start_v2_strm).apply(null,arguments)},o._sqlite3changeset_next=function(){return(o._sqlite3changeset_next=o.asm.sqlite3changeset_next).apply(null,arguments)},o._sqlite3changeset_op=function(){return(o._sqlite3changeset_op=o.asm.sqlite3changeset_op).apply(null,arguments)},o._sqlite3changeset_pk=function(){return(o._sqlite3changeset_pk=o.asm.sqlite3changeset_pk).apply(null,arguments)},o._sqlite3changeset_old=function(){return(o._sqlite3changeset_old=o.asm.sqlite3changeset_old).apply(null,arguments)},o._sqlite3changeset_new=function(){return(o._sqlite3changeset_new=o.asm.sqlite3changeset_new).apply(null,arguments)},o._sqlite3changeset_conflict=function(){return(o._sqlite3changeset_conflict=o.asm.sqlite3changeset_conflict).apply(null,arguments)},o._sqlite3changeset_fk_conflicts=function(){return(o._sqlite3changeset_fk_conflicts=o.asm.sqlite3changeset_fk_conflicts).apply(null,arguments)},o._sqlite3changeset_finalize=function(){return(o._sqlite3changeset_finalize=o.asm.sqlite3changeset_finalize).apply(null,arguments)},o._sqlite3changeset_invert=function(){return(o._sqlite3changeset_invert=o.asm.sqlite3changeset_invert).apply(null,arguments)},o._sqlite3changeset_invert_strm=function(){return(o._sqlite3changeset_invert_strm=o.asm.sqlite3changeset_invert_strm).apply(null,arguments)},o._sqlite3changeset_apply_v2=function(){return(o._sqlite3changeset_apply_v2=o.asm.sqlite3changeset_apply_v2).apply(null,arguments)},o._sqlite3changeset_apply=function(){return(o._sqlite3changeset_apply=o.asm.sqlite3changeset_apply).apply(null,arguments)},o._sqlite3changeset_apply_v2_strm=function(){return(o._sqlite3changeset_apply_v2_strm=o.asm.sqlite3changeset_apply_v2_strm).apply(null,arguments)},o._sqlite3changeset_apply_strm=function(){return(o._sqlite3changeset_apply_strm=o.asm.sqlite3changeset_apply_strm).apply(null,arguments)},o._sqlite3changegroup_new=function(){return(o._sqlite3changegroup_new=o.asm.sqlite3changegroup_new).apply(null,arguments)},o._sqlite3changegroup_add=function(){return(o._sqlite3changegroup_add=o.asm.sqlite3changegroup_add).apply(null,arguments)},o._sqlite3changegroup_output=function(){return(o._sqlite3changegroup_output=o.asm.sqlite3changegroup_output).apply(null,arguments)},o._sqlite3changegroup_add_strm=function(){return(o._sqlite3changegroup_add_strm=o.asm.sqlite3changegroup_add_strm).apply(null,arguments)},o._sqlite3changegroup_output_strm=function(){return(o._sqlite3changegroup_output_strm=o.asm.sqlite3changegroup_output_strm).apply(null,arguments)},o._sqlite3changegroup_delete=function(){return(o._sqlite3changegroup_delete=o.asm.sqlite3changegroup_delete).apply(null,arguments)},o._sqlite3changeset_concat=function(){return(o._sqlite3changeset_concat=o.asm.sqlite3changeset_concat).apply(null,arguments)},o._sqlite3changeset_concat_strm=function(){return(o._sqlite3changeset_concat_strm=o.asm.sqlite3changeset_concat_strm).apply(null,arguments)},o._sqlite3session_config=function(){return(o._sqlite3session_config=o.asm.sqlite3session_config).apply(null,arguments)},o._sqlite3_sourceid=function(){return(o._sqlite3_sourceid=o.asm.sqlite3_sourceid).apply(null,arguments)},o._sqlite3_wasm_pstack_ptr=function(){return(o._sqlite3_wasm_pstack_ptr=o.asm.sqlite3_wasm_pstack_ptr).apply(null,arguments)},o._sqlite3_wasm_pstack_restore=function(){return(o._sqlite3_wasm_pstack_restore=o.asm.sqlite3_wasm_pstack_restore).apply(null,arguments)},o._sqlite3_wasm_pstack_alloc=function(){return(o._sqlite3_wasm_pstack_alloc=o.asm.sqlite3_wasm_pstack_alloc).apply(null,arguments)},o._sqlite3_wasm_pstack_remaining=function(){return(o._sqlite3_wasm_pstack_remaining=o.asm.sqlite3_wasm_pstack_remaining).apply(null,arguments)},o._sqlite3_wasm_pstack_quota=function(){return(o._sqlite3_wasm_pstack_quota=o.asm.sqlite3_wasm_pstack_quota).apply(null,arguments)},o._sqlite3_wasm_db_error=function(){return(o._sqlite3_wasm_db_error=o.asm.sqlite3_wasm_db_error).apply(null,arguments)},o._sqlite3_wasm_test_struct=function(){return(o._sqlite3_wasm_test_struct=o.asm.sqlite3_wasm_test_struct).apply(null,arguments)},o._sqlite3_wasm_enum_json=function(){return(o._sqlite3_wasm_enum_json=o.asm.sqlite3_wasm_enum_json).apply(null,arguments)},o._sqlite3_wasm_vfs_unlink=function(){return(o._sqlite3_wasm_vfs_unlink=o.asm.sqlite3_wasm_vfs_unlink).apply(null,arguments)},o._sqlite3_wasm_db_vfs=function(){return(o._sqlite3_wasm_db_vfs=o.asm.sqlite3_wasm_db_vfs).apply(null,arguments)},o._sqlite3_wasm_db_reset=function(){return(o._sqlite3_wasm_db_reset=o.asm.sqlite3_wasm_db_reset).apply(null,arguments)},o._sqlite3_wasm_db_export_chunked=function(){return(o._sqlite3_wasm_db_export_chunked=o.asm.sqlite3_wasm_db_export_chunked).apply(null,arguments)},o._sqlite3_wasm_db_serialize=function(){return(o._sqlite3_wasm_db_serialize=o.asm.sqlite3_wasm_db_serialize).apply(null,arguments)},o._sqlite3_wasm_vfs_create_file=function(){return(o._sqlite3_wasm_vfs_create_file=o.asm.sqlite3_wasm_vfs_create_file).apply(null,arguments)},o._sqlite3_wasm_posix_create_file=function(){return(o._sqlite3_wasm_posix_create_file=o.asm.sqlite3_wasm_posix_create_file).apply(null,arguments)},o._sqlite3_wasm_kvvfsMakeKeyOnPstack=function(){return(o._sqlite3_wasm_kvvfsMakeKeyOnPstack=o.asm.sqlite3_wasm_kvvfsMakeKeyOnPstack).apply(null,arguments)},o._sqlite3_wasm_kvvfs_methods=function(){return(o._sqlite3_wasm_kvvfs_methods=o.asm.sqlite3_wasm_kvvfs_methods).apply(null,arguments)},o._sqlite3_wasm_vtab_config=function(){return(o._sqlite3_wasm_vtab_config=o.asm.sqlite3_wasm_vtab_config).apply(null,arguments)},o._sqlite3_wasm_db_config_ip=function(){return(o._sqlite3_wasm_db_config_ip=o.asm.sqlite3_wasm_db_config_ip).apply(null,arguments)},o._sqlite3_wasm_db_config_pii=function(){return(o._sqlite3_wasm_db_config_pii=o.asm.sqlite3_wasm_db_config_pii).apply(null,arguments)},o._sqlite3_wasm_db_config_s=function(){return(o._sqlite3_wasm_db_config_s=o.asm.sqlite3_wasm_db_config_s).apply(null,arguments)},o._sqlite3_wasm_config_i=function(){return(o._sqlite3_wasm_config_i=o.asm.sqlite3_wasm_config_i).apply(null,arguments)},o._sqlite3_wasm_config_ii=function(){return(o._sqlite3_wasm_config_ii=o.asm.sqlite3_wasm_config_ii).apply(null,arguments)},o._sqlite3_wasm_config_j=function(){return(o._sqlite3_wasm_config_j=o.asm.sqlite3_wasm_config_j).apply(null,arguments)},o._sqlite3_wasm_init_wasmfs=function(){return(o._sqlite3_wasm_init_wasmfs=o.asm.sqlite3_wasm_init_wasmfs).apply(null,arguments)},o._sqlite3_wasm_test_intptr=function(){return(o._sqlite3_wasm_test_intptr=o.asm.sqlite3_wasm_test_intptr).apply(null,arguments)},o._sqlite3_wasm_test_voidptr=function(){return(o._sqlite3_wasm_test_voidptr=o.asm.sqlite3_wasm_test_voidptr).apply(null,arguments)},o._sqlite3_wasm_test_int64_max=function(){return(o._sqlite3_wasm_test_int64_max=o.asm.sqlite3_wasm_test_int64_max).apply(null,arguments)},o._sqlite3_wasm_test_int64_min=function(){return(o._sqlite3_wasm_test_int64_min=o.asm.sqlite3_wasm_test_int64_min).apply(null,arguments)},o._sqlite3_wasm_test_int64_times2=function(){return(o._sqlite3_wasm_test_int64_times2=o.asm.sqlite3_wasm_test_int64_times2).apply(null,arguments)},o._sqlite3_wasm_test_int64_minmax=function(){return(o._sqlite3_wasm_test_int64_minmax=o.asm.sqlite3_wasm_test_int64_minmax).apply(null,arguments)},o._sqlite3_wasm_test_int64ptr=function(){return(o._sqlite3_wasm_test_int64ptr=o.asm.sqlite3_wasm_test_int64ptr).apply(null,arguments)},o._sqlite3_wasm_test_stack_overflow=function(){return(o._sqlite3_wasm_test_stack_overflow=o.asm.sqlite3_wasm_test_stack_overflow).apply(null,arguments)},o._sqlite3_wasm_test_str_hello=function(){return(o._sqlite3_wasm_test_str_hello=o.asm.sqlite3_wasm_test_str_hello).apply(null,arguments)},o._malloc=function(){return(ye=o._malloc=o.asm.malloc).apply(null,arguments)}),be=(o._free=function(){return(o._free=o.asm.free).apply(null,arguments)},o._realloc=function(){return(o._realloc=o.asm.realloc).apply(null,arguments)},o._emscripten_builtin_memalign=function(){return(be=o._emscripten_builtin_memalign=o.asm.emscripten_builtin_memalign).apply(null,arguments)});function ve(e){function n(){he||(he=!0,o.calledRun=!0,q||(o.noFSInit||re.init.initialized||re.init(),re.ignorePermissions=!1,ee.init(),K(z),t(o),o.onRuntimeInitialized&&o.onRuntimeInitialized(),function(){if(o.postRun)for("function"==typeof o.postRun&&(o.postRun=[o.postRun]);o.postRun.length;)e=o.postRun.shift(),R.unshift(e);var e;K(R)}()))}e=e||d,N>0||(function(){if(o.preRun)for("function"==typeof o.preRun&&(o.preRun=[o.preRun]);o.preRun.length;)e=o.preRun.shift(),L.unshift(e);var e;K(L)}(),N>0||(o.setStatus?(o.setStatus("Running..."),setTimeout((function(){setTimeout((function(){o.setStatus("")}),1),n()}),1)):n()))}if(o.stackSave=function(){return(o.stackSave=o.asm.stackSave).apply(null,arguments)},o.stackRestore=function(){return(o.stackRestore=o.asm.stackRestore).apply(null,arguments)},o.stackAlloc=function(){return(o.stackAlloc=o.asm.stackAlloc).apply(null,arguments)},o.wasmMemory=b,j=function e(){he||ve(),he||(j=e)},o.preInit)for("function"==typeof o.preInit&&(o.preInit=[o.preInit]);o.preInit.length>0;)o.preInit.pop()();return ve(),o.postRun||(o.postRun=[]),o.postRun.push((function(e){if(globalThis.sqlite3ApiBootstrap=function t(n=globalThis.sqlite3ApiConfig||t.defaultConfig){if(t.sqlite3)return console.warn("sqlite3ApiBootstrap() called multiple times.","Config and external initializers are ignored on calls after the first."),t.sqlite3;const r=Object.assign(Object.create(null),{exports:void 0,memory:void 0,bigIntEnabled:void 0!==e?!!e.HEAPU64:!!globalThis.BigInt64Array,debug:console.debug.bind(console),warn:console.warn.bind(console),error:console.error.bind(console),log:console.log.bind(console),wasmfsOpfsDir:"/opfs",useStdAlloc:!1},n||{});Object.assign(r,{allocExportName:r.useStdAlloc?"malloc":"sqlite3_malloc",deallocExportName:r.useStdAlloc?"free":"sqlite3_free",reallocExportName:r.useStdAlloc?"realloc":"sqlite3_realloc"},r),["exports","memory","wasmfsOpfsDir"].forEach((e=>{"function"==typeof r[e]&&(r[e]=r[e]())}));const i=Object.create(null),s=Object.create(null),o=e=>i.sqlite3_js_rc_str&&i.sqlite3_js_rc_str(e)||"Unknown result code #"+e;class a extends Error{constructor(...e){let t;if(e.length)if("number"==typeof(n=e[0])&&n===(0|n))if(t=e[0],1===e.length)super(o(e[0]));else{const n=o(t);"object"==typeof e[1]?super(n,e[1]):(e[0]=n+":",super(e.join(" ")))}else 2===e.length&&"object"==typeof e[1]?super(...e):super(e.join(" "));var n;this.resultCode=t||i.SQLITE_ERROR,this.name="SQLite3Error"}}a.toss=(...e)=>{throw new a(...e)};const l=a.toss;r.wasmfsOpfsDir&&!/^\/[^/]+$/.test(r.wasmfsOpfsDir)&&l("config.wasmfsOpfsDir must be falsy or in the form '/dir-name'.");const c=e=>"bigint"!=typeof e&&!!(e===(0|e)&&e<=2147483647&&e>=-2147483648),u="undefined"==typeof SharedArrayBuffer?function(){}:SharedArrayBuffer,f=e=>e.buffer instanceof u,_=(e,t,n)=>f(e)?e.slice(t,n):e.subarray(t,n),d=e=>e&&(e instanceof Uint8Array||e instanceof Int8Array||e instanceof ArrayBuffer),p=e=>e&&(e instanceof Uint8Array||e instanceof Int8Array||e instanceof ArrayBuffer),h=e=>d(e)||l("Value is not of a supported TypedArray type."),m=new TextDecoder("utf-8"),g=function(e,t,n){return m.decode(_(e,t,n))};class y extends Error{constructor(...e){2===e.length&&"object"==typeof e[1]?super(...e):e.length?super(e.join(" ")):super("Allocation failed."),this.resultCode=i.SQLITE_NOMEM,this.name="WasmAllocError"}}y.toss=(...e)=>{throw new y(...e)},Object.assign(i,{sqlite3_bind_blob:void 0,sqlite3_bind_text:void 0,sqlite3_create_function_v2:(e,t,n,r,i,s,o,a,l)=>{},sqlite3_create_function:(e,t,n,r,i,s,o,a)=>{},sqlite3_create_window_function:(e,t,n,r,i,s,o,a,l,c)=>{},sqlite3_prepare_v3:(e,t,n,r,i,s)=>{},sqlite3_prepare_v2:(e,t,n,r,i)=>{},sqlite3_exec:(e,t,n,r,i)=>{},sqlite3_randomness:(e,t)=>{}});const b={affirmBindableTypedArray:h,flexibleString:function(e){return p(e)?g(e instanceof ArrayBuffer?new Uint8Array(e):e):Array.isArray(e)?e.join(""):(s.isPtr(e)&&(e=s.cstrToJs(e)),e)},bigIntFits32:e=>e>=-2147483648n&&e<=0x7fffffffn,bigIntFits64:function e(t){return e._max||(e._max=BigInt("0x7fffffffffffffff"),e._min=~e._max),t>=e._min&&t<=e._max},bigIntFitsDouble:function e(t){return e._min||(e._min=Number.MIN_SAFE_INTEGER,e._max=Number.MAX_SAFE_INTEGER),t>=e._min&&t<=e._max},isBindableTypedArray:d,isInt32:c,isSQLableTypedArray:p,isTypedArray:e=>!!(e&&e.constructor&&c(e.constructor.BYTES_PER_ELEMENT))&&e,typedArrayToString:g,isUIThread:()=>globalThis.window===globalThis&&!!globalThis.document,isSharedTypedArray:f,toss:function(...e){throw new Error(e.join(" "))},toss3:l,typedArrayPart:_};Object.assign(s,{ptrSizeof:r.wasmPtrSizeof||4,ptrIR:r.wasmPtrIR||"i32",bigIntEnabled:!!r.bigIntEnabled,exports:r.exports||l("Missing API config.exports (WASM module exports)."),memory:r.memory||r.exports.memory||l("API config object requires a WebAssembly.Memory object","in either config.exports.memory (exported)","or config.memory (imported)."),alloc:void 0,realloc:void 0,dealloc:void 0}),s.allocFromTypedArray=function(e){e instanceof ArrayBuffer&&(e=new Uint8Array(e)),h(e);const t=s.alloc(e.byteLength||1);return s.heapForSize(e.constructor).set(e.byteLength?e:[0],t),t};{const e=r.allocExportName,t=r.deallocExportName,n=r.reallocExportName;for(const r of[e,t,n])s.exports[r]instanceof Function||l("Missing required exports[",r,"] function.");s.alloc=function e(t){return e.impl(t)||y.toss("Failed to allocate",t," bytes.")},s.alloc.impl=s.exports[e],s.realloc=function e(t,n){const r=e.impl(t,n);return n?r||y.toss("Failed to reallocate",n," bytes."):0},s.realloc.impl=s.exports[n],s.dealloc=s.exports[t]}let v;if(s.compileOptionUsed=function e(t){if(!arguments.length){if(e._result)return e._result;e._opt||(e._rx=/^([^=]+)=(.+)/,e._rxInt=/^-?\d+$/,e._opt=function(t,n){const r=e._rx.exec(t);n[0]=r?r[1]:t,n[1]=!r||(e._rxInt.test(r[2])?+r[2]:r[2])});const t={},n=[0,0];let r,s=0;for(;r=i.sqlite3_compileoption_get(s++);)e._opt(r,n),t[n[0]]=n[1];return e._result=t}if(Array.isArray(t)){const e={};return t.forEach((t=>{e[t]=i.sqlite3_compileoption_used(t)})),e}return"object"==typeof t?(Object.keys(t).forEach((e=>{t[e]=i.sqlite3_compileoption_used(e)})),t):"string"==typeof t&&!!i.sqlite3_compileoption_used(t)},s.pstack=Object.assign(Object.create(null),{restore:s.exports.sqlite3_wasm_pstack_restore,alloc:function(e){return"string"!=typeof e||(e=s.sizeofIR(e))||y.toss("Invalid value for pstack.alloc(",arguments[0],")"),s.exports.sqlite3_wasm_pstack_alloc(e)||y.toss("Could not allocate",e,"bytes from the pstack.")},allocChunks:function(e,t){"string"!=typeof t||(t=s.sizeofIR(t))||y.toss("Invalid size value for allocChunks(",arguments[1],")");const n=s.pstack.alloc(e*t),r=[];let i=0,o=0;for(;i<e;++i,o+=t)r.push(n+o);return r},allocPtr:(e=1,t=!0)=>1===e?s.pstack.alloc(t?8:s.ptrSizeof):s.pstack.allocChunks(e,t?8:s.ptrSizeof)}),Object.defineProperties(s.pstack,{pointer:{configurable:!1,iterable:!0,writeable:!1,get:s.exports.sqlite3_wasm_pstack_ptr},quota:{configurable:!1,iterable:!0,writeable:!1,get:s.exports.sqlite3_wasm_pstack_quota},remaining:{configurable:!1,iterable:!0,writeable:!1,get:s.exports.sqlite3_wasm_pstack_remaining}}),i.sqlite3_randomness=(...e)=>{if(1===e.length&&b.isTypedArray(e[0])&&1===e[0].BYTES_PER_ELEMENT){const t=e[0];if(0===t.byteLength)return s.exports.sqlite3_randomness(0,0),t;const n=s.pstack.pointer;try{let e=t.byteLength,n=0;const r=s.exports.sqlite3_randomness,i=s.heap8u(),o=e<512?e:512,a=s.pstack.alloc(o);do{const s=e>o?o:e;r(s,a),t.set(_(i,a,a+s),n),e-=s,n+=s}while(e>0)}catch(e){console.error("Highly unexpected (and ignored!) exception in sqlite3_randomness():",e)}finally{s.pstack.restore(n)}return t}s.exports.sqlite3_randomness(...e)},i.sqlite3_wasmfs_opfs_dir=function(){if(void 0!==v)return v;const e=r.wasmfsOpfsDir;if(!(e&&globalThis.FileSystemHandle&&globalThis.FileSystemDirectoryHandle&&globalThis.FileSystemFileHandle))return v="";try{return v=e&&0===s.xCallWrapped("sqlite3_wasm_init_wasmfs","i32",["string"],e)?e:""}catch(e){return v=""}},i.sqlite3_wasmfs_filename_is_persistent=function(e){const t=i.sqlite3_wasmfs_opfs_dir();return!(!t||!e)&&e.startsWith(t+"/")},i.sqlite3_js_db_uses_vfs=function(e,t,n=0){try{const r=i.sqlite3_vfs_find(t);return!!r&&(e?r===i.sqlite3_js_db_vfs(e,n)&&r:r===i.sqlite3_vfs_find(0)&&r)}catch(e){return!1}},i.sqlite3_js_vfs_list=function(){const e=[];let t=i.sqlite3_vfs_find(0);for(;t;){const n=new i.sqlite3_vfs(t);e.push(s.cstrToJs(n.$zName)),t=n.$pNext,n.dispose()}return e},i.sqlite3_js_db_export=function(e,t=0){(e=s.xWrap.testConvertArg("sqlite3*",e))||l("Invalid sqlite3* argument."),s.bigIntEnabled||l("BigInt64 support is not enabled.");const n=s.scopedAllocPush();let r;try{const n=s.scopedAlloc(8+s.ptrSizeof),i=n+8,o=t?s.isPtr(t)?t:s.scopedAllocCString(""+t):0;let a=s.exports.sqlite3_wasm_db_serialize(e,o,i,n,0);a&&l("Database serialization failed with code",q.capi.sqlite3_js_rc_str(a)),r=s.peekPtr(i);const c=s.peek(n,"i64");return a=c?s.heap8u().slice(r,r+Number(c)):new Uint8Array,a}finally{r&&s.exports.sqlite3_free(r),s.scopedAllocPop(n)}},i.sqlite3_js_db_vfs=(e,t=0)=>s.sqlite3_wasm_db_vfs(e,t),i.sqlite3_js_aggregate_context=(e,t)=>i.sqlite3_aggregate_context(e,t)||(t?y.toss("Cannot allocate",t,"bytes for sqlite3_aggregate_context()"):0),i.sqlite3_js_posix_create_file=function(e,t,n){let r;t&&s.isPtr(t)?r=t:t instanceof ArrayBuffer||t instanceof Uint8Array?(r=s.allocFromTypedArray(t),(arguments.length<3||!b.isInt32(n)||n<0)&&(n=t.byteLength)):a.toss("Invalid 2nd argument for sqlite3_js_posix_create_file().");try{(!b.isInt32(n)||n<0)&&a.toss("Invalid 3rd argument for sqlite3_js_posix_create_file().");const t=s.sqlite3_wasm_posix_create_file(e,r,n);t&&a.toss("Creation of file failed with sqlite3 result code",i.sqlite3_js_rc_str(t))}finally{s.dealloc(r)}},i.sqlite3_js_vfs_create_file=function(e,t,n,o){let l;r.warn("sqlite3_js_vfs_create_file() is deprecated and","should be avoided because it can lead to C-level crashes.","See its documentation for alternative options."),n?(s.isPtr(n)?l=n:n instanceof ArrayBuffer&&(n=new Uint8Array(n)),n instanceof Uint8Array?(l=s.allocFromTypedArray(n),(arguments.length<4||!b.isInt32(o)||o<0)&&(o=n.byteLength)):a.toss("Invalid 3rd argument type for sqlite3_js_vfs_create_file().")):l=0,(!b.isInt32(o)||o<0)&&(s.dealloc(l),a.toss("Invalid 4th argument for sqlite3_js_vfs_create_file()."));try{const n=s.sqlite3_wasm_vfs_create_file(e,t,l,o);n&&a.toss("Creation of file failed with sqlite3 result code",i.sqlite3_js_rc_str(n))}finally{s.dealloc(l)}},b.isUIThread()){const e=function(e){const t=Object.create(null);return t.prefix="kvvfs-"+e,t.stores=[],"session"!==e&&""!==e||t.stores.push(globalThis.sessionStorage),"local"!==e&&""!==e||t.stores.push(globalThis.localStorage),t};i.sqlite3_js_kvvfs_clear=function(t=""){let n=0;const r=e(t);return r.stores.forEach((e=>{const t=[];let i;for(i=0;i<e.length;++i){const n=e.key(i);n.startsWith(r.prefix)&&t.push(n)}t.forEach((t=>e.removeItem(t))),n+=t.length})),n},i.sqlite3_js_kvvfs_size=function(t=""){let n=0;const r=e(t);return r.stores.forEach((e=>{let t;for(t=0;t<e.length;++t){const i=e.key(t);i.startsWith(r.prefix)&&(n+=i.length,n+=e.getItem(i).length)}})),2*n}}i.sqlite3_db_config=function(e,t,...n){switch(this.s||(this.s=s.xWrap("sqlite3_wasm_db_config_s","int",["sqlite3*","int","string:static"]),this.pii=s.xWrap("sqlite3_wasm_db_config_pii","int",["sqlite3*","int","*","int","int"]),this.ip=s.xWrap("sqlite3_wasm_db_config_ip","int",["sqlite3*","int","int","*"])),t){case i.SQLITE_DBCONFIG_ENABLE_FKEY:case i.SQLITE_DBCONFIG_ENABLE_TRIGGER:case i.SQLITE_DBCONFIG_ENABLE_FTS3_TOKENIZER:case i.SQLITE_DBCONFIG_ENABLE_LOAD_EXTENSION:case i.SQLITE_DBCONFIG_NO_CKPT_ON_CLOSE:case i.SQLITE_DBCONFIG_ENABLE_QPSG:case i.SQLITE_DBCONFIG_TRIGGER_EQP:case i.SQLITE_DBCONFIG_RESET_DATABASE:case i.SQLITE_DBCONFIG_DEFENSIVE:case i.SQLITE_DBCONFIG_WRITABLE_SCHEMA:case i.SQLITE_DBCONFIG_LEGACY_ALTER_TABLE:case i.SQLITE_DBCONFIG_DQS_DML:case i.SQLITE_DBCONFIG_DQS_DDL:case i.SQLITE_DBCONFIG_ENABLE_VIEW:case i.SQLITE_DBCONFIG_LEGACY_FILE_FORMAT:case i.SQLITE_DBCONFIG_TRUSTED_SCHEMA:case i.SQLITE_DBCONFIG_STMT_SCANSTATUS:case i.SQLITE_DBCONFIG_REVERSE_SCANORDER:return this.ip(e,t,n[0],n[1]||0);case i.SQLITE_DBCONFIG_LOOKASIDE:return this.pii(e,t,n[0],n[1],n[2]);case i.SQLITE_DBCONFIG_MAINDBNAME:return this.s(e,t,n[0]);default:return i.SQLITE_MISUSE}}.bind(Object.create(null)),i.sqlite3_value_to_js=function(e,t=!0){let n;const r=i.sqlite3_value_type(e);switch(r){case i.SQLITE_INTEGER:s.bigIntEnabled?(n=i.sqlite3_value_int64(e),b.bigIntFitsDouble(n)&&(n=Number(n))):n=i.sqlite3_value_double(e);break;case i.SQLITE_FLOAT:n=i.sqlite3_value_double(e);break;case i.SQLITE_TEXT:n=i.sqlite3_value_text(e);break;case i.SQLITE_BLOB:{const t=i.sqlite3_value_bytes(e),r=i.sqlite3_value_blob(e);t&&!r&&q.WasmAllocError.toss("Cannot allocate memory for blob argument of",t,"byte(s)"),n=t?s.heap8u().slice(r,r+Number(t)):null;break}case i.SQLITE_NULL:n=null;break;default:t&&l(i.SQLITE_MISMATCH,"Unhandled sqlite3_value_type():",r),n=void 0}return n},i.sqlite3_values_to_js=function(e,t,n=!0){let r;const o=[];for(r=0;r<e;++r)o.push(i.sqlite3_value_to_js(s.peekPtr(t+s.ptrSizeof*r),n));return o},i.sqlite3_result_error_js=function(e,t){t instanceof y?i.sqlite3_result_error_nomem(e):i.sqlite3_result_error(e,""+t,-1)},i.sqlite3_result_js=function(e,t){if(t instanceof Error)i.sqlite3_result_error_js(e,t);else try{switch(typeof t){case"undefined":break;case"boolean":i.sqlite3_result_int(e,t?1:0);break;case"bigint":b.bigIntFits32(t)?i.sqlite3_result_int(e,Number(t)):b.bigIntFitsDouble(t)?i.sqlite3_result_double(e,Number(t)):s.bigIntEnabled?b.bigIntFits64(t)?i.sqlite3_result_int64(e,t):l("BigInt value",t.toString(),"is too BigInt for int64."):l("BigInt value",t.toString(),"is too BigInt.");break;case"number":{let n;n=b.isInt32(t)?i.sqlite3_result_int:s.bigIntEnabled&&Number.isInteger(t)&&b.bigIntFits64(BigInt(t))?i.sqlite3_result_int64:i.sqlite3_result_double,n(e,t);break}case"string":{const[n,r]=s.allocCString(t,!0);i.sqlite3_result_text(e,n,r,i.SQLITE_WASM_DEALLOC);break}case"object":if(null===t){i.sqlite3_result_null(e);break}if(b.isBindableTypedArray(t)){const n=s.allocFromTypedArray(t);i.sqlite3_result_blob(e,n,t.byteLength,i.SQLITE_WASM_DEALLOC);break}default:l("Don't not how to handle this UDF result value:",typeof t,t)}}catch(t){i.sqlite3_result_error_js(e,t)}},i.sqlite3_column_js=function(e,t,n=!0){const r=i.sqlite3_column_value(e,t);return 0===r?void 0:i.sqlite3_value_to_js(r,n)};const w=function(e,t,n){n=i[n],this.ptr?s.pokePtr(this.ptr,0):this.ptr=s.allocPtr();const r=n(e,t,this.ptr);if(r)return a.toss(r,arguments[2]+"() failed with code "+r);const o=s.peekPtr(this.ptr);return o?i.sqlite3_value_to_js(o,!0):void 0}.bind(Object.create(null));i.sqlite3_preupdate_new_js=(e,t)=>w(e,t,"sqlite3_preupdate_new"),i.sqlite3_preupdate_old_js=(e,t)=>w(e,t,"sqlite3_preupdate_old"),i.sqlite3changeset_new_js=(e,t)=>w(e,t,"sqlite3changeset_new"),i.sqlite3changeset_old_js=(e,t)=>w(e,t,"sqlite3changeset_old");const q={WasmAllocError:y,SQLite3Error:a,capi:i,util:b,wasm:s,config:r,version:Object.create(null),client:void 0,asyncPostInit:async function e(){if(e.isReady instanceof Promise)return e.isReady;let n=t.initializersAsync;delete t.initializersAsync;const i=async()=>(q.__isUnderTest||(delete q.util,delete q.StructBinder),q),s=e=>{throw r.error("an async sqlite3 initializer failed:",e),e};if(!n||!n.length)return e.isReady=i().catch(s);n=n.map((e=>e instanceof Function?async t=>e(q):e)),n.push(i);let o=Promise.resolve(q);for(;n.length;)o=o.then(n.shift());return e.isReady=o.catch(s)},scriptInfo:void 0};try{t.initializers.forEach((e=>{e(q)}))}catch(e){throw console.error("sqlite3 bootstrap initializer threw:",e),e}return delete t.initializers,t.sqlite3=q,q},globalThis.sqlite3ApiBootstrap.initializers=[],globalThis.sqlite3ApiBootstrap.initializersAsync=[],globalThis.sqlite3ApiBootstrap.defaultConfig=Object.create(null),globalThis.sqlite3ApiBootstrap.sqlite3=void 0,globalThis.WhWasmUtilInstaller=function(e){void 0===e.bigIntEnabled&&(e.bigIntEnabled=!!globalThis.BigInt64Array);const t=(...e)=>{throw new Error(e.join(" "))};e.exports||Object.defineProperty(e,"exports",{enumerable:!0,configurable:!0,get:()=>e.instance&&e.instance.exports});const n=e.pointerIR||"i32",r=e.ptrSizeof="i32"===n?4:"i64"===n?8:t("Unhandled ptrSizeof:",n),i=Object.create(null);i.heapSize=0,i.memory=null,i.freeFuncIndexes=[],i.scopedAlloc=[],i.utf8Decoder=new TextDecoder,i.utf8Encoder=new TextEncoder("utf-8"),e.sizeofIR=e=>{switch(e){case"i8":return 1;case"i16":return 2;case"i32":case"f32":case"float":return 4;case"i64":case"f64":case"double":return 8;case"*":return r;default:return(""+e).endsWith("*")?r:void 0}};const s=function(){if(i.memory){if(i.heapSize===i.memory.buffer.byteLength)return i}else i.memory=e.memory instanceof WebAssembly.Memory?e.memory:e.exports.memory;const t=i.memory.buffer;return i.HEAP8=new Int8Array(t),i.HEAP8U=new Uint8Array(t),i.HEAP16=new Int16Array(t),i.HEAP16U=new Uint16Array(t),i.HEAP32=new Int32Array(t),i.HEAP32U=new Uint32Array(t),e.bigIntEnabled&&(i.HEAP64=new BigInt64Array(t),i.HEAP64U=new BigUint64Array(t)),i.HEAP32F=new Float32Array(t),i.HEAP64F=new Float64Array(t),i.heapSize=t.byteLength,i};e.heap8=()=>s().HEAP8,e.heap8u=()=>s().HEAP8U,e.heap16=()=>s().HEAP16,e.heap16u=()=>s().HEAP16U,e.heap32=()=>s().HEAP32,e.heap32u=()=>s().HEAP32U,e.heapForSize=function(n,r=!0){const o=i.memory&&i.heapSize===i.memory.buffer.byteLength?i:s();switch(n){case Int8Array:return o.HEAP8;case Uint8Array:return o.HEAP8U;case Int16Array:return o.HEAP16;case Uint16Array:return o.HEAP16U;case Int32Array:return o.HEAP32;case Uint32Array:return o.HEAP32U;case 8:return r?o.HEAP8U:o.HEAP8;case 16:return r?o.HEAP16U:o.HEAP16;case 32:return r?o.HEAP32U:o.HEAP32;case 64:if(o.HEAP64)return r?o.HEAP64U:o.HEAP64;break;default:if(e.bigIntEnabled){if(n===globalThis.BigUint64Array)return o.HEAP64U;if(n===globalThis.BigInt64Array)return o.HEAP64;break}}t("Invalid heapForSize() size: expecting 8, 16, 32,","or (if BigInt is enabled) 64.")},e.functionTable=function(){return e.exports.__indirect_function_table},e.functionEntry=function(t){const n=e.functionTable();return t<n.length?n.get(t):void 0},e.jsFuncToWasm=function e(n,r){if(e._||(e._={sigTypes:Object.assign(Object.create(null),{i:"i32",p:"i32",P:"i32",s:"i32",j:"i64",f:"f32",d:"f64"}),typeCodes:Object.assign(Object.create(null),{f64:124,f32:125,i64:126,i32:127}),uleb128Encode:function(e,t,n){n<128?e[t](n):e[t](n%128|128,n>>7)},rxJSig:/^(\w)\((\w*)\)$/,sigParams:function(t){const n=e._.rxJSig.exec(t);return n?n[2]:t.substr(1)},letterType:n=>e._.sigTypes[n]||t("Invalid signature letter:",n),pushSigType:(t,n)=>t.push(e._.typeCodes[e._.letterType(n)])}),"string"==typeof n){const e=r;r=n,n=e}const i=e._.sigParams(r),s=[1,96];e._.uleb128Encode(s,"push",i.length);for(const t of i)e._.pushSigType(s,t);return"v"===r[0]?s.push(0):(s.push(1),e._.pushSigType(s,r[0])),e._.uleb128Encode(s,"unshift",s.length),s.unshift(0,97,115,109,1,0,0,0,1),s.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0),new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array(s)),{e:{f:n}}).exports.f};const o=function(n,r,s){if(s&&!i.scopedAlloc.length&&t("No scopedAllocPush() scope is active."),"string"==typeof n){const e=r;r=n,n=e}"string"==typeof r&&n instanceof Function||t("Invalid arguments: expecting (function,signature) or (signature,function).");const o=e.functionTable(),a=o.length;let l;for(;i.freeFuncIndexes.length&&(l=i.freeFuncIndexes.pop(),o.get(l));)l=null;l||(l=a,o.grow(1));try{return o.set(l,n),s&&i.scopedAlloc[i.scopedAlloc.length-1].push(l),l}catch(e){if(!(e instanceof TypeError))throw l===a&&i.freeFuncIndexes.push(a),e}try{const t=e.jsFuncToWasm(n,r);o.set(l,t),s&&i.scopedAlloc[i.scopedAlloc.length-1].push(l)}catch(e){throw l===a&&i.freeFuncIndexes.push(a),e}return l};e.installFunction=(e,t)=>o(e,t,!1),e.scopedInstallFunction=(e,t)=>o(e,t,!0),e.uninstallFunction=function(t){if(!t&&0!==t)return;const n=i.freeFuncIndexes,r=e.functionTable();n.push(t);const s=r.get(t);return r.set(t,null),s},e.peek=function(r,o="i8"){o.endsWith("*")&&(o=n);const a=i.memory&&i.heapSize===i.memory.buffer.byteLength?i:s(),l=Array.isArray(r)?[]:void 0;let c;do{switch(l&&(r=arguments[0].shift()),o){case"i1":case"i8":c=a.HEAP8[0|r];break;case"i16":c=a.HEAP16[r>>1];break;case"i32":c=a.HEAP32[r>>2];break;case"float":case"f32":c=a.HEAP32F[r>>2];break;case"double":case"f64":c=Number(a.HEAP64F[r>>3]);break;case"i64":if(e.bigIntEnabled){c=BigInt(a.HEAP64[r>>3]);break}default:t("Invalid type for peek():",o)}l&&l.push(c)}while(l&&arguments[0].length);return l||c},e.poke=function(e,r,o="i8"){o.endsWith("*")&&(o=n);const a=i.memory&&i.heapSize===i.memory.buffer.byteLength?i:s();for(const n of Array.isArray(e)?e:[e])switch(o){case"i1":case"i8":a.HEAP8[0|n]=r;continue;case"i16":a.HEAP16[n>>1]=r;continue;case"i32":a.HEAP32[n>>2]=r;continue;case"float":case"f32":a.HEAP32F[n>>2]=r;continue;case"double":case"f64":a.HEAP64F[n>>3]=r;continue;case"i64":if(a.HEAP64){a.HEAP64[n>>3]=BigInt(r);continue}default:t("Invalid type for poke(): "+o)}return this},e.peekPtr=(...t)=>e.peek(1===t.length?t[0]:t,n),e.pokePtr=(t,r=0)=>e.poke(t,r,n),e.peek8=(...t)=>e.peek(1===t.length?t[0]:t,"i8"),e.poke8=(t,n)=>e.poke(t,n,"i8"),e.peek16=(...t)=>e.peek(1===t.length?t[0]:t,"i16"),e.poke16=(t,n)=>e.poke(t,n,"i16"),e.peek32=(...t)=>e.peek(1===t.length?t[0]:t,"i32"),e.poke32=(t,n)=>e.poke(t,n,"i32"),e.peek64=(...t)=>e.peek(1===t.length?t[0]:t,"i64"),e.poke64=(t,n)=>e.poke(t,n,"i64"),e.peek32f=(...t)=>e.peek(1===t.length?t[0]:t,"f32"),e.poke32f=(t,n)=>e.poke(t,n,"f32"),e.peek64f=(...t)=>e.peek(1===t.length?t[0]:t,"f64"),e.poke64f=(t,n)=>e.poke(t,n,"f64"),e.getMemValue=e.peek,e.getPtrValue=e.peekPtr,e.setMemValue=e.poke,e.setPtrValue=e.pokePtr,e.isPtr32=e=>"number"==typeof e&&e===(0|e)&&e>=0,e.isPtr=e.isPtr32,e.cstrlen=function(t){if(!t||!e.isPtr(t))return null;const n=s().HEAP8U;let r=t;for(;0!==n[r];++r);return r-t};const a="undefined"==typeof SharedArrayBuffer?function(){}:SharedArrayBuffer;e.cstrToJs=function(t){const n=e.cstrlen(t);return n?(r=s().HEAP8U,o=t,l=t+n,i.utf8Decoder.decode(r.buffer instanceof a?r.slice(o,l):r.subarray(o,l))):null===n?n:"";var r,o,l},e.jstrlen=function(e){if("string"!=typeof e)return null;const t=e.length;let n=0;for(let r=0;r<t;++r){let t=e.charCodeAt(r);t>=55296&&t<=57343&&(t=65536+((1023&t)<<10)|1023&e.charCodeAt(++r)),t<=127?++n:n+=t<=2047?2:t<=65535?3:4}return n},e.jstrcpy=function(e,n,r=0,i=-1,s=!0){if(n&&(n instanceof Int8Array||n instanceof Uint8Array)||t("jstrcpy() target must be an Int8Array or Uint8Array."),i<0&&(i=n.length-r),!(i>0&&r>=0))return 0;let o=0,a=e.length;const l=r,c=r+i-(s?1:0);for(;o<a&&r<c;++o){let t=e.charCodeAt(o);if(t>=55296&&t<=57343&&(t=65536+((1023&t)<<10)|1023&e.charCodeAt(++o)),t<=127){if(r>=c)break;n[r++]=t}else if(t<=2047){if(r+1>=c)break;n[r++]=192|t>>6,n[r++]=128|63&t}else if(t<=65535){if(r+2>=c)break;n[r++]=224|t>>12,n[r++]=128|t>>6&63,n[r++]=128|63&t}else{if(r+3>=c)break;n[r++]=240|t>>18,n[r++]=128|t>>12&63,n[r++]=128|t>>6&63,n[r++]=128|63&t}}return s&&(n[r++]=0),r-l},e.cstrncpy=function(n,r,i){if(n&&r||t("cstrncpy() does not accept NULL strings."),i<0)i=e.cstrlen(strPtr)+1;else if(!(i>0))return 0;const s=e.heap8u();let o,a=0;for(;a<i&&(o=s[r+a]);++a)s[n+a]=o;return a<i&&(s[n+a++]=0),a},e.jstrToUintArray=(e,t=!1)=>i.utf8Encoder.encode(t?e+"\0":e);const l=(e,n)=>{e.alloc instanceof Function&&e.dealloc instanceof Function||t("Object is missing alloc() and/or dealloc() function(s)","required by",n+"().")},c=function(t,n,r,o){if(l(e,o),"string"!=typeof t)return null;{const e=i.utf8Encoder.encode(t),o=r(e.length+1),a=s().HEAP8U;return a.set(e,o),a[o+e.length]=0,n?[o,e.length]:o}};e.allocCString=(t,n=!1)=>c(t,n,e.alloc,"allocCString()"),e.scopedAllocPush=function(){l(e,"scopedAllocPush");const t=[];return i.scopedAlloc.push(t),t},e.scopedAllocPop=function(n){l(e,"scopedAllocPop");const r=arguments.length?i.scopedAlloc.indexOf(n):i.scopedAlloc.length-1;r<0&&t("Invalid state object for scopedAllocPop()."),0===arguments.length&&(n=i.scopedAlloc[r]),i.scopedAlloc.splice(r,1);for(let t;t=n.pop();)e.functionEntry(t)?e.uninstallFunction(t):e.dealloc(t)},e.scopedAlloc=function(n){i.scopedAlloc.length||t("No scopedAllocPush() scope is active.");const r=e.alloc(n);return i.scopedAlloc[i.scopedAlloc.length-1].push(r),r},Object.defineProperty(e.scopedAlloc,"level",{configurable:!1,enumerable:!1,get:()=>i.scopedAlloc.length,set:()=>t("The 'active' property is read-only.")}),e.scopedAllocCString=(t,n=!1)=>c(t,n,e.scopedAlloc,"scopedAllocCString()");const u=function(t,n){const r=e[t?"scopedAlloc":"alloc"]((n.length+1)*e.ptrSizeof);let i=0;return n.forEach((n=>{e.pokePtr(r+e.ptrSizeof*i++,e[t?"scopedAllocCString":"allocCString"](""+n))})),e.pokePtr(r+e.ptrSizeof*i,0),r};e.scopedAllocMainArgv=e=>u(!0,e),e.allocMainArgv=e=>u(!1,e),e.cArgvToJs=(t,n)=>{const r=[];for(let i=0;i<t;++i){const t=e.peekPtr(n+e.ptrSizeof*i);r.push(t?e.cstrToJs(t):null)}return r},e.scopedAllocCall=function(t){e.scopedAllocPush();try{return t()}finally{e.scopedAllocPop()}};const f=function(t,i,s){l(e,s);const o=i?"i64":n;let a=e[s](t*(i?8:r));if(e.poke(a,0,o),1===t)return a;const c=[a];for(let n=1;n<t;++n)a+=i?8:r,c[n]=a,e.poke(a,0,o);return c};e.allocPtr=(e=1,t=!0)=>f(e,t,"alloc"),e.scopedAllocPtr=(e=1,t=!0)=>f(e,t,"scopedAlloc"),e.xGet=function(n){return e.exports[n]||t("Cannot find exported symbol:",n)};const _=(e,n)=>t(e+"() requires",n,"argument(s).");e.xCall=function(n,...r){const i=e.xGet(n);return i instanceof Function||t("Exported symbol",n,"is not a function."),i.length!==r.length&&_(n,i.length),2===arguments.length&&Array.isArray(arguments[1])?i.apply(null,arguments[1]):i.apply(null,r)},i.xWrap=Object.create(null),i.xWrap.convert=Object.create(null),i.xWrap.convert.arg=new Map,i.xWrap.convert.result=new Map;const d=i.xWrap.convert.arg,p=i.xWrap.convert.result;e.bigIntEnabled&&d.set("i64",(e=>BigInt(e)));const h="i32"===n?e=>0|e:e=>BigInt(e)|BigInt(0);d.set("i32",h).set("i16",(e=>65535&e)).set("i8",(e=>255&e)).set("f32",(e=>Number(e).valueOf())).set("float",d.get("f32")).set("f64",d.get("f32")).set("double",d.get("f64")).set("int",d.get("i32")).set("null",(e=>e)).set(null,d.get("null")).set("**",h).set("*",h),p.set("*",h).set("pointer",h).set("number",(e=>Number(e))).set("void",(e=>{})).set("null",(e=>e)).set(null,p.get("null"));{const r=["i8","i16","i32","int","f32","float","f64","double"];e.bigIntEnabled&&r.push("i64");const i=d.get(n);for(const e of r)d.set(e+"*",i),p.set(e+"*",i),p.set(e,d.get(e)||t("Missing arg converter:",e))}const m=function(t){return"string"==typeof t?e.scopedAllocCString(t):t?h(t):null};d.set("string",m).set("utf8",m).set("pointer",m),p.set("string",(t=>e.cstrToJs(t))).set("utf8",p.get("string")).set("string:dealloc",(t=>{try{return t?e.cstrToJs(t):null}finally{e.dealloc(t)}})).set("utf8:dealloc",p.get("string:dealloc")).set("json",(t=>JSON.parse(e.cstrToJs(t)))).set("json:dealloc",(t=>{try{return t?JSON.parse(e.cstrToJs(t)):null}finally{e.dealloc(t)}}));const g=class{constructor(e){this.name=e.name||"unnamed adapter"}convertArg(e,n,r){t("AbstractArgAdapter must be subclassed.")}};d.FuncPtrAdapter=class n extends g{constructor(e){super(e),d.FuncPtrAdapter.warnOnUse&&console.warn("xArg.FuncPtrAdapter is an internal-only API","and is not intended to be invoked from","client-level code. Invoked with:",e),this.name=e.name||"unnamed",this.signature=e.signature,e.contextKey instanceof Function&&(this.contextKey=e.contextKey,e.bindScope||(e.bindScope="context")),this.bindScope=e.bindScope||t("FuncPtrAdapter options requires a bindScope (explicit or implied)."),n.bindScopes.indexOf(e.bindScope)<0&&t("Invalid options.bindScope ("+e.bindMod+") for FuncPtrAdapter. Expecting one of: ("+n.bindScopes.join(", ")+")"),this.isTransient="transient"===this.bindScope,this.isContext="context"===this.bindScope,this.isPermanent="permanent"===this.bindScope,this.singleton="singleton"===this.bindScope?[]:void 0,this.callProxy=e.callProxy instanceof Function?e.callProxy:void 0}contextKey(e,t){return this}contextMap(e){const t=this.__cmap||(this.__cmap=new Map);let n=t.get(e);return void 0===n&&t.set(e,n=[]),n}convertArg(t,r,s){let a=this.singleton;if(!a&&this.isContext&&(a=this.contextMap(this.contextKey(r,s))),a&&a[0]===t)return a[1];if(t instanceof Function){this.callProxy&&(t=this.callProxy(t));const e=o(t,this.signature,this.isTransient);if(n.debugFuncInstall&&n.debugOut("FuncPtrAdapter installed",this,this.contextKey(r,s),"@"+e,t),a){if(a[1]){n.debugFuncInstall&&n.debugOut("FuncPtrAdapter uninstalling",this,this.contextKey(r,s),"@"+a[1],t);try{i.scopedAlloc[i.scopedAlloc.length-1].push(a[1])}catch(e){}}a[0]=t,a[1]=e}return e}if(e.isPtr(t)||null==t){if(a&&a[1]&&a[1]!==t){n.debugFuncInstall&&n.debugOut("FuncPtrAdapter uninstalling",this,this.contextKey(r,s),"@"+a[1],t);try{i.scopedAlloc[i.scopedAlloc.length-1].push(a[1])}catch(e){}a[0]=a[1]=0|t}return t||0}throw new TypeError("Invalid FuncPtrAdapter argument type. Expecting a function pointer or a "+(this.name?this.name+" ":"")+"function matching signature "+this.signature+".")}},d.FuncPtrAdapter.warnOnUse=!1,d.FuncPtrAdapter.debugFuncInstall=!1,d.FuncPtrAdapter.debugOut=console.debug.bind(console),d.FuncPtrAdapter.bindScopes=["transient","context","singleton","permanent"];const y=e=>d.get(e)||t("Argument adapter not found:",e),b=e=>p.get(e)||t("Result adapter not found:",e);i.xWrap.convertArg=(e,...t)=>y(e)(...t),i.xWrap.convertArgNoCheck=(e,...t)=>d.get(e)(...t),i.xWrap.convertResult=(e,t)=>null===e?t:e?b(e)(t):void 0,i.xWrap.convertResultNoCheck=(e,t)=>null===e?t:e?p.get(e)(t):void 0,e.xWrap=function(n,r,...s){3===arguments.length&&Array.isArray(arguments[2])&&(s=arguments[2]),e.isPtr(n)&&(n=e.functionEntry(n)||t("Function pointer not found in WASM function table."));const o=n instanceof Function,a=o?n:e.xGet(n);if(o&&(n=a.name||"unnamed function"),s.length!==a.length&&_(n,a.length),null===r&&0===a.length)return a;null!=r&&b(r);for(const e of s)e instanceof g?d.set(e,((...t)=>e.convertArg(...t))):y(e);const l=i.xWrap;return 0===a.length?(...e)=>e.length?_(n,a.length):l.convertResult(r,a.call(null)):function(...t){t.length!==a.length&&_(n,a.length);const i=e.scopedAllocPush();try{for(const e in t)t[e]=l.convertArgNoCheck(s[e],t[e],t,e);return l.convertResultNoCheck(r,a.apply(null,t))}finally{e.scopedAllocPop(i)}}};const v=function(e,n,r,i,s,o){if("string"==typeof r){if(1===n)return o.get(r);if(2===n)return i?(i instanceof Function||t(s,"requires a function argument."),o.set(r,i),e):(o.get(r),e)}t("Invalid arguments to",s)};return e.xWrap.resultAdapter=function e(t,n){return v(e,arguments.length,t,n,"resultAdapter()",p)},e.xWrap.argAdapter=function e(t,n){return v(e,arguments.length,t,n,"argAdapter()",d)},e.xWrap.FuncPtrAdapter=d.FuncPtrAdapter,e.xCallWrapped=function(t,n,r,...i){return Array.isArray(arguments[3])&&(i=arguments[3]),e.xWrap(t,n,r||[]).apply(null,i||[])},e.xWrap.testConvertArg=i.xWrap.convertArg,e.xWrap.testConvertResult=i.xWrap.convertResult,e},globalThis.WhWasmUtilInstaller.yawl=function(e){const t=()=>fetch(e.uri,{credentials:"same-origin"}),n=this,r=function(t){if(e.wasmUtilTarget){const r=(...e)=>{throw new Error(e.join(" "))},i=e.wasmUtilTarget;if(i.module=t.module,i.instance=t.instance,i.instance.exports.memory||(i.memory=e.imports&&e.imports.env&&e.imports.env.memory||r("Missing 'memory' object!")),!i.alloc&&t.instance.exports.malloc){const e=t.instance.exports;i.alloc=function(t){return e.malloc(t)||r("Allocation of",t,"bytes failed.")},i.dealloc=function(t){e.free(t)}}n(i)}return e.onload&&e.onload(t,e),t};return WebAssembly.instantiateStreaming?function(){return WebAssembly.instantiateStreaming(t(),e.imports||{}).then(r)}:function(){return t().then((e=>e.arrayBuffer())).then((t=>WebAssembly.instantiate(t,e.imports||{}))).then(r)}}.bind(globalThis.WhWasmUtilInstaller),globalThis.Jaccwabyt=function e(t){const n=(...e)=>{throw new Error(e.join(" "))};t.heap instanceof WebAssembly.Memory||t.heap instanceof Function||n("config.heap must be WebAssembly.Memory instance or a function."),["alloc","dealloc"].forEach((function(e){t[e]instanceof Function||n("Config option '"+e+"' must be a function.")}));const r=e,i=t.heap instanceof Function?t.heap:()=>new Uint8Array(t.heap.buffer),s=t.alloc,o=t.dealloc,a=t.log||console.log.bind(console),l=t.memberPrefix||"",c=t.memberSuffix||"",u=void 0===t.bigIntEnabled?!!globalThis.BigInt64Array:!!t.bigIntEnabled,f=globalThis.BigInt,_=globalThis.BigInt64Array,d=t.ptrSizeof||4,p=t.ptrIR||"i32";r.debugFlags||(r.__makeDebugFlags=function(e=null){e&&e.__flags&&(e=e.__flags);const t=function e(t){return 0===arguments.length?e.__flags:(t<0?(delete e.__flags.getter,delete e.__flags.setter,delete e.__flags.alloc,delete e.__flags.dealloc):(e.__flags.getter=!!(1&t),e.__flags.setter=!!(2&t),e.__flags.alloc=!!(4&t),e.__flags.dealloc=!!(8&t)),e._flags)};return Object.defineProperty(t,"__flags",{iterable:!1,writable:!1,value:Object.create(e)}),e||t(0),t},r.debugFlags=r.__makeDebugFlags());const h=function(){const e=new ArrayBuffer(2);return new DataView(e).setInt16(0,256,!0),256===new Int16Array(e)[0]}(),m=e=>(e=>"("===e[1])(e)?"p":e[0],g=function(e){switch(m(e)){case"c":case"C":return"i8";case"i":return"i32";case"p":case"P":case"s":return p;case"j":return"i64";case"f":return"float";case"d":return"double"}n("Unhandled signature IR:",e)},y=_?()=>!0:()=>n("BigInt64Array is not available."),b=(e,t)=>e+"::"+t,v=new WeakMap,w="(pointer-is-external)",q=function(e,t,n){if(n||(n=v.get(t)),n){if(v.delete(t),Array.isArray(t.ondispose)){let r;for(;r=t.ondispose.shift();)try{r instanceof Function?r.call(t):r instanceof z?r.dispose():"number"==typeof r&&o(r)}catch(t){console.warn("ondispose() for",e.structName,"@",n,"threw. NOT propagating it.",t)}}else if(t.ondispose instanceof Function)try{t.ondispose()}catch(t){console.warn("ondispose() for",e.structName,"@",n,"threw. NOT propagating it.",t)}delete t.ondispose,e.debugFlags.__flags.dealloc&&a("debug.dealloc:",t[w]?"EXTERNAL":"",e.structName,"instance:",e.structInfo.sizeof,"bytes @"+n),t[w]||o(n)}},E=e=>({configurable:!1,writable:!1,iterable:!1,value:e}),x=function(e,t,r){let o=!r;r?Object.defineProperty(t,w,E(r)):(r=s(e.structInfo.sizeof))||n("Allocation of",e.structName,"structure failed.");try{e.debugFlags.__flags.alloc&&a("debug.alloc:",o?"":"EXTERNAL",e.structName,"instance:",e.structInfo.sizeof,"bytes @"+r),o&&i().fill(0,r,r+e.structInfo.sizeof),v.set(t,r)}catch(n){throw q(e,t,r),n}},S=E((e=>l+e+c)),k=function(e,t,r=!0){let i=e.members[t];if(!i&&(l||c)){for(const n of Object.values(e.members))if(n.key===t){i=n;break}!i&&r&&n(b(e.name,t),"is not a mapped struct member.")}return i},A=function e(t,n,r=!1){e._||(e._=e=>e.replace(/[^vipPsjrdcC]/g,"").replace(/[pPscC]/g,"i"));const i=k(t.structInfo,n,!0);return r?e._(i.signature):i.signature},I={configurable:!1,enumerable:!1,get:function(){return v.get(this)},set:()=>n("Cannot assign the 'pointer' property of a struct.")},T=E((function(){const e=[];for(const t of Object.keys(this.structInfo.members))e.push(this.memberKey(t));return e})),O=new TextDecoder("utf-8"),F=new TextEncoder,C="undefined"==typeof SharedArrayBuffer?function(){}:SharedArrayBuffer,P=function(e){"s"!==e.signature&&n("Invalid member type signature for C-string value:",JSON.stringify(e))},D=function(e,...t){e.ondispose?Array.isArray(e.ondispose)||(e.ondispose=[e.ondispose]):e.ondispose=[],e.ondispose.push(...t)},L=function(e){const t=F.encode(e),r=s(t.length+1);r||n("Allocation error while duplicating string:",e);const o=i();return o.set(t,r),o[r+t.length]=0,r},z=function(e,t){arguments[2]!==E&&n("Do not call the StructType constructor","from client-level code."),Object.defineProperties(this,{structName:E(e),structInfo:E(t)})};z.prototype=Object.create(null,{dispose:E((function(){q(this.constructor,this)})),lookupMember:E((function(e,t=!0){return k(this.structInfo,e,t)})),memberToJsString:E((function(e){return function(e,t){const n=k(e.structInfo,t,!0);P(n);const r=e[n.key];if(!r)return null;let s=r;const o=i();for(;0!==o[s];++s);return r===s?"":(a=o,l=r,c=s,O.decode(a.buffer instanceof C?a.slice(l,c):a.subarray(l,c)));var a,l,c}(this,e)})),memberIsString:E((function(e,t=!0){return function(e,t,n=!1){const r=k(e.structInfo,t,n);return!(!r||1!==r.signature.length||"s"!==r.signature[0])&&r}(this,e,t)})),memberKey:S,memberKeys:T,memberSignature:E((function(e,t=!1){return A(this,e,t)})),memoryDump:E((function(){const e=this.pointer;return e?new Uint8Array(i().slice(e,e+this.structInfo.sizeof)):null})),pointer:I,setMemberCString:E((function(e,t){return function(e,t,n){const r=k(e.structInfo,t,!0);P(r);const i=L(n);return e[r.key]=i,D(e,i),e}(this,e,t)}))}),Object.assign(z.prototype,{addOnDispose:function(...e){return D(this,...e),this}}),Object.defineProperties(z,{allocCString:E(L),isA:E((e=>e instanceof z)),hasExternalPointer:E((e=>e instanceof z&&!!e[w])),memberKey:S});const R=e=>Number.isFinite(e)||e instanceof(f||Number),N=function e(t,r,s){if(!e._){e._={getters:{},setters:{},sw:{}};const t=["i","c","C","p","P","s","f","d","v()"];u&&t.push("j"),t.forEach((function(t){e._.getters[t]=function(e){switch(m(e)){case"p":case"P":case"s":switch(d){case 4:return"getInt32";case 8:return y()&&"getBigInt64"}break;case"i":return"getInt32";case"c":return"getInt8";case"C":return"getUint8";case"j":return y()&&"getBigInt64";case"f":return"getFloat32";case"d":return"getFloat64"}n("Unhandled DataView getter for signature:",e)}(t),e._.setters[t]=function(e){switch(m(e)){case"p":case"P":case"s":switch(d){case 4:return"setInt32";case 8:return y()&&"setBigInt64"}break;case"i":return"setInt32";case"c":return"setInt8";case"C":return"setUint8";case"j":return y()&&"setBigInt64";case"f":return"setFloat32";case"d":return"setFloat64"}n("Unhandled DataView setter for signature:",e)}(t),e._.sw[t]=function(e){switch(m(e)){case"i":case"f":case"c":case"C":case"d":return Number;case"j":return y()&&f;case"p":case"P":case"s":switch(d){case 4:return Number;case 8:return y()&&f}}n("Unhandled DataView set wrapper for signature:",e)}(t)}));const r=/^[ipPsjfdcC]$/,i=/^[vipPsjfdcC]\([ipPsjfdcC]*\)$/;e.sigCheck=function(e,t,s,o){Object.prototype.hasOwnProperty.call(e,s)&&n(e.structName,"already has a property named",s+"."),r.test(o)||i.test(o)||n("Malformed signature for",b(e.structName,t)+":",o)}}const o=t.memberKey(r);e.sigCheck(t.prototype,r,o,s.signature),s.key=o,s.name=r;const l=m(s.signature),c=b(t.prototype.structName,o),_=t.prototype.debugFlags.__flags,p=Object.create(null);var v,w;p.configurable=!1,p.enumerable=!1,p.get=function(){_.getter&&a("debug.getter:",e._.getters[l],"for",g(l),c,"@",this.pointer,"+",s.offset,"sz",s.sizeof);let t=new DataView(i().buffer,this.pointer+s.offset,s.sizeof)[e._.getters[l]](0,h);return _.getter&&a("debug.getter:",c,"result =",t),t},s.readOnly?p.set=(v=t.prototype.structName,w=o,()=>n(b(v,w),"is read-only.")):p.set=function(t){if(_.setter&&a("debug.setter:",e._.setters[l],"for",g(l),c,"@",this.pointer,"+",s.offset,"sz",s.sizeof,t),this.pointer||n("Cannot set struct property on disposed instance."),null===t)t=0;else for(;!R(t);){if("P"===s.signature&&t instanceof z){t=t.pointer||0,_.setter&&a("debug.setter:",c,"resolved to",t);break}n("Invalid value for pointer-type",c+".")}new DataView(i().buffer,this.pointer+s.offset,s.sizeof)[e._.setters[l]](0,e._.sw[l](t),h)},Object.defineProperty(t.prototype,o,p)},B=function e(t,i){1===arguments.length?t=(i=t).name:i.name||(i.name=t),t||n("Struct name is required.");let s=!1;Object.keys(i.members).forEach((e=>{const r=i.members[e];r.sizeof?1===r.sizeof?"c"===r.signature||"C"===r.signature||n("Unexpected sizeof==1 member",b(i.name,e),"with signature",r.signature):(0!=r.sizeof%4&&(console.warn("Invalid struct member description =",r,"from",i),n(t,"member",e,"sizeof is not aligned. sizeof="+r.sizeof)),0!=r.offset%4&&(console.warn("Invalid struct member description =",r,"from",i),n(t,"member",e,"offset is not aligned. offset="+r.offset))):n(t,"member",e,"is missing sizeof."),(!s||s.offset<r.offset)&&(s=r)})),s?i.sizeof<s.offset+s.sizeof&&n("Invalid struct config:",t,"max member offset ("+s.offset+") ","extends past end of struct (sizeof="+i.sizeof+")."):n("No member property descriptions found.");const o=E(r.__makeDebugFlags(e.debugFlags)),a=function e(r){this instanceof e?arguments.length?((r!==(0|r)||r<=0)&&n("Invalid pointer value for",t,"constructor."),x(e,this,r)):x(e,this):n("The",t,"constructor may only be called via 'new'.")};return Object.defineProperties(a,{debugFlags:o,isA:E((e=>e instanceof a)),memberKey:S,memberKeys:T,methodInfoForKey:E((function(e){})),structInfo:E(i),structName:E(t)}),a.prototype=new z(t,i,E),Object.defineProperties(a.prototype,{debugFlags:o,constructor:E(a)}),Object.keys(i.members).forEach((e=>N(a,e,i.members[e]))),a};return B.StructType=z,B.config=t,B.allocCString=L,B.debugFlags||(B.debugFlags=r.__makeDebugFlags(r.debugFlags)),B},globalThis.sqlite3ApiBootstrap.initializers.push((function(e){const t=(...e)=>{throw new Error(e.join(" "))},n=(e.SQLite3Error.toss,e.capi),r=e.wasm,i=e.util;if(globalThis.WhWasmUtilInstaller(r),delete globalThis.WhWasmUtilInstaller,r.bindingSignatures=[["sqlite3_aggregate_context","void*","sqlite3_context*","int"],["sqlite3_bind_double","int","sqlite3_stmt*","int","f64"],["sqlite3_bind_int","int","sqlite3_stmt*","int","int"],["sqlite3_bind_null",void 0,"sqlite3_stmt*","int"],["sqlite3_bind_parameter_count","int","sqlite3_stmt*"],["sqlite3_bind_parameter_index","int","sqlite3_stmt*","string"],["sqlite3_bind_pointer","int","sqlite3_stmt*","int","*","string:static","*"],["sqlite3_busy_handler","int",["sqlite3*",new r.xWrap.FuncPtrAdapter({signature:"i(pi)",contextKey:(e,t)=>e[0]}),"*"]],["sqlite3_busy_timeout","int","sqlite3*","int"],["sqlite3_changes","int","sqlite3*"],["sqlite3_clear_bindings","int","sqlite3_stmt*"],["sqlite3_collation_needed","int","sqlite3*","*","*"],["sqlite3_column_blob","*","sqlite3_stmt*","int"],["sqlite3_column_bytes","int","sqlite3_stmt*","int"],["sqlite3_column_count","int","sqlite3_stmt*"],["sqlite3_column_double","f64","sqlite3_stmt*","int"],["sqlite3_column_int","int","sqlite3_stmt*","int"],["sqlite3_column_name","string","sqlite3_stmt*","int"],["sqlite3_column_text","string","sqlite3_stmt*","int"],["sqlite3_column_type","int","sqlite3_stmt*","int"],["sqlite3_column_value","sqlite3_value*","sqlite3_stmt*","int"],["sqlite3_commit_hook","void*",["sqlite3*",new r.xWrap.FuncPtrAdapter({name:"sqlite3_commit_hook",signature:"i(p)",contextKey:e=>e[0]}),"*"]],["sqlite3_compileoption_get","string","int"],["sqlite3_compileoption_used","int","string"],["sqlite3_complete","int","string:flexible"],["sqlite3_context_db_handle","sqlite3*","sqlite3_context*"],["sqlite3_data_count","int","sqlite3_stmt*"],["sqlite3_db_filename","string","sqlite3*","string"],["sqlite3_db_handle","sqlite3*","sqlite3_stmt*"],["sqlite3_db_name","string","sqlite3*","int"],["sqlite3_db_status","int","sqlite3*","int","*","*","int"],["sqlite3_errcode","int","sqlite3*"],["sqlite3_errmsg","string","sqlite3*"],["sqlite3_error_offset","int","sqlite3*"],["sqlite3_errstr","string","int"],["sqlite3_exec","int",["sqlite3*","string:flexible",new r.xWrap.FuncPtrAdapter({signature:"i(pipp)",bindScope:"transient",callProxy:e=>{let t;return(i,s,o,a)=>{try{const n=r.cArgvToJs(s,o);return t||(t=r.cArgvToJs(s,a)),0|e(n,t)}catch(e){return e.resultCode||n.SQLITE_ERROR}}}}),"*","**"]],["sqlite3_expanded_sql","string","sqlite3_stmt*"],["sqlite3_extended_errcode","int","sqlite3*"],["sqlite3_extended_result_codes","int","sqlite3*","int"],["sqlite3_file_control","int","sqlite3*","string","int","*"],["sqlite3_finalize","int","sqlite3_stmt*"],["sqlite3_free",void 0,"*"],["sqlite3_get_auxdata","*","sqlite3_context*","int"],["sqlite3_initialize",void 0],["sqlite3_keyword_count","int"],["sqlite3_keyword_name","int",["int","**","*"]],["sqlite3_keyword_check","int",["string","int"]],["sqlite3_libversion","string"],["sqlite3_libversion_number","int"],["sqlite3_limit","int",["sqlite3*","int","int"]],["sqlite3_malloc","*","int"],["sqlite3_open","int","string","*"],["sqlite3_open_v2","int","string","*","int","string"],["sqlite3_progress_handler",void 0,["sqlite3*","int",new r.xWrap.FuncPtrAdapter({name:"xProgressHandler",signature:"i(p)",bindScope:"context",contextKey:(e,t)=>e[0]}),"*"]],["sqlite3_realloc","*","*","int"],["sqlite3_reset","int","sqlite3_stmt*"],["sqlite3_result_blob",void 0,"sqlite3_context*","*","int","*"],["sqlite3_result_double",void 0,"sqlite3_context*","f64"],["sqlite3_result_error",void 0,"sqlite3_context*","string","int"],["sqlite3_result_error_code",void 0,"sqlite3_context*","int"],["sqlite3_result_error_nomem",void 0,"sqlite3_context*"],["sqlite3_result_error_toobig",void 0,"sqlite3_context*"],["sqlite3_result_int",void 0,"sqlite3_context*","int"],["sqlite3_result_null",void 0,"sqlite3_context*"],["sqlite3_result_pointer",void 0,"sqlite3_context*","*","string:static","*"],["sqlite3_result_subtype",void 0,"sqlite3_value*","int"],["sqlite3_result_text",void 0,"sqlite3_context*","string","int","*"],["sqlite3_result_zeroblob",void 0,"sqlite3_context*","int"],["sqlite3_rollback_hook","void*",["sqlite3*",new r.xWrap.FuncPtrAdapter({name:"sqlite3_rollback_hook",signature:"v(p)",contextKey:e=>e[0]}),"*"]],["sqlite3_set_authorizer","int",["sqlite3*",new r.xWrap.FuncPtrAdapter({name:"sqlite3_set_authorizer::xAuth",signature:"i(pissss)",contextKey:(e,t)=>e[0],callProxy:e=>(t,i,s,o,a,l)=>{try{return s=s&&r.cstrToJs(s),o=o&&r.cstrToJs(o),a=a&&r.cstrToJs(a),l=l&&r.cstrToJs(l),e(t,i,s,o,a,l)||0}catch(e){return e.resultCode||n.SQLITE_ERROR}}}),"*"]],["sqlite3_set_auxdata",void 0,["sqlite3_context*","int","*",new r.xWrap.FuncPtrAdapter({name:"xDestroyAuxData",signature:"v(*)",contextKey:(e,t)=>e[0]})]],["sqlite3_shutdown",void 0],["sqlite3_sourceid","string"],["sqlite3_sql","string","sqlite3_stmt*"],["sqlite3_status","int","int","*","*","int"],["sqlite3_step","int","sqlite3_stmt*"],["sqlite3_stmt_isexplain","int",["sqlite3_stmt*"]],["sqlite3_stmt_readonly","int",["sqlite3_stmt*"]],["sqlite3_stmt_status","int","sqlite3_stmt*","int","int"],["sqlite3_strglob","int","string","string"],["sqlite3_stricmp","int","string","string"],["sqlite3_strlike","int","string","string","int"],["sqlite3_strnicmp","int","string","string","int"],["sqlite3_table_column_metadata","int","sqlite3*","string","string","string","**","**","*","*","*"],["sqlite3_total_changes","int","sqlite3*"],["sqlite3_trace_v2","int",["sqlite3*","int",new r.xWrap.FuncPtrAdapter({name:"sqlite3_trace_v2::callback",signature:"i(ippp)",contextKey:(e,t)=>e[0]}),"*"]],["sqlite3_txn_state","int",["sqlite3*","string"]],["sqlite3_uri_boolean","int","sqlite3_filename","string","int"],["sqlite3_uri_key","string","sqlite3_filename","int"],["sqlite3_uri_parameter","string","sqlite3_filename","string"],["sqlite3_user_data","void*","sqlite3_context*"],["sqlite3_value_blob","*","sqlite3_value*"],["sqlite3_value_bytes","int","sqlite3_value*"],["sqlite3_value_double","f64","sqlite3_value*"],["sqlite3_value_dup","sqlite3_value*","sqlite3_value*"],["sqlite3_value_free",void 0,"sqlite3_value*"],["sqlite3_value_frombind","int","sqlite3_value*"],["sqlite3_value_int","int","sqlite3_value*"],["sqlite3_value_nochange","int","sqlite3_value*"],["sqlite3_value_numeric_type","int","sqlite3_value*"],["sqlite3_value_pointer","*","sqlite3_value*","string:static"],["sqlite3_value_subtype","int","sqlite3_value*"],["sqlite3_value_text","string","sqlite3_value*"],["sqlite3_value_type","int","sqlite3_value*"],["sqlite3_vfs_find","*","string"],["sqlite3_vfs_register","int","sqlite3_vfs*","int"],["sqlite3_vfs_unregister","int","sqlite3_vfs*"]],r.exports.sqlite3_activate_see instanceof Function&&r.bindingSignatures.push(["sqlite3_key","int","sqlite3*","string","int"],["sqlite3_key_v2","int","sqlite3*","string","*","int"],["sqlite3_rekey","int","sqlite3*","string","int"],["sqlite3_rekey_v2","int","sqlite3*","string","*","int"],["sqlite3_activate_see",void 0,"string"]),r.bindingSignatures.int64=[["sqlite3_bind_int64","int",["sqlite3_stmt*","int","i64"]],["sqlite3_changes64","i64",["sqlite3*"]],["sqlite3_column_int64","i64",["sqlite3_stmt*","int"]],["sqlite3_create_module","int",["sqlite3*","string","sqlite3_module*","*"]],["sqlite3_create_module_v2","int",["sqlite3*","string","sqlite3_module*","*","*"]],["sqlite3_declare_vtab","int",["sqlite3*","string:flexible"]],["sqlite3_deserialize","int","sqlite3*","string","*","i64","i64","int"],["sqlite3_drop_modules","int",["sqlite3*","**"]],["sqlite3_last_insert_rowid","i64",["sqlite3*"]],["sqlite3_malloc64","*","i64"],["sqlite3_msize","i64","*"],["sqlite3_overload_function","int",["sqlite3*","string","int"]],["sqlite3_preupdate_blobwrite","int","sqlite3*"],["sqlite3_preupdate_count","int","sqlite3*"],["sqlite3_preupdate_depth","int","sqlite3*"],["sqlite3_preupdate_hook","*",["sqlite3*",new r.xWrap.FuncPtrAdapter({name:"sqlite3_preupdate_hook",signature:"v(ppippjj)",contextKey:e=>e[0],callProxy:e=>(t,n,i,s,o,a,l)=>{e(t,n,i,r.cstrToJs(s),r.cstrToJs(o),a,l)}}),"*"]],["sqlite3_preupdate_new","int",["sqlite3*","int","**"]],["sqlite3_preupdate_old","int",["sqlite3*","int","**"]],["sqlite3_realloc64","*","*","i64"],["sqlite3_result_int64",void 0,"*","i64"],["sqlite3_result_zeroblob64","int","*","i64"],["sqlite3_serialize","*","sqlite3*","string","*","int"],["sqlite3_set_last_insert_rowid",void 0,["sqlite3*","i64"]],["sqlite3_status64","int","int","*","*","int"],["sqlite3_total_changes64","i64",["sqlite3*"]],["sqlite3_update_hook","*",["sqlite3*",new r.xWrap.FuncPtrAdapter({name:"sqlite3_update_hook",signature:"v(iippj)",contextKey:e=>e[0],callProxy:e=>(t,n,i,s,o)=>{e(t,n,r.cstrToJs(i),r.cstrToJs(s),o)}}),"*"]],["sqlite3_uri_int64","i64",["sqlite3_filename","string","i64"]],["sqlite3_value_int64","i64","sqlite3_value*"],["sqlite3_vtab_collation","string","sqlite3_index_info*","int"],["sqlite3_vtab_distinct","int","sqlite3_index_info*"],["sqlite3_vtab_in","int","sqlite3_index_info*","int","int"],["sqlite3_vtab_in_first","int","sqlite3_value*","**"],["sqlite3_vtab_in_next","int","sqlite3_value*","**"],["sqlite3_vtab_nochange","int","sqlite3_context*"],["sqlite3_vtab_on_conflict","int","sqlite3*"],["sqlite3_vtab_rhs_value","int","sqlite3_index_info*","int","**"]],r.bigIntEnabled&&r.exports.sqlite3changegroup_add){const e={signature:"i(ps)",callProxy:e=>(t,i)=>{try{return 0|e(t,r.cstrToJs(i))}catch(e){return e.resultCode||n.SQLITE_ERROR}}};r.bindingSignatures.int64.push(["sqlite3changegroup_add","int",["sqlite3_changegroup*","int","void*"]],["sqlite3changegroup_add_strm","int",["sqlite3_changegroup*",new r.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3changegroup_delete",void 0,["sqlite3_changegroup*"]],["sqlite3changegroup_new","int",["**"]],["sqlite3changegroup_output","int",["sqlite3_changegroup*","int*","**"]],["sqlite3changegroup_output_strm","int",["sqlite3_changegroup*",new r.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppi)",bindScope:"transient"}),"void*"]],["sqlite3changeset_apply","int",["sqlite3*","int","void*",new r.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...e}),new r.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*"]],["sqlite3changeset_apply_strm","int",["sqlite3*",new r.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*",new r.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...e}),new r.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*"]],["sqlite3changeset_apply_v2","int",["sqlite3*","int","void*",new r.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...e}),new r.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*","**","int*","int"]],["sqlite3changeset_apply_v2_strm","int",["sqlite3*",new r.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*",new r.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...e}),new r.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*","**","int*","int"]],["sqlite3changeset_concat","int",["int","void*","int","void*","int*","**"]],["sqlite3changeset_concat_strm","int",[new r.xWrap.FuncPtrAdapter({name:"xInputA",signature:"i(ppp)",bindScope:"transient"}),"void*",new r.xWrap.FuncPtrAdapter({name:"xInputB",signature:"i(ppp)",bindScope:"transient"}),"void*",new r.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppi)",bindScope:"transient"}),"void*"]],["sqlite3changeset_conflict","int",["sqlite3_changeset_iter*","int","**"]],["sqlite3changeset_finalize","int",["sqlite3_changeset_iter*"]],["sqlite3changeset_fk_conflicts","int",["sqlite3_changeset_iter*","int*"]],["sqlite3changeset_invert","int",["int","void*","int*","**"]],["sqlite3changeset_invert_strm","int",[new r.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*",new r.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppi)",bindScope:"transient"}),"void*"]],["sqlite3changeset_new","int",["sqlite3_changeset_iter*","int","**"]],["sqlite3changeset_next","int",["sqlite3_changeset_iter*"]],["sqlite3changeset_old","int",["sqlite3_changeset_iter*","int","**"]],["sqlite3changeset_op","int",["sqlite3_changeset_iter*","**","int*","int*","int*"]],["sqlite3changeset_pk","int",["sqlite3_changeset_iter*","**","int*"]],["sqlite3changeset_start","int",["**","int","*"]],["sqlite3changeset_start_strm","int",["**",new r.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3changeset_start_v2","int",["**","int","*","int"]],["sqlite3changeset_start_v2_strm","int",["**",new r.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*","int"]],["sqlite3session_attach","int",["sqlite3_session*","string"]],["sqlite3session_changeset","int",["sqlite3_session*","int*","**"]],["sqlite3session_changeset_size","i64",["sqlite3_session*"]],["sqlite3session_changeset_strm","int",["sqlite3_session*",new r.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3session_config","int",["int","void*"]],["sqlite3session_create","int",["sqlite3*","string","**"]],["sqlite3session_diff","int",["sqlite3_session*","string","string","**"]],["sqlite3session_enable","int",["sqlite3_session*","int"]],["sqlite3session_indirect","int",["sqlite3_session*","int"]],["sqlite3session_isempty","int",["sqlite3_session*"]],["sqlite3session_memory_used","i64",["sqlite3_session*"]],["sqlite3session_object_config","int",["sqlite3_session*","int","void*"]],["sqlite3session_patchset","int",["sqlite3_session*","*","**"]],["sqlite3session_patchset_strm","int",["sqlite3_session*",new r.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3session_table_filter",void 0,["sqlite3_session*",new r.xWrap.FuncPtrAdapter({name:"xFilter",...e,contextKey:(e,t)=>e[0]}),"*"]])}r.bindingSignatures.wasm=[["sqlite3_wasm_db_reset","int","sqlite3*"],["sqlite3_wasm_db_vfs","sqlite3_vfs*","sqlite3*","string"],["sqlite3_wasm_vfs_create_file","int","sqlite3_vfs*","string","*","int"],["sqlite3_wasm_posix_create_file","int","string","*","int"],["sqlite3_wasm_vfs_unlink","int","sqlite3_vfs*","string"]],e.StructBinder=globalThis.Jaccwabyt({heap:r.heap8u,alloc:r.alloc,dealloc:r.dealloc,bigIntEnabled:r.bigIntEnabled,memberPrefix:"$"}),delete globalThis.Jaccwabyt;{const s=r.xWrap.argAdapter("string");r.xWrap.argAdapter("string:flexible",(e=>s(i.flexibleString(e)))),r.xWrap.argAdapter("string:static",function(e){return r.isPtr(e)?e:this[e=""+e]||(this[e]=r.allocCString(e))}.bind(Object.create(null)));const o=r.xWrap.argAdapter("*"),a=function(){};r.xWrap.argAdapter("sqlite3_filename",o)("sqlite3_context*",o)("sqlite3_value*",o)("void*",o)("sqlite3_changegroup*",o)("sqlite3_changeset_iter*",o)("sqlite3_session*",o)("sqlite3_stmt*",(t=>o(t instanceof(e?.oo1?.Stmt||a)?t.pointer:t)))("sqlite3*",(t=>o(t instanceof(e?.oo1?.DB||a)?t.pointer:t)))("sqlite3_index_info*",(e=>o(e instanceof(n.sqlite3_index_info||a)?e.pointer:e)))("sqlite3_module*",(e=>o(e instanceof(n.sqlite3_module||a)?e.pointer:e)))("sqlite3_vfs*",(t=>"string"==typeof t?n.sqlite3_vfs_find(t)||e.SQLite3Error.toss(n.SQLITE_NOTFOUND,"Unknown sqlite3_vfs name:",t):o(t instanceof(n.sqlite3_vfs||a)?t.pointer:t)));const l=r.xWrap.resultAdapter("*");r.xWrap.resultAdapter("sqlite3*",l)("sqlite3_context*",l)("sqlite3_stmt*",l)("sqlite3_value*",l)("sqlite3_vfs*",l)("void*",l),0===r.exports.sqlite3_step.length&&(r.xWrap.doArgcCheck=!1,e.config.warn("Disabling sqlite3.wasm.xWrap.doArgcCheck due to environmental quirks."));for(const e of r.bindingSignatures)n[e[0]]=r.xWrap.apply(null,e);for(const e of r.bindingSignatures.wasm)r[e[0]]=r.xWrap.apply(null,e);const c=function(e){return()=>t(e+"() is unavailable due to lack","of BigInt support in this build.")};for(const e of r.bindingSignatures.int64)n[e[0]]=r.bigIntEnabled?r.xWrap.apply(null,e):c(e[0]);if(delete r.bindingSignatures,r.exports.sqlite3_wasm_db_error){const t=r.xWrap("sqlite3_wasm_db_error","int","sqlite3*","int","string");i.sqlite3_wasm_db_error=function(r,i,s){return i instanceof e.WasmAllocError?(i=n.SQLITE_NOMEM,s=0):i instanceof Error&&(s=s||""+i,i=i.resultCode||n.SQLITE_ERROR),r?t(r,i,s):i}}else i.sqlite3_wasm_db_error=function(e,t,n){return console.warn("sqlite3_wasm_db_error() is not exported.",arguments),t}}{const s=r.xCall("sqlite3_wasm_enum_json");s||t("Maintenance required: increase sqlite3_wasm_enum_json()'s","static buffer size!"),r.ctype=JSON.parse(r.cstrToJs(s));const o=["access","authorizer","blobFinalizers","changeset","config","dataTypes","dbConfig","dbStatus","encodings","fcntl","flock","ioCap","limits","openFlags","prepareFlags","resultCodes","sqlite3Status","stmtStatus","syncFlags","trace","txnState","udfFlags","version"];r.bigIntEnabled&&o.push("serialize","session","vtab");for(const e of o)for(const t of Object.entries(r.ctype[e]))n[t[0]]=t[1];r.functionEntry(n.SQLITE_WASM_DEALLOC)||t("Internal error: cannot resolve exported function","entry SQLITE_WASM_DEALLOC (=="+n.SQLITE_WASM_DEALLOC+").");const a=Object.create(null);for(const e of["resultCodes"])for(const t of Object.entries(r.ctype[e]))a[t[1]]=t[0];n.sqlite3_js_rc_str=e=>a[e];const l=Object.assign(Object.create(null),{WasmTestStruct:!0,sqlite3_kvvfs_methods:!i.isUIThread(),sqlite3_index_info:!r.bigIntEnabled,sqlite3_index_constraint:!r.bigIntEnabled,sqlite3_index_orderby:!r.bigIntEnabled,sqlite3_index_constraint_usage:!r.bigIntEnabled});for(const t of r.ctype.structs)l[t.name]||(n[t.name]=e.StructBinder(t));if(n.sqlite3_index_info){for(const e of["sqlite3_index_constraint","sqlite3_index_orderby","sqlite3_index_constraint_usage"])n.sqlite3_index_info[e]=n[e],delete n[e];n.sqlite3_vtab_config=r.xWrap("sqlite3_wasm_vtab_config","int",["sqlite3*","int","int"])}}const s=(e,t,r)=>i.sqlite3_wasm_db_error(e,n.SQLITE_MISUSE,t+"() requires "+r+" argument"+(1===r?"":"s")+"."),o=e=>i.sqlite3_wasm_db_error(e,n.SQLITE_FORMAT,"SQLITE_UTF8 is the only supported encoding."),a=e=>r.xWrap.argAdapter("sqlite3*")(e),l=e=>r.isPtr(e)?r.cstrToJs(e):e,c=function(e,t){e=a(e);let n=this.dbMap.get(e);return t?(!n&&t>0&&this.dbMap.set(e,n=Object.create(null)),n):(this.dbMap.delete(e),n)}.bind(Object.assign(Object.create(null),{dbMap:new Map}));c.addCollation=function(e,t){const n=c(e,1);n.collation||(n.collation=new Set),n.collation.add(l(t).toLowerCase())},c._addUDF=function(e,t,n,r){t=l(t).toLowerCase();let i=r.get(t);i||r.set(t,i=new Set),i.add(n<0?-1:n)},c.addFunction=function(e,t,n){const r=c(e,1);r.udf||(r.udf=new Map),this._addUDF(e,t,n,r.udf)},c.addWindowFunc=function(e,t,n){const r=c(e,1);r.wudf||(r.wudf=new Map),this._addUDF(e,t,n,r.wudf)},c.cleanup=function(e){const t=[e=a(e)];for(const e of["sqlite3_busy_handler","sqlite3_commit_hook","sqlite3_preupdate_hook","sqlite3_progress_handler","sqlite3_rollback_hook","sqlite3_set_authorizer","sqlite3_trace_v2","sqlite3_update_hook"]){const i=r.exports[e];t.length=i.length;try{n[e](...t)}catch(n){console.warn("close-time call of",e+"(",t,") threw:",n)}}const i=c(e,0);if(!i)return;if(i.collation){for(const t of i.collation)try{n.sqlite3_create_collation_v2(e,t,n.SQLITE_UTF8,0,0,0)}catch(e){}delete i.collation}let s;for(s=0;s<2;++s){const t=s?i.wudf:i.udf;if(!t)continue;const r=s?n.sqlite3_create_window_function:n.sqlite3_create_function_v2;for(const i of t){const t=i[0],o=i[1],a=[e,t,0,n.SQLITE_UTF8,0,0,0,0,0];s&&a.push(0);for(const e of o)try{a[2]=e,r.apply(null,a)}catch(e){}o.clear()}t.clear()}delete i.udf,delete i.wudf};{const e=r.xWrap("sqlite3_close_v2","int","sqlite3*");n.sqlite3_close_v2=function(t){if(1!==arguments.length)return s(t,"sqlite3_close_v2",1);if(t)try{c.cleanup(t)}catch(e){}return e(t)}}if(n.sqlite3session_table_filter){const e=r.xWrap("sqlite3session_delete",void 0,["sqlite3_session*"]);n.sqlite3session_delete=function(t){if(1!==arguments.length)return s(pDb,"sqlite3session_delete",1);t&&n.sqlite3session_table_filter(t,0,0),e(t)}}{const e=(e,t)=>"argv["+t+"]:"+e[0]+":"+r.cstrToJs(e[1]).toLowerCase(),t=r.xWrap("sqlite3_create_collation_v2","int",["sqlite3*","string","int","*",new r.xWrap.FuncPtrAdapter({name:"xCompare",signature:"i(pipip)",contextKey:e}),new r.xWrap.FuncPtrAdapter({name:"xDestroy",signature:"v(p)",contextKey:e})]);n.sqlite3_create_collation_v2=function(e,r,a,l,u,f){if(6!==arguments.length)return s(e,"sqlite3_create_collation_v2",6);if(15&a){if(n.SQLITE_UTF8!==(15&a))return o(e)}else a|=n.SQLITE_UTF8;try{const n=t(e,r,a,l,u,f);return 0===n&&u instanceof Function&&c.addCollation(e,r),n}catch(t){return i.sqlite3_wasm_db_error(e,t)}},n.sqlite3_create_collation=(e,t,r,i,o)=>5===arguments.length?n.sqlite3_create_collation_v2(e,t,r,i,o,0):s(e,"sqlite3_create_collation",5)}{const e=function(e,t){return e[0]+":"+(e[2]<0?-1:e[2])+":"+t+":"+r.cstrToJs(e[1]).toLowerCase()},t=Object.assign(Object.create(null),{xInverseAndStep:{signature:"v(pip)",contextKey:e,callProxy:e=>(t,r,i)=>{try{e(t,...n.sqlite3_values_to_js(r,i))}catch(e){n.sqlite3_result_error_js(t,e)}}},xFinalAndValue:{signature:"v(p)",contextKey:e,callProxy:e=>t=>{try{n.sqlite3_result_js(t,e(t))}catch(e){n.sqlite3_result_error_js(t,e)}}},xFunc:{signature:"v(pip)",contextKey:e,callProxy:e=>(t,r,i)=>{try{n.sqlite3_result_js(t,e(t,...n.sqlite3_values_to_js(r,i)))}catch(e){n.sqlite3_result_error_js(t,e)}}},xDestroy:{signature:"v(p)",contextKey:e,callProxy:e=>t=>{try{e(t)}catch(e){console.error("UDF xDestroy method threw:",e)}}}}),a=r.xWrap("sqlite3_create_function_v2","int",["sqlite3*","string","int","int","*",new r.xWrap.FuncPtrAdapter({name:"xFunc",...t.xFunc}),new r.xWrap.FuncPtrAdapter({name:"xStep",...t.xInverseAndStep}),new r.xWrap.FuncPtrAdapter({name:"xFinal",...t.xFinalAndValue}),new r.xWrap.FuncPtrAdapter({name:"xDestroy",...t.xDestroy})]),l=r.xWrap("sqlite3_create_window_function","int",["sqlite3*","string","int","int","*",new r.xWrap.FuncPtrAdapter({name:"xStep",...t.xInverseAndStep}),new r.xWrap.FuncPtrAdapter({name:"xFinal",...t.xFinalAndValue}),new r.xWrap.FuncPtrAdapter({name:"xValue",...t.xFinalAndValue}),new r.xWrap.FuncPtrAdapter({name:"xInverse",...t.xInverseAndStep}),new r.xWrap.FuncPtrAdapter({name:"xDestroy",...t.xDestroy})]);n.sqlite3_create_function_v2=function e(t,r,l,u,f,_,d,p,h){if(e.length!==arguments.length)return s(t,"sqlite3_create_function_v2",e.length);if(15&u){if(n.SQLITE_UTF8!==(15&u))return o(t)}else u|=n.SQLITE_UTF8;try{const e=a(t,r,l,u,f,_,d,p,h);return 0===e&&(_ instanceof Function||d instanceof Function||p instanceof Function||h instanceof Function)&&c.addFunction(t,r,l),e}catch(e){return console.error("sqlite3_create_function_v2() setup threw:",e),i.sqlite3_wasm_db_error(t,e,"Creation of UDF threw: "+e)}},n.sqlite3_create_function=function e(t,r,i,o,a,l,c,u){return e.length===arguments.length?n.sqlite3_create_function_v2(t,r,i,o,a,l,c,u,0):s(t,"sqlite3_create_function",e.length)},n.sqlite3_create_window_function=function e(t,r,a,u,f,_,d,p,h,m){if(e.length!==arguments.length)return s(t,"sqlite3_create_window_function",e.length);if(15&u){if(n.SQLITE_UTF8!==(15&u))return o(t)}else u|=n.SQLITE_UTF8;try{const e=l(t,r,a,u,f,_,d,p,h,m);return 0===e&&(_ instanceof Function||d instanceof Function||p instanceof Function||h instanceof Function||m instanceof Function)&&c.addWindowFunc(t,r,a),e}catch(e){return console.error("sqlite3_create_window_function() setup threw:",e),i.sqlite3_wasm_db_error(t,e,"Creation of UDF threw: "+e)}},n.sqlite3_create_function_v2.udfSetResult=n.sqlite3_create_function.udfSetResult=n.sqlite3_create_window_function.udfSetResult=n.sqlite3_result_js,n.sqlite3_create_function_v2.udfConvertArgs=n.sqlite3_create_function.udfConvertArgs=n.sqlite3_create_window_function.udfConvertArgs=n.sqlite3_values_to_js,n.sqlite3_create_function_v2.udfSetError=n.sqlite3_create_function.udfSetError=n.sqlite3_create_window_function.udfSetError=n.sqlite3_result_error_js}{const e=(e,t)=>("string"==typeof e?t=-1:i.isSQLableTypedArray(e)?(t=e.byteLength,e=i.typedArrayToString(e instanceof ArrayBuffer?new Uint8Array(e):e)):Array.isArray(e)&&(e=e.join(""),t=-1),[e,t]),t={basic:r.xWrap("sqlite3_prepare_v3","int",["sqlite3*","string","int","int","**","**"]),full:r.xWrap("sqlite3_prepare_v3","int",["sqlite3*","*","int","int","**","**"])};n.sqlite3_prepare_v3=function r(o,a,l,c,u,f){if(r.length!==arguments.length)return s(o,"sqlite3_prepare_v3",r.length);const[_,d]=e(a,l);switch(typeof _){case"string":return t.basic(o,_,d,c,u,null);case"number":return t.full(o,_,d,c,u,f);default:return i.sqlite3_wasm_db_error(o,n.SQLITE_MISUSE,"Invalid SQL argument type for sqlite3_prepare_v2/v3().")}},n.sqlite3_prepare_v2=function e(t,r,i,o,a){return e.length===arguments.length?n.sqlite3_prepare_v3(t,r,i,0,o,a):s(t,"sqlite3_prepare_v2",e.length)}}{const e=r.xWrap("sqlite3_bind_text","int",["sqlite3_stmt*","int","string","int","*"]),t=r.xWrap("sqlite3_bind_blob","int",["sqlite3_stmt*","int","*","int","*"]);n.sqlite3_bind_text=function t(o,a,l,c,u){if(t.length!==arguments.length)return s(n.sqlite3_db_handle(o),"sqlite3_bind_text",t.length);if(r.isPtr(l)||null===l)return e(o,a,l,c,u);let f,_;l instanceof ArrayBuffer?l=new Uint8Array(l):Array.isArray(pMem)&&(l=pMem.join(""));try{if(i.isSQLableTypedArray(l))f=r.allocFromTypedArray(l),_=l.byteLength;else{if("string"!=typeof l)return i.sqlite3_wasm_db_error(n.sqlite3_db_handle(o),n.SQLITE_MISUSE,"Invalid 3rd argument type for sqlite3_bind_text().");[f,_]=r.allocCString(l)}return e(o,a,f,_,n.SQLITE_WASM_DEALLOC)}catch(e){return r.dealloc(f),i.sqlite3_wasm_db_error(n.sqlite3_db_handle(o),e)}},n.sqlite3_bind_blob=function e(o,a,l,c,u){if(e.length!==arguments.length)return s(n.sqlite3_db_handle(o),"sqlite3_bind_blob",e.length);if(r.isPtr(l)||null===l)return t(o,a,l,c,u);let f,_;l instanceof ArrayBuffer?l=new Uint8Array(l):Array.isArray(l)&&(l=l.join(""));try{if(i.isBindableTypedArray(l))f=r.allocFromTypedArray(l),_=c>=0?c:l.byteLength;else{if("string"!=typeof l)return i.sqlite3_wasm_db_error(n.sqlite3_db_handle(o),n.SQLITE_MISUSE,"Invalid 3rd argument type for sqlite3_bind_blob().");[f,_]=r.allocCString(l)}return t(o,a,f,_,n.SQLITE_WASM_DEALLOC)}catch(e){return r.dealloc(f),i.sqlite3_wasm_db_error(n.sqlite3_db_handle(o),e)}}}n.sqlite3_config=function(e,...t){if(arguments.length<2)return n.SQLITE_MISUSE;switch(e){case n.SQLITE_CONFIG_COVERING_INDEX_SCAN:case n.SQLITE_CONFIG_MEMSTATUS:case n.SQLITE_CONFIG_SMALL_MALLOC:case n.SQLITE_CONFIG_SORTERREF_SIZE:case n.SQLITE_CONFIG_STMTJRNL_SPILL:case n.SQLITE_CONFIG_URI:return r.exports.sqlite3_wasm_config_i(e,t[0]);case n.SQLITE_CONFIG_LOOKASIDE:return r.exports.sqlite3_wasm_config_ii(e,t[0],t[1]);case n.SQLITE_CONFIG_MEMDB_MAXSIZE:return r.exports.sqlite3_wasm_config_j(e,t[0]);case n.SQLITE_CONFIG_GETMALLOC:case n.SQLITE_CONFIG_GETMUTEX:case n.SQLITE_CONFIG_GETPCACHE2:case n.SQLITE_CONFIG_GETPCACHE:case n.SQLITE_CONFIG_HEAP:case n.SQLITE_CONFIG_LOG:case n.SQLITE_CONFIG_MALLOC:case n.SQLITE_CONFIG_MMAP_SIZE:case n.SQLITE_CONFIG_MULTITHREAD:case n.SQLITE_CONFIG_MUTEX:case n.SQLITE_CONFIG_PAGECACHE:case n.SQLITE_CONFIG_PCACHE2:case n.SQLITE_CONFIG_PCACHE:case n.SQLITE_CONFIG_PCACHE_HDRSZ:case n.SQLITE_CONFIG_PMASZ:case n.SQLITE_CONFIG_SERIALIZED:case n.SQLITE_CONFIG_SINGLETHREAD:case n.SQLITE_CONFIG_SQLLOG:case n.SQLITE_CONFIG_WIN32_HEAPSIZE:default:return n.SQLITE_NOTFOUND}};{const e=new Set;n.sqlite3_auto_extension=function(t){if(t instanceof Function)t=r.installFunction("i(ppp)",t);else if(1!==arguments.length||!r.isPtr(t))return n.SQLITE_MISUSE;const i=r.exports.sqlite3_auto_extension(t);return t!==arguments[0]&&(0===i?e.add(t):r.uninstallFunction(t)),i},n.sqlite3_cancel_auto_extension=function(e){return e&&1===arguments.length&&r.isPtr(e)?r.exports.sqlite3_cancel_auto_extension(e):0},n.sqlite3_reset_auto_extension=function(){r.exports.sqlite3_reset_auto_extension();for(const t of e)r.uninstallFunction(t);e.clear()}}const u=n.sqlite3_vfs_find("kvvfs");if(u)if(i.isUIThread()){const e=new n.sqlite3_kvvfs_methods(r.exports.sqlite3_wasm_kvvfs_methods());delete n.sqlite3_kvvfs_methods;const t=r.exports.sqlite3_wasm_kvvfsMakeKeyOnPstack,i=r.pstack,s=e=>115===r.peek(e)?sessionStorage:localStorage,o={xRead:(e,n,o,a)=>{const l=i.pointer,c=r.scopedAllocPush();try{const i=t(e,n);if(!i)return-3;const l=r.cstrToJs(i),c=s(e).getItem(l);if(!c)return-1;const u=c.length;if(a<=0)return u;if(1===a)return r.poke(o,0),u;const f=r.scopedAllocCString(c);return a>u+1&&(a=u+1),r.heap8u().copyWithin(o,f,f+a-1),r.poke(o+a-1,0),a-1}catch(e){return console.error("kvstorageRead()",e),-2}finally{i.restore(l),r.scopedAllocPop(c)}},xWrite:(e,o,a)=>{const l=i.pointer;try{const n=t(e,o);if(!n)return 1;const i=r.cstrToJs(n);return s(e).setItem(i,r.cstrToJs(a)),0}catch(e){return console.error("kvstorageWrite()",e),n.SQLITE_IOERR}finally{i.restore(l)}},xDelete:(e,o)=>{const a=i.pointer;try{const n=t(e,o);return n?(s(e).removeItem(r.cstrToJs(n)),0):1}catch(e){return console.error("kvstorageDelete()",e),n.SQLITE_IOERR}finally{i.restore(a)}}};for(const t of Object.keys(o))e[e.memberKey(t)]=r.installFunction(e.memberSignature(t),o[t])}else n.sqlite3_vfs_unregister(u);r.xWrap.FuncPtrAdapter.warnOnUse=!0})),globalThis.sqlite3ApiBootstrap.initializers.push((function(e){e.version={libVersion:"3.43.2",libVersionNumber:3043002,sourceId:"2023-10-10 12:14:04 4310099cce5a487035fa535dd3002c59ac7f1d1bec68d7cf317fd3e769484790",downloadVersion:3430200}})),globalThis.sqlite3ApiBootstrap.initializers.push((function(e){const t=(...t)=>{throw new e.SQLite3Error(...t)},n=e.capi,r=e.wasm,i=e.util,s=new WeakMap,o=new WeakMap,a=(e,t,n)=>{const r=Object.getOwnPropertyDescriptor(e,t);return r?r.value:n},l=function(e,r){return r&&(e instanceof _&&(e=e.pointer),t(r,"sqlite3 result code",r+":",e?n.sqlite3_errmsg(e):n.sqlite3_errstr(r))),arguments[0]},c=r.installFunction("i(ippp)",function(e,t,i,s){n.SQLITE_TRACE_STMT===e&&console.log("SQL TRACE #"+ ++this.counter+" via sqlite3@"+t+":",r.cstrToJs(s))}.bind({counter:0})),u=Object.create(null),f=function i(...a){if(!i._name2vfs){i._name2vfs=Object.create(null);const e="function"==typeof importScripts&&(e=>t("The VFS for",e,"is only available in the main window thread."));i._name2vfs[":localStorage:"]={vfs:"kvvfs",filename:e||(()=>"local")},i._name2vfs[":sessionStorage:"]={vfs:"kvvfs",filename:e||(()=>"session")}}const f=i.normalizeArgs(...a);let _=f.filename,d=f.vfs,p=f.flags;("string"!=typeof _&&"number"!=typeof _||"string"!=typeof p||d&&"string"!=typeof d&&"number"!=typeof d)&&(e.config.error("Invalid DB ctor args",f,arguments),t("Invalid arguments for DB constructor."));let h="number"==typeof _?r.cstrToJs(_):_;const m=i._name2vfs[h];m&&(d=m.vfs,_=h=m.filename(h));let g,y=0;p.indexOf("c")>=0&&(y|=n.SQLITE_OPEN_CREATE|n.SQLITE_OPEN_READWRITE),p.indexOf("w")>=0&&(y|=n.SQLITE_OPEN_READWRITE),0===y&&(y|=n.SQLITE_OPEN_READONLY),y|=n.SQLITE_OPEN_EXRESCODE;const b=r.pstack.pointer;try{const e=r.pstack.allocPtr();let t=n.sqlite3_open_v2(_,e,y,d||0);g=r.peekPtr(e),l(g,t),n.sqlite3_extended_result_codes(g,1),p.indexOf("t")>=0&&n.sqlite3_trace_v2(g,n.SQLITE_TRACE_STMT,c,g)}catch(e){throw g&&n.sqlite3_close_v2(g),e}finally{r.pstack.restore(b)}this.filename=h,s.set(this,g),o.set(this,Object.create(null));try{const r=n.sqlite3_js_db_vfs(g);r||t("Internal error: cannot get VFS for new db handle.");const i=u[r];i instanceof Function?i(this,e):i&&l(g,n.sqlite3_exec(g,i,0,0,0))}catch(e){throw this.close(),e}};f.setVfsPostOpenSql=function(e,t){u[e]=t},f.normalizeArgs=function(e=":memory:",t="c",n=null){const r={};return 1===arguments.length&&arguments[0]&&"object"==typeof arguments[0]?(Object.assign(r,arguments[0]),void 0===r.flags&&(r.flags="c"),void 0===r.vfs&&(r.vfs=null),void 0===r.filename&&(r.filename=":memory:")):(r.filename=e,r.flags=t,r.vfs=n),r};const _=function(...e){f.apply(this,e)};_.dbCtorHelper=f;const d={null:1,number:2,string:3,boolean:4,blob:5};d[void 0],d.null,r.bigIntEnabled&&(d.bigint=d.number);const p=function(){d!==arguments[2]&&t(n.SQLITE_MISUSE,"Do not call the Stmt constructor directly. Use DB.prepare()."),this.db=arguments[0],s.set(this,arguments[1]),this.parameterCount=n.sqlite3_bind_parameter_count(this.pointer)},h=function(e){return e.pointer||t("DB has been closed."),e},m=function(e,n){return(n!==(0|n)||n<0||n>=e.columnCount)&&t("Column index",n,"is out of range."),e},g=(e,t,n,...r)=>{const i=e.prepare(t);try{const e=i.bind(n).step()?i.get(...r):void 0;return i.reset(),e}finally{i.finalize()}},y=(e,t,n,r)=>e.exec({sql:t,bind:n,rowMode:r,returnValue:"resultRows"});_.checkRc=(e,t)=>l(e,t),_.prototype={isOpen:function(){return!!this.pointer},affirmOpen:function(){return h(this)},close:function(){if(this.pointer){if(this.onclose&&this.onclose.before instanceof Function)try{this.onclose.before(this)}catch(e){}const e=this.pointer;if(Object.keys(o.get(this)).forEach(((e,t)=>{if(t&&t.pointer)try{t.finalize()}catch(e){}})),s.delete(this),o.delete(this),n.sqlite3_close_v2(e),this.onclose&&this.onclose.after instanceof Function)try{this.onclose.after(this)}catch(e){}delete this.filename}},changes:function(e=!1,t=!1){const r=h(this).pointer;return e?t?n.sqlite3_total_changes64(r):n.sqlite3_total_changes(r):t?n.sqlite3_changes64(r):n.sqlite3_changes(r)},dbFilename:function(e="main"){return n.sqlite3_db_filename(h(this).pointer,e)},dbName:function(e=0){return n.sqlite3_db_name(h(this).pointer,e)},dbVfsName:function(e=0){let t;const i=n.sqlite3_js_db_vfs(h(this).pointer,e);if(i){const e=new n.sqlite3_vfs(i);try{t=r.cstrToJs(e.$zName)}finally{e.dispose()}}return t},prepare:function(e){h(this);const i=r.pstack.pointer;let s,a;try{s=r.pstack.alloc(8),_.checkRc(this,n.sqlite3_prepare_v2(this.pointer,e,-1,s,null)),a=r.peekPtr(s)}finally{r.pstack.restore(i)}a||t("Cannot prepare empty SQL.");const l=new p(this,a,d);return o.get(this)[a]=l,l},exec:function(){h(this);const e=function(e,r){const s=Object.create(null);switch(s.opt=Object.create(null),r.length){case 1:"string"==typeof r[0]||i.isSQLableTypedArray(r[0])||Array.isArray(r[0])?s.sql=r[0]:r[0]&&"object"==typeof r[0]&&(s.opt=r[0],s.sql=s.opt.sql);break;case 2:s.sql=r[0],s.opt=r[1];break;default:t("Invalid argument count for exec().")}s.sql=i.flexibleString(s.sql),"string"!=typeof s.sql&&t("Missing SQL argument or unsupported SQL value type.");const o=s.opt;switch(o.returnValue){case"resultRows":o.resultRows||(o.resultRows=[]),s.returnVal=()=>o.resultRows;break;case"saveSql":o.saveSql||(o.saveSql=[]),s.returnVal=()=>o.saveSql;break;case void 0:case"this":s.returnVal=()=>e;break;default:t("Invalid returnValue value:",o.returnValue)}if(o.callback||o.returnValue||void 0===o.rowMode||(o.resultRows||(o.resultRows=[]),s.returnVal=()=>o.resultRows),o.callback||o.resultRows)switch(void 0===o.rowMode?"array":o.rowMode){case"object":s.cbArg=e=>e.get(Object.create(null));break;case"array":s.cbArg=e=>e.get([]);break;case"stmt":Array.isArray(o.resultRows)&&t("exec(): invalid rowMode for a resultRows array: must","be one of 'array', 'object',","a result column number, or column name reference."),s.cbArg=e=>e;break;default:if(i.isInt32(o.rowMode)){s.cbArg=e=>e.get(o.rowMode);break}if("string"==typeof o.rowMode&&o.rowMode.length>1&&"$"===o.rowMode[0]){const e=o.rowMode.substr(1);s.cbArg=r=>{const i=r.get(Object.create(null))[e];return void 0===i?t(n.SQLITE_NOTFOUND,"exec(): unknown result column:",e):i};break}t("Invalid rowMode:",o.rowMode)}return s}(this,arguments);if(!e.sql)return t("exec() requires an SQL string.");const s=e.opt,o=s.callback,a=Array.isArray(s.resultRows)?s.resultRows:void 0;let l,c=s.bind,u=!!(e.cbArg||s.columnNames||a);const f=r.scopedAllocPush(),m=Array.isArray(s.saveSql)?s.saveSql:void 0;try{const t=i.isSQLableTypedArray(e.sql);let f=t?e.sql.byteLength:r.jstrlen(e.sql);const h=r.scopedAlloc(2*r.ptrSizeof+(f+1)),g=h+r.ptrSizeof;let y=g+r.ptrSizeof;const b=y+f;for(t?r.heap8().set(e.sql,y):r.jstrcpy(e.sql,r.heap8(),y,f,!1),r.poke(y+f,0);y&&r.peek(y,"i8");){r.pokePtr([h,g],0),_.checkRc(this,n.sqlite3_prepare_v3(this.pointer,y,f,0,h,g));const t=r.peekPtr(h);if(y=r.peekPtr(g),f=b-y,t){if(m&&m.push(n.sqlite3_sql(t).trim()),l=new p(this,t,d),c&&l.parameterCount&&(l.bind(c),c=null),u&&l.columnCount){let t=Array.isArray(s.columnNames)?0:1;if(u=!1,e.cbArg||a){for(;l.step();l._lockedByExec=!1){0==t++&&l.getColumnNames(s.columnNames),l._lockedByExec=!0;const n=e.cbArg(l);if(a&&a.push(n),o&&!1===o.call(s,n,l))break}l._lockedByExec=!1}0===t&&l.getColumnNames(s.columnNames)}else l.step();l.reset().finalize(),l=null}}}finally{r.scopedAllocPop(f),l&&(delete l._lockedByExec,l.finalize())}return e.returnVal()},createFunction:function(e,r,s){const o=e=>e instanceof Function;switch(arguments.length){case 1:e=(s=e).name,r=s.xFunc||0;break;case 2:o(r)||(r=(s=r).xFunc||0)}s||(s={}),"string"!=typeof e&&t("Invalid arguments: missing function name.");let l=s.xStep||0,c=s.xFinal||0;const u=s.xValue||0,f=s.xInverse||0;let d;o(r)?(d=!1,(o(l)||o(c))&&t("Ambiguous arguments: scalar or aggregate?"),l=c=null):o(l)?(o(c)||t("Missing xFinal() callback for aggregate or window UDF."),r=null):o(c)?t("Missing xStep() callback for aggregate or window UDF."):t("Missing function-type properties."),!1===d?(o(u)||o(f))&&t("xValue and xInverse are not permitted for non-window UDFs."):o(u)?(o(f)||t("xInverse must be provided if xValue is."),d=!0):o(f)&&t("xValue must be provided if xInverse is.");const p=s.pApp;null==p||"number"==typeof p&&i.isInt32(p)||t("Invalid value for pApp property. Must be a legal WASM pointer value.");const h=s.xDestroy||0;h&&!o(h)&&t("xDestroy property must be a function.");let m=0;a(s,"deterministic")&&(m|=n.SQLITE_DETERMINISTIC),a(s,"directOnly")&&(m|=n.SQLITE_DIRECTONLY),a(s,"innocuous")&&(m|=n.SQLITE_INNOCUOUS),e=e.toLowerCase();const g=r||l,y=a(s,"arity"),b="number"==typeof y?y:g.length?g.length-1:0;let v;return v=d?n.sqlite3_create_window_function(this.pointer,e,b,n.SQLITE_UTF8|m,p||0,l,c,u,f,h):n.sqlite3_create_function_v2(this.pointer,e,b,n.SQLITE_UTF8|m,p||0,r,l,c,h),_.checkRc(this,v),this},selectValue:function(e,t,n){return g(this,e,t,0,n)},selectValues:function(e,t,n){const r=this.prepare(e),i=[];try{for(r.bind(t);r.step();)i.push(r.get(0,n));r.reset()}finally{r.finalize()}return i},selectArray:function(e,t){return g(this,e,t,[])},selectObject:function(e,t){return g(this,e,t,{})},selectArrays:function(e,t){return y(this,e,t,"array")},selectObjects:function(e,t){return y(this,e,t,"object")},openStatementCount:function(){return this.pointer?Object.keys(o.get(this)).length:0},transaction:function(e){let r="BEGIN";arguments.length>1&&(/[^a-zA-Z]/.test(arguments[0])&&t(n.SQLITE_MISUSE,"Invalid argument for BEGIN qualifier."),r+=" "+arguments[0],e=arguments[1]),h(this).exec(r);try{const t=e(this);return this.exec("COMMIT"),t}catch(e){throw this.exec("ROLLBACK"),e}},savepoint:function(e){h(this).exec("SAVEPOINT oo1");try{const t=e(this);return this.exec("RELEASE oo1"),t}catch(e){throw this.exec("ROLLBACK to SAVEPOINT oo1; RELEASE SAVEPOINT oo1"),e}},checkRc:function(e){return l(this,e)}};const b=function(e){return e.pointer||t("Stmt has been closed."),e},v=function(e){return function(e){let t=d[null==e?"null":typeof e];switch(t){case d.boolean:case d.null:case d.number:case d.string:return t;case d.bigint:if(r.bigIntEnabled)return t;default:return i.isBindableTypedArray(e)?d.blob:void 0}}(e)||t("Unsupported bind() argument type:",typeof e)},w=function(e,n){return e._lockedByExec&&t("Operation is illegal when statement is locked:",n),e},q=function s(o,a,l,c){w(b(o),"bind()"),s._||(s._tooBigInt=e=>t("BigInt value is too big to store without precision loss:",e),s._={string:function(e,t,i,s){const[o,a]=r.allocCString(i,!0);return(s?n.sqlite3_bind_blob:n.sqlite3_bind_text)(e.pointer,t,o,a,n.SQLITE_WASM_DEALLOC)}}),v(c),a=function(e,r){const s="number"==typeof r?r:n.sqlite3_bind_parameter_index(e.pointer,r);return 0!==s&&i.isInt32(s)?(s<1||s>e.parameterCount)&&t("Bind index",r,"is out of range."):t("Invalid bind() parameter name: "+r),s}(o,a);let u=0;switch(null==c?d.null:l){case d.null:u=n.sqlite3_bind_null(o.pointer,a);break;case d.string:u=s._.string(o,a,c,!1);break;case d.number:{let e;i.isInt32(c)?e=n.sqlite3_bind_int:"bigint"==typeof c?i.bigIntFits64(c)?r.bigIntEnabled?e=n.sqlite3_bind_int64:i.bigIntFitsDouble(c)?(c=Number(c),e=n.sqlite3_bind_double):s._tooBigInt(c):s._tooBigInt(c):(c=Number(c),e=r.bigIntEnabled&&Number.isInteger(c)?n.sqlite3_bind_int64:n.sqlite3_bind_double),u=e(o.pointer,a,c);break}case d.boolean:u=n.sqlite3_bind_int(o.pointer,a,c?1:0);break;case d.blob:{if("string"==typeof c){u=s._.string(o,a,c,!0);break}c instanceof ArrayBuffer?c=new Uint8Array(c):i.isBindableTypedArray(c)||t("Binding a value as a blob requires","that it be a string, Uint8Array, Int8Array, or ArrayBuffer.");const e=r.alloc(c.byteLength||1);r.heap8().set(c.byteLength?c:[0],e),u=n.sqlite3_bind_blob(o.pointer,a,e,c.byteLength,n.SQLITE_WASM_DEALLOC);break}default:e.config.warn("Unsupported bind() argument type:",c),t("Unsupported bind() argument type: "+typeof c)}return u&&_.checkRc(o.db.pointer,u),o._mayGet=!1,o};p.prototype={finalize:function(){if(this.pointer){w(this,"finalize()");const e=n.sqlite3_finalize(this.pointer);return delete o.get(this.db)[this.pointer],s.delete(this),delete this._mayGet,delete this.parameterCount,delete this._lockedByExec,delete this.db,e}},clearBindings:function(){return w(b(this),"clearBindings()"),n.sqlite3_clear_bindings(this.pointer),this._mayGet=!1,this},reset:function(e){w(this,"reset()"),e&&this.clearBindings();const t=n.sqlite3_reset(b(this).pointer);return this._mayGet=!1,l(this.db,t),this},bind:function(){let e,n;switch(b(this),arguments.length){case 1:e=1,n=arguments[0];break;case 2:e=arguments[0],n=arguments[1];break;default:t("Invalid bind() arguments.")}return void 0===n?this:(this.parameterCount||t("This statement has no bindable parameters."),this._mayGet=!1,null===n?q(this,e,d.null,n):Array.isArray(n)?(1!==arguments.length&&t("When binding an array, an index argument is not permitted."),n.forEach(((e,t)=>q(this,t+1,v(e),e))),this):(n instanceof ArrayBuffer&&(n=new Uint8Array(n)),"object"!=typeof n||i.isBindableTypedArray(n)?q(this,e,v(n),n):(1!==arguments.length&&t("When binding an object, an index argument is not permitted."),Object.keys(n).forEach((e=>q(this,e,v(n[e]),n[e]))),this)))},bindAsBlob:function(e,n){b(this),1===arguments.length&&(n=e,e=1);const r=v(n);return d.string!==r&&d.blob!==r&&d.null!==r&&t("Invalid value type for bindAsBlob()"),q(this,e,d.blob,n)},step:function(){w(this,"step()");const t=n.sqlite3_step(b(this).pointer);switch(t){case n.SQLITE_DONE:return this._mayGet=!1;case n.SQLITE_ROW:return this._mayGet=!0;default:this._mayGet=!1,e.config.warn("sqlite3_step() rc=",t,n.sqlite3_js_rc_str(t),"SQL =",n.sqlite3_sql(this.pointer)),_.checkRc(this.db.pointer,t)}},stepReset:function(){return this.step(),this.reset()},stepFinalize:function(){try{const e=this.step();return this.reset(),e}finally{try{this.finalize()}catch(e){}}},get:function(e,s){if(b(this)._mayGet||t("Stmt.step() has not (recently) returned true."),Array.isArray(e)){let t=0;const n=this.columnCount;for(;t<n;)e[t]=this.get(t++);return e}if(e&&"object"==typeof e){let t=0;const r=this.columnCount;for(;t<r;)e[n.sqlite3_column_name(this.pointer,t)]=this.get(t++);return e}switch(m(this,e),void 0===s?n.sqlite3_column_type(this.pointer,e):s){case n.SQLITE_NULL:return null;case n.SQLITE_INTEGER:if(r.bigIntEnabled){const t=n.sqlite3_column_int64(this.pointer,e);return t>=Number.MIN_SAFE_INTEGER&&t<=Number.MAX_SAFE_INTEGER?Number(t).valueOf():t}{const r=n.sqlite3_column_double(this.pointer,e);return(r>Number.MAX_SAFE_INTEGER||r<Number.MIN_SAFE_INTEGER)&&t("Integer is out of range for JS integer range: "+r),i.isInt32(r)?0|r:r}case n.SQLITE_FLOAT:return n.sqlite3_column_double(this.pointer,e);case n.SQLITE_TEXT:return n.sqlite3_column_text(this.pointer,e);case n.SQLITE_BLOB:{const t=n.sqlite3_column_bytes(this.pointer,e),i=n.sqlite3_column_blob(this.pointer,e),s=new Uint8Array(t);return t&&s.set(r.heap8u().slice(i,i+t),0),t&&this.db._blobXfer instanceof Array&&this.db._blobXfer.push(s.buffer),s}default:t("Don't know how to translate","type of result column #"+e+".")}t("Not reached.")},getInt:function(e){return this.get(e,n.SQLITE_INTEGER)},getFloat:function(e){return this.get(e,n.SQLITE_FLOAT)},getString:function(e){return this.get(e,n.SQLITE_TEXT)},getBlob:function(e){return this.get(e,n.SQLITE_BLOB)},getJSON:function(e){const t=this.get(e,n.SQLITE_STRING);return null===t?t:JSON.parse(t)},getColumnName:function(e){return n.sqlite3_column_name(m(b(this),e).pointer,e)},getColumnNames:function(e=[]){m(b(this),0);const t=this.columnCount;for(let r=0;r<t;++r)e.push(n.sqlite3_column_name(this.pointer,r));return e},getParamIndex:function(e){return b(this).parameterCount?n.sqlite3_bind_parameter_index(this.pointer,e):void 0}};{const e={enumerable:!0,get:function(){return s.get(this)},set:()=>t("The pointer property is read-only.")};Object.defineProperty(p.prototype,"pointer",e),Object.defineProperty(_.prototype,"pointer",e)}if(Object.defineProperty(p.prototype,"columnCount",{enumerable:!1,get:function(){return n.sqlite3_column_count(this.pointer)},set:()=>t("The columnCount property is read-only.")}),e.oo1={DB:_,Stmt:p},i.isUIThread()){e.oo1.JsStorageDb=function(e="session"){"session"!==e&&"local"!==e&&t("JsStorageDb db name must be one of 'session' or 'local'."),f.call(this,{filename:e,flags:"c",vfs:"kvvfs"})};const r=e.oo1.JsStorageDb;r.prototype=Object.create(_.prototype),r.clearStorage=n.sqlite3_js_kvvfs_clear,r.prototype.clearStorage=function(){return r.clearStorage(h(this).filename)},r.storageSize=n.sqlite3_js_kvvfs_size,r.prototype.storageSize=function(){return r.storageSize(h(this).filename)}}})),globalThis.sqlite3ApiBootstrap.initializers.push((function(e){e.initWorker1API=function(){const e=(...e)=>{throw new Error(e.join(" "))};globalThis.WorkerGlobalScope instanceof Function||e("initWorker1API() must be run from a Worker thread."),this.self;const t=this.sqlite3||e("Missing this.sqlite3 object."),n=t.oo1.DB,r=function(e){let t=i.idMap.get(e);return t||(t="db#"+ ++i.idSeq+"@"+e.pointer,i.idMap.set(e,t),t)},i={dbList:[],idSeq:0,idMap:new WeakMap,xfer:[],open:function(e){const t=new n(e);return this.dbs[r(t)]=t,this.dbList.indexOf(t)<0&&this.dbList.push(t),t},close:function(e,n){if(e){delete this.dbs[r(e)];const i=e.filename,s=t.wasm.sqlite3_wasm_db_vfs(e.pointer,0);e.close();const o=this.dbList.indexOf(e);o>=0&&this.dbList.splice(o,1),n&&i&&s&&t.wasm.sqlite3_wasm_vfs_unlink(s,i)}},post:function(e,t){t&&t.length?(globalThis.postMessage(e,Array.from(t)),t.length=0):globalThis.postMessage(e)},dbs:Object.create(null),getDb:function(t,n=!0){return this.dbs[t]||(n?e("Unknown (or closed) DB ID:",t):void 0)}},s=function(t,n=!0){const r=i.getDb(t.dbId,!1)||i.dbList[0];return n?function(t=i.dbList[0]){return t&&t.pointer?t:e("DB is not opened.")}(r):r},o={open:function(n){const s=Object.create(null),o=n.args||Object.create(null);o.simulateError&&e("Throwing because of simulateError flag.");const a=Object.create(null);let l,c;var u;if(s.vfs=o.vfs,""===(u=o.filename)||":"===u[0]?s.filename=o.filename||"":(s.filename=o.filename,l=o.byteArray,l&&(c=function(e){const n=/^file:.+(vfs=(\w+))/.exec(e);return t.capi.sqlite3_vfs_find(n?n[2]:0)}(o.filename))),c){let e;try{e=t.wasm.allocFromTypedArray(l);const n=t.wasm.sqlite3_wasm_vfs_create_file(c,s.filename,e,l.byteLength);n&&t.SQLite3Error.toss(n)}catch(e){throw new t.SQLite3Error(e.name+" creating "+o.filename+": "+e.message,{cause:e})}finally{e&&t.wasm.dealloc(e)}}const f=i.open(s);return a.filename=f.filename,a.persistent=!!t.capi.sqlite3_js_db_uses_vfs(f.pointer,"opfs"),a.dbId=r(f),a.vfs=f.dbVfsName(),a},close:function(e){const t=s(e,!1),n={filename:t&&t.filename};if(t){const n=!(!e.args||"object"!=typeof e.args||!e.args.unlink);i.close(t,n)}return n},exec:function(t){const n="string"==typeof t.args?{sql:t.args}:t.args||Object.create(null);"stmt"===n.rowMode?e("Invalid rowMode for 'exec': stmt mode","does not work in the Worker API."):n.sql||e("'exec' requires input SQL.");const r=s(t);(n.callback||Array.isArray(n.resultRows))&&(r._blobXfer=i.xfer);const o=n.callback;let a=0;const l=!!n.columnNames;"string"==typeof o&&(l||(n.columnNames=[]),n.callback=function(e,t){i.post({type:o,columnNames:n.columnNames,rowNumber:++a,row:e},i.xfer)});try{const e=n.countChanges?r.changes(!0,64===n.countChanges):void 0;r.exec(n),void 0!==e&&(n.changeCount=r.changes(!0,64===n.countChanges)-e),n.callback instanceof Function&&(n.callback=o,i.post({type:o,columnNames:n.columnNames,rowNumber:null,row:void 0}))}finally{delete r._blobXfer,n.callback&&(n.callback=o)}return n},"config-get":function(){const e=Object.create(null),n=t.config;return["bigIntEnabled"].forEach((function(t){Object.getOwnPropertyDescriptor(n,t)&&(e[t]=n[t])})),e.version=t.version,e.vfsList=t.capi.sqlite3_js_vfs_list(),e.opfsEnabled=!!t.opfs,e},export:function(e){const n=s(e),r={byteArray:t.capi.sqlite3_js_db_export(n.pointer),filename:n.filename,mimetype:"application/x-sqlite3"};return i.xfer.push(r.byteArray.buffer),r},toss:function(t){e("Testing worker exception")},"opfs-tree":async function(n){return t.opfs||e("OPFS support is unavailable."),await t.opfs.treeList()}};globalThis.onmessage=async function(t){let n,s=(t=t.data).dbId,a=t.type;const l=performance.now();try{o.hasOwnProperty(a)&&o[a]instanceof Function?n=await o[a](t):e("Unknown db worker message type:",t.type)}catch(e){a="error",n={operation:t.type,message:e.message,errorClass:e.name,input:t},e.stack&&(n.stack="string"==typeof e.stack?e.stack.split(/\n\s*/):e.stack)}s||(s=n.dbId||i.dbList[0]&&r(i.dbList[0])),i.post({type:a,dbId:s,messageId:t.messageId,workerReceivedTime:l,workerRespondTime:performance.now(),departureTime:t.departureTime,result:n},i.xfer)},globalThis.postMessage({type:"sqlite3-api",result:"worker1-ready"})}.bind({self,sqlite3:e})})),globalThis.sqlite3ApiBootstrap.initializers.push((function(e){const t=e.wasm,n=e.capi,r=e.util.toss3,i=Object.create(null),s=Object.create(null),o=e.StructBinder;e.vfs=i,e.vtab=s;const a=n.sqlite3_index_info;a.prototype.nthConstraint=function(e,t=!1){if(e<0||e>=this.$nConstraint)return!1;const n=this.$aConstraint+a.sqlite3_index_constraint.structInfo.sizeof*e;return t?n:new a.sqlite3_index_constraint(n)},a.prototype.nthConstraintUsage=function(e,t=!1){if(e<0||e>=this.$nConstraint)return!1;const n=this.$aConstraintUsage+a.sqlite3_index_constraint_usage.structInfo.sizeof*e;return t?n:new a.sqlite3_index_constraint_usage(n)},a.prototype.nthOrderBy=function(e,t=!1){if(e<0||e>=this.$nOrderBy)return!1;const n=this.$aOrderBy+a.sqlite3_index_orderby.structInfo.sizeof*e;return t?n:new a.sqlite3_index_orderby(n)};const l=function e(n,i,s,a=e.installMethodArgcCheck){if(n instanceof o.StructType?s instanceof Function||t.isPtr(s)||r("Usage errror: expecting a Function or WASM pointer to one."):r("Usage error: target object is-not-a StructType."),1===arguments.length)return(t,r)=>e(n,t,r,a);e.argcProxy||(e.argcProxy=function(e,t,n,i){return function(...s){return n.length!==arguments.length&&r("Argument mismatch for",e.structInfo.name+"::"+t+": Native signature is:",i),n.apply(this,s)}},e.removeFuncList=function(){this.ondispose.__removeFuncList&&(this.ondispose.__removeFuncList.forEach(((e,n)=>{if("number"==typeof e)try{t.uninstallFunction(e)}catch(e){}})),delete this.ondispose.__removeFuncList)});const l=n.memberSignature(i);l.length<2&&r("Member",i,"does not have a function pointer signature:",l);const c=n.memberKey(i),u=a&&!t.isPtr(s)?e.argcProxy(n,c,s,l):s;if(t.isPtr(u))u&&!t.functionEntry(u)&&r("Pointer",u,"is not a WASM function table entry."),n[c]=u;else{const r=t.installFunction(u,n.memberSignature(i,!0));n[c]=r,n.ondispose&&n.ondispose.__removeFuncList||(n.addOnDispose("ondispose.__removeFuncList handler",e.removeFuncList),n.ondispose.__removeFuncList=[]),n.ondispose.__removeFuncList.push(c,r)}return(t,r)=>e(n,t,r,a)};l.installMethodArgcCheck=!1;const c=function(e,t,n=l.installMethodArgcCheck){const r=new Map;for(const i of Object.keys(t)){const s=t[i],o=r.get(s);if(o){const t=e.memberKey(i);e[t]=e[e.memberKey(o)]}else l(e,i,s,n),r.set(s,i)}return e};o.StructType.prototype.installMethod=function(e,t,n=l.installMethodArgcCheck){return arguments.length<3&&e&&"object"==typeof e?c(this,...arguments):l(this,...arguments)},o.StructType.prototype.installMethods=function(e,t=l.installMethodArgcCheck){return c(this,e,t)},n.sqlite3_vfs.prototype.registerVfs=function(t=!1){this instanceof e.capi.sqlite3_vfs||r("Expecting a sqlite3_vfs-type argument.");const i=n.sqlite3_vfs_register(this,t?1:0);return i&&r("sqlite3_vfs_register(",this,") failed with rc",i),this.pointer!==n.sqlite3_vfs_find(this.$zName)&&r("BUG: sqlite3_vfs_find(vfs.$zName) failed for just-installed VFS",this),this},i.installVfs=function(e){let n=0;const i=["io","vfs"];for(const r of i){const i=e[r];i&&(++n,c(i.struct,i.methods,!!i.applyArgcCheck),"vfs"===r&&(i.struct.$zName||"string"!=typeof i.name||i.struct.addOnDispose(i.struct.$zName=t.allocCString(i.name)),i.struct.registerVfs(!!i.asDefault)))}return n||r("Misuse: installVfs() options object requires at least","one of:",i),this};const u=function(n,r){const i=function(n,r){return function(i,s=!1){if(0===arguments.length&&(i=new r),i instanceof r)return this.set(i.pointer,i),i;t.isPtr(i)||e.SQLite3Error.toss("Invalid argument to",n+"()");let o=this.get(i);return s&&this.delete(i),o}.bind(new Map)}(n,r);return Object.assign(Object.create(null),{StructType:r,create:e=>{const n=i();return t.pokePtr(e,n.pointer),n},get:e=>i(e),unget:e=>i(e,!0),dispose:e=>{const t=i(e,!0);t&&t.dispose()}})};s.xVtab=u("xVtab",n.sqlite3_vtab),s.xCursor=u("xCursor",n.sqlite3_vtab_cursor),s.xIndexInfo=e=>new n.sqlite3_index_info(e),s.xError=function t(r,i,s){if(t.errorReporter instanceof Function)try{t.errorReporter("sqlite3_module::"+r+"(): "+i.message)}catch(e){}let o;return i instanceof e.WasmAllocError?o=n.SQLITE_NOMEM:arguments.length>2?o=s:i instanceof e.SQLite3Error&&(o=i.resultCode),o||n.SQLITE_ERROR},s.xError.errorReporter=console.error.bind(console),s.xRowid=(e,n)=>t.poke(e,n,"i64"),s.setupModule=function(i){let o=!1;const a=this instanceof n.sqlite3_module?this:i.struct||(o=new n.sqlite3_module);try{const n=i.methods||r("Missing 'methods' object.");for(const e of Object.entries({xConnect:"xCreate",xDisconnect:"xDestroy"})){const t=e[0],r=e[1];!0===n[t]?n[t]=n[r]:!0===n[r]&&(n[r]=n[t])}if(i.catchExceptions){const r=function(n,r){return["xConnect","xCreate"].indexOf(n)>=0?function(i,o,a,l,c,u){try{return r(...arguments)||0}catch(r){return r instanceof e.WasmAllocError||(t.dealloc(t.peekPtr(u)),t.pokePtr(u,t.allocCString(r.message))),s.xError(n,r)}}:function(...e){try{return r(...e)||0}catch(e){return s.xError(n,e)}}},i=["xCreate","xConnect","xBestIndex","xDisconnect","xDestroy","xOpen","xClose","xFilter","xNext","xEof","xColumn","xRowid","xUpdate","xBegin","xSync","xCommit","xRollback","xFindFunction","xRename","xSavepoint","xRelease","xRollbackTo","xShadowName"],o=Object.create(null);for(const e of i){const t=n[e];t instanceof Function&&("xConnect"===e&&n.xCreate===t?o[e]=n.xCreate:"xCreate"===e&&n.xConnect===t?o[e]=n.xConnect:o[e]=r(e,t))}c(a,o,!1)}else c(a,n,!!i.applyArgcCheck);if(0===a.$iVersion){let e;e="number"==typeof i.iVersion?i.iVersion:a.$xShadowName?3:a.$xSavePoint||a.$xRelease||a.$xRollbackTo?2:1,a.$iVersion=e}}catch(e){throw o&&o.dispose(),e}return a},n.sqlite3_module.prototype.setupModule=function(e){return s.setupModule.call(this,e)}})),globalThis.sqlite3ApiBootstrap.initializers.push((function(e){const t=function t(r){if(!globalThis.SharedArrayBuffer||!globalThis.Atomics)return Promise.reject(new Error("Cannot install OPFS: Missing SharedArrayBuffer and/or Atomics. The server must emit the COOP/COEP response headers to enable those. See https://sqlite.org/wasm/doc/trunk/persistence.md#coop-coep"));if("undefined"==typeof WorkerGlobalScope)return Promise.reject(new Error("The OPFS sqlite3_vfs cannot run in the main thread because it requires Atomics.wait()."));if(!(globalThis.FileSystemHandle&&globalThis.FileSystemDirectoryHandle&&globalThis.FileSystemFileHandle&&globalThis.FileSystemFileHandle.prototype.createSyncAccessHandle&&navigator?.storage?.getDirectory))return Promise.reject(new Error("Missing required OPFS APIs."));r&&"object"==typeof r||(r=Object.create(null));const i=new URL(globalThis.location.href).searchParams;if(i.has("opfs-disable"))return Promise.resolve(e);void 0===r.verbose&&(r.verbose=i.has("opfs-verbose")?+i.get("opfs-verbose")||2:1),void 0===r.sanityChecks&&(r.sanityChecks=i.has("opfs-sanity-check")),void 0===r.proxyUri&&(r.proxyUri=t.defaultProxyUri),"function"==typeof r.proxyUri&&(r.proxyUri=r.proxyUri());const s=new Promise((function(t,i){const s=[e.config.error,e.config.warn,e.config.log],o=(e,...t)=>{r.verbose>e&&s[e]("OPFS syncer:",...t)},a=(...e)=>o(2,...e),l=(...e)=>o(1,...e),c=(...e)=>o(0,...e),u=e.util.toss,f=e.capi,_=e.wasm,d=f.sqlite3_vfs,p=f.sqlite3_file,h=f.sqlite3_io_methods,m=Object.create(null);m.metrics={dump:function(){let t,n=0,r=0,i=0;for(t in S.opIds){const e=k[t];n+=e.count,r+=e.time,i+=e.wait,e.avgTime=e.count&&e.time?e.time/e.count:0,e.avgWait=e.count&&e.wait?e.wait/e.count:0}e.config.log(globalThis.location.href,"metrics for",globalThis.location.href,":",k,"\nTotal of",n,"op(s) for",r,"ms (incl. "+i+" ms of waiting on the async side)"),e.config.log("Serialization metrics:",k.s11n),q.postMessage({type:"opfs-async-metrics"})},reset:function(){let e;for(e in S.opIds)(t=k[e]=Object.create(null)).count=t.time=t.wait=0;var t;let n=k.s11n=Object.create(null);n=n.serialize=Object.create(null),n.count=n.time=0,n=k.s11n.deserialize=Object.create(null),n.count=n.time=0}};const g=new h,y=(new d).addOnDispose((()=>g.dispose()));let b;const v=e=>(b=!0,y.dispose(),i(e)),w=()=>(b=!1,t(e)),q=new Worker(new URL(n.p+n.u(528),n.b));setTimeout((()=>{void 0===b&&v(new Error("Timeout while waiting for OPFS async proxy worker."))}),4e3),q._originalOnError=q.onerror,q.onerror=function(e){c("Error initializing OPFS asyncer:",e),v(new Error("Loading OPFS async Worker failed for unknown reasons."))};const E=f.sqlite3_vfs_find(null),x=E?new d(E):null;g.$iVersion=1,y.$iVersion=2,y.$szOsFile=f.sqlite3_file.structInfo.sizeof,y.$mxPathname=1024,y.$zName=_.allocCString("opfs"),y.$xDlOpen=y.$xDlError=y.$xDlSym=y.$xDlClose=null,y.addOnDispose("$zName",y.$zName,"cleanup default VFS wrapper",(()=>x?x.dispose():null));const S=Object.create(null);S.verbose=r.verbose,S.littleEndian=(()=>{const e=new ArrayBuffer(2);return new DataView(e).setInt16(0,256,!0),256===new Int16Array(e)[0]})(),S.asyncIdleWaitTime=150,S.asyncS11nExceptions=1,S.fileBufferSize=65536,S.sabS11nOffset=S.fileBufferSize,S.sabS11nSize=2*y.$mxPathname,S.sabIO=new SharedArrayBuffer(S.fileBufferSize+S.sabS11nSize),S.opIds=Object.create(null);const k=Object.create(null);{let e=0;S.opIds.whichOp=e++,S.opIds.rc=e++,S.opIds.xAccess=e++,S.opIds.xClose=e++,S.opIds.xDelete=e++,S.opIds.xDeleteNoWait=e++,S.opIds.xFileSize=e++,S.opIds.xLock=e++,S.opIds.xOpen=e++,S.opIds.xRead=e++,S.opIds.xSleep=e++,S.opIds.xSync=e++,S.opIds.xTruncate=e++,S.opIds.xUnlock=e++,S.opIds.xWrite=e++,S.opIds.mkdir=e++,S.opIds["opfs-async-metrics"]=e++,S.opIds["opfs-async-shutdown"]=e++,S.opIds.retry=e++,S.sabOP=new SharedArrayBuffer(4*e),m.metrics.reset()}S.sq3Codes=Object.create(null),["SQLITE_ACCESS_EXISTS","SQLITE_ACCESS_READWRITE","SQLITE_BUSY","SQLITE_ERROR","SQLITE_IOERR","SQLITE_IOERR_ACCESS","SQLITE_IOERR_CLOSE","SQLITE_IOERR_DELETE","SQLITE_IOERR_FSYNC","SQLITE_IOERR_LOCK","SQLITE_IOERR_READ","SQLITE_IOERR_SHORT_READ","SQLITE_IOERR_TRUNCATE","SQLITE_IOERR_UNLOCK","SQLITE_IOERR_WRITE","SQLITE_LOCK_EXCLUSIVE","SQLITE_LOCK_NONE","SQLITE_LOCK_PENDING","SQLITE_LOCK_RESERVED","SQLITE_LOCK_SHARED","SQLITE_LOCKED","SQLITE_MISUSE","SQLITE_NOTFOUND","SQLITE_OPEN_CREATE","SQLITE_OPEN_DELETEONCLOSE","SQLITE_OPEN_MAIN_DB","SQLITE_OPEN_READONLY"].forEach((e=>{void 0===(S.sq3Codes[e]=f[e])&&u("Maintenance required: not found:",e)})),S.opfsFlags=Object.assign(Object.create(null),{OPFS_UNLOCK_ASAP:1,defaultUnlockAsap:!1});const A=(e,...t)=>{const n=S.opIds[e]||u("Invalid op ID:",e);S.s11n.serialize(...t),Atomics.store(S.sabOPView,S.opIds.rc,-1),Atomics.store(S.sabOPView,S.opIds.whichOp,n),Atomics.notify(S.sabOPView,S.opIds.whichOp);const r=performance.now();Atomics.wait(S.sabOPView,S.opIds.rc,-1);const i=Atomics.load(S.sabOPView,S.opIds.rc);if(k[e].wait+=performance.now()-r,i&&S.asyncS11nExceptions){const t=S.s11n.deserialize();t&&c(e+"() async error:",...t)}return i};m.debug={asyncShutdown:()=>{l("Shutting down OPFS async listener. The OPFS VFS will no longer work."),A("opfs-async-shutdown")},asyncRestart:()=>{l("Attempting to restart OPFS VFS async listener. Might work, might not."),q.postMessage({type:"opfs-async-restart"})}};const I=function e(t=16){e._chars||(e._n=(e._chars="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ012346789").length);const n=[];let r=0;for(;r<t;++r){const t=Math.random()*(64*e._n)%e._n|0;n[r]=e._chars[t]}return n.join("")},T=Object.create(null),O=Object.create(null);O.op=void 0,O.start=void 0;const F=e=>{O.start=performance.now(),O.op=e,++k[e].count},C=()=>k[O.op].time+=performance.now()-O.start,P={xCheckReservedLock:function(e,t){const n=T[e];return _.poke(t,n.lockType?1:0,"i32"),0},xClose:function(e){F("xClose");let t=0;const n=T[e];return n&&(delete T[e],t=A("xClose",e),n.sq3File&&n.sq3File.dispose()),C(),t},xDeviceCharacteristics:function(e){return f.SQLITE_IOCAP_UNDELETABLE_WHEN_OPEN},xFileControl:function(e,t,n){return f.SQLITE_NOTFOUND},xFileSize:function(e,t){F("xFileSize");let n=A("xFileSize",e);if(0==n)try{const e=S.s11n.deserialize()[0];_.poke(t,e,"i64")}catch(e){c("Unexpected error reading xFileSize() result:",e),n=S.sq3Codes.SQLITE_IOERR}return C(),n},xLock:function(e,t){F("xLock");const n=T[e];let r=0;return n.lockType?n.lockType=t:(r=A("xLock",e,t),0===r&&(n.lockType=t)),C(),r},xRead:function(e,t,n,r){F("xRead");const i=T[e];let s;try{s=A("xRead",e,n,Number(r)),0!==s&&f.SQLITE_IOERR_SHORT_READ!==s||_.heap8u().set(i.sabView.subarray(0,n),t)}catch(e){c("xRead(",arguments,") failed:",e,i),s=f.SQLITE_IOERR_READ}return C(),s},xSync:function(e,t){F("xSync"),++k.xSync.count;const n=A("xSync",e,t);return C(),n},xTruncate:function(e,t){F("xTruncate");const n=A("xTruncate",e,Number(t));return C(),n},xUnlock:function(e,t){F("xUnlock");const n=T[e];let r=0;return f.SQLITE_LOCK_NONE===t&&n.lockType&&(r=A("xUnlock",e,t)),0===r&&(n.lockType=t),C(),r},xWrite:function(e,t,n,r){F("xWrite");const i=T[e];let s;try{i.sabView.set(_.heap8u().subarray(t,t+n)),s=A("xWrite",e,n,Number(r))}catch(e){c("xWrite(",arguments,") failed:",e,i),s=f.SQLITE_IOERR_WRITE}return C(),s}},D={xAccess:function(e,t,n,r){F("xAccess");const i=A("xAccess",_.cstrToJs(t));return _.poke(r,i?0:1,"i32"),C(),0},xCurrentTime:function(e,t){return _.poke(t,2440587.5+(new Date).getTime()/864e5,"double"),0},xCurrentTimeInt64:function(e,t){return _.poke(t,21086676e7+(new Date).getTime(),"i64"),0},xDelete:function(e,t,n){F("xDelete");const r=A("xDelete",_.cstrToJs(t),n,!1);return C(),r},xFullPathname:function(e,t,n,r){return _.cstrncpy(r,t,n)<n?0:f.SQLITE_CANTOPEN},xGetLastError:function(e,t,n){return l("OPFS xGetLastError() has nothing sensible to return."),0},xOpen:function(e,t,n,r,i){F("xOpen");let s=0;0===t?t=I():"number"==typeof t&&(f.sqlite3_uri_boolean(t,"opfs-unlock-asap",0)&&(s|=S.opfsFlags.OPFS_UNLOCK_ASAP),t=_.cstrToJs(t));const o=Object.create(null);o.fid=n,o.filename=t,o.sab=new SharedArrayBuffer(S.fileBufferSize),o.flags=r;const a=A("xOpen",n,t,r,s);return a||(o.readOnly&&_.poke(i,f.SQLITE_OPEN_READONLY,"i32"),T[n]=o,o.sabView=S.sabFileBufView,o.sq3File=new p(n),o.sq3File.$pMethods=g.pointer,o.lockType=f.SQLITE_LOCK_NONE),C(),a}};if(x&&(y.$xRandomness=x.$xRandomness,y.$xSleep=x.$xSleep),y.$xRandomness||(D.xRandomness=function(e,t,n){const r=_.heap8u();let i=0;for(;i<t;++i)r[n+i]=255e3*Math.random()&255;return i}),y.$xSleep||(D.xSleep=function(e,t){return Atomics.wait(S.sabOPView,S.opIds.xSleep,0,t),0}),m.getResolvedPath=function(e,t){const n=new URL(e,"file://irrelevant").pathname;return t?n.split("/").filter((e=>!!e)):n},m.getDirForFilename=async function(e,t=!1){const n=m.getResolvedPath(e,!0),r=n.pop();let i=m.rootDirectory;for(const e of n)e&&(i=await i.getDirectoryHandle(e,{create:!!t}));return[i,r]},m.mkdir=async function(e){try{return await m.getDirForFilename(e+"/filepart",!0),!0}catch(e){return!1}},m.entryExists=async function(e){try{const[t,n]=await m.getDirForFilename(e);return await t.getFileHandle(n),!0}catch(e){return!1}},m.randomFilename=I,m.registerVfs=(e=!1)=>_.exports.sqlite3_vfs_register(y.pointer,e?1:0),m.treeList=async function(){const e=Object.create(null);return await async function e(t,n){n.name=t.name,n.dirs=[],n.files=[];for await(const r of t.values())if("directory"===r.kind){const t=Object.create(null);n.dirs.push(t),await e(r,t)}else n.files.push(r.name)}(m.rootDirectory,e),e},m.rmfr=async function(){const e=m.rootDirectory,t={recurse:!0};for await(const n of e.values())e.removeEntry(n.name,t)},m.unlink=async function(e,t=!1,n=!1){try{const[n,r]=await m.getDirForFilename(e,!1);return await n.removeEntry(r,{recursive:t}),!0}catch(e){if(n)throw new Error("unlink(",arguments[0],") failed: "+e.message,{cause:e});return!1}},m.traverse=async function(e){const t={recursive:!0,directory:m.rootDirectory};"function"==typeof e&&(e={callback:e}),async function t(n,r){for await(const i of n.values()){if(!1===e.callback(i,n,r))return!1;if(e.recursive&&"directory"===i.kind&&!1===await t(i,r+1))break}}((e=Object.assign(t,e||{})).directory,0)},m.importDb=async function(e,t){t instanceof ArrayBuffer&&(t=new Uint8Array(t));const n=t.byteLength;(n<512||n%512!=0)&&u("Byte array size is invalid for an SQLite db.");for(let e=0;e<15;++e)"SQLite format 3".charCodeAt(e)!==t[e]&&u("Input does not contain an SQLite database header.");let r;const[i,s]=await m.getDirForFilename(e,!0);try{const e=await i.getFileHandle(s,{create:!0});r=await e.createSyncAccessHandle(),r.truncate(0);const o=r.write(t,{at:0});return o!=n&&u("Expected to write "+n+" bytes but wrote "+o+"."),r.write(new Uint8Array([1,1]),{at:18}),o}catch(e){throw r&&(await r.close(),r=void 0),await i.removeEntry(s).catch((()=>{})),e}finally{r&&await r.close()}},e.oo1){const t=function(...t){const n=e.oo1.DB.dbCtorHelper.normalizeArgs(...t);n.vfs=y.$zName,e.oo1.DB.dbCtorHelper.call(this,n)};t.prototype=Object.create(e.oo1.DB.prototype),e.oo1.OpfsDb=t,t.importDb=m.importDb,e.oo1.DB.dbCtorHelper.setVfsPostOpenSql(y.pointer,(function(e,t){t.capi.sqlite3_busy_timeout(e,1e4),t.capi.sqlite3_exec(e,["pragma journal_mode=DELETE;","pragma cache_size=-16384;"],0,0,0)}))}q.onmessage=function({data:t}){switch(t.type){case"opfs-unavailable":v(new Error(t.payload.join(" ")));break;case"opfs-async-loaded":q.postMessage({type:"opfs-async-init",args:S});break;case"opfs-async-inited":if(!0===b)break;try{e.vfs.installVfs({io:{struct:g,methods:P},vfs:{struct:y,methods:D}}),S.sabOPView=new Int32Array(S.sabOP),S.sabFileBufView=new Uint8Array(S.sabIO,0,S.fileBufferSize),S.sabS11nView=new Uint8Array(S.sabIO,S.sabS11nOffset,S.sabS11nSize),(()=>{if(S.s11n)return S.s11n;const e=new TextDecoder,t=new TextEncoder("utf-8"),n=new Uint8Array(S.sabIO,S.sabS11nOffset,S.sabS11nSize),r=new DataView(S.sabIO,S.sabS11nOffset,S.sabS11nSize);S.s11n=Object.create(null);const i=Object.create(null);i.number={id:1,size:8,getter:"getFloat64",setter:"setFloat64"},i.bigint={id:2,size:8,getter:"getBigInt64",setter:"setBigInt64"},i.boolean={id:3,size:4,getter:"getInt32",setter:"setInt32"},i.string={id:4};const s=e=>{switch(e){case i.number.id:return i.number;case i.bigint.id:return i.bigint;case i.boolean.id:return i.boolean;case i.string.id:return i.string;default:u("Invalid type ID:",e)}};S.s11n.deserialize=function(t=!1){++k.s11n.deserialize.count;const i=performance.now(),o=n[0],a=o?[]:null;if(o){const t=[];let i,l,c,u=1;for(i=0;i<o;++i,++u)t.push(s(n[u]));for(i=0;i<o;++i){const s=t[i];s.getter?(c=r[s.getter](u,S.littleEndian),u+=s.size):(l=r.getInt32(u,S.littleEndian),u+=4,c=e.decode(n.slice(u,u+l)),u+=l),a.push(c)}}return t&&(n[0]=0),k.s11n.deserialize.time+=performance.now()-i,a},S.s11n.serialize=function(...e){const s=performance.now();if(++k.s11n.serialize.count,e.length){const s=[];let a=0,l=1;for(n[0]=255&e.length;a<e.length;++a,++l)s.push((o=e[a],i[typeof o]||u("Maintenance required: this value type cannot be serialized.",o))),n[l]=s[a].id;for(a=0;a<e.length;++a){const i=s[a];if(i.setter)r[i.setter](l,e[a],S.littleEndian),l+=i.size;else{const i=t.encode(e[a]);r.setInt32(l,i.byteLength,S.littleEndian),l+=4,n.set(i,l),l+=i.byteLength}}}else n[0]=0;var o;k.s11n.serialize.time+=performance.now()-s},S.s11n})(),r.sanityChecks&&(l("Running sanity checks because of opfs-sanity-check URL arg..."),function(){const e=_.scopedAllocPush(),t=new p;try{const e=t.pointer,n=f.SQLITE_OPEN_CREATE|f.SQLITE_OPEN_READWRITE|f.SQLITE_OPEN_MAIN_DB,r=_.scopedAlloc(8),i="/sanity/check/file"+I(8),s=_.scopedAllocCString(i);let o;if(S.s11n.serialize("This is ä string."),o=S.s11n.deserialize(),a("deserialize() says:",o),"This is ä string."!==o[0]&&u("String d13n error."),D.xAccess(y.pointer,s,0,r),o=_.peek(r,"i32"),a("xAccess(",i,") exists ?=",o),o=D.xOpen(y.pointer,s,e,n,r),a("open rc =",o,"state.sabOPView[xOpen] =",S.sabOPView[S.opIds.xOpen]),0!==o)return void c("open failed with code",o);D.xAccess(y.pointer,s,0,r),o=_.peek(r,"i32"),o||u("xAccess() failed to detect file."),o=P.xSync(t.pointer,0),o&&u("sync failed w/ rc",o),o=P.xTruncate(t.pointer,1024),o&&u("truncate failed w/ rc",o),_.poke(r,0,"i64"),o=P.xFileSize(t.pointer,r),o&&u("xFileSize failed w/ rc",o),a("xFileSize says:",_.peek(r,"i64")),o=P.xWrite(t.pointer,s,10,1),o&&u("xWrite() failed!");const d=_.scopedAlloc(16);o=P.xRead(t.pointer,d,6,2),_.poke(d+6,0);let p=_.cstrToJs(d);a("xRead() got:",p),"sanity"!==p&&u("Unexpected xRead() value."),D.xSleep&&(a("xSleep()ing before close()ing..."),D.xSleep(y.pointer,2e3),a("waking up from xSleep()")),o=P.xClose(e),a("xClose rc =",o,"sabOPView =",S.sabOPView),a("Deleting file:",i),D.xDelete(y.pointer,s,4660),D.xAccess(y.pointer,s,0,r),o=_.peek(r,"i32"),o&&u("Expecting 0 from xAccess(",i,") after xDelete()."),l("End of OPFS sanity checks.")}finally{t.dispose(),_.scopedAllocPop(e)}}()),globalThis.FileSystemHandle&&globalThis.FileSystemDirectoryHandle&&globalThis.FileSystemFileHandle&&globalThis.FileSystemFileHandle.prototype.createSyncAccessHandle&&navigator?.storage?.getDirectory?navigator.storage.getDirectory().then((t=>{q.onerror=q._originalOnError,delete q._originalOnError,e.opfs=m,m.rootDirectory=t,a("End of OPFS sqlite3_vfs setup.",y),w()})).catch(v):w()}catch(e){c(e),v(e)}break;default:{const e="Unexpected message from the OPFS async worker: "+JSON.stringify(t);c(e),v(new Error(e));break}}}}));return s};t.defaultProxyUri="sqlite3-opfs-async-proxy.js",globalThis.sqlite3ApiBootstrap.initializersAsync.push((async e=>{try{let n=t.defaultProxyUri;return e.scriptInfo.sqlite3Dir&&(t.defaultProxyUri=e.scriptInfo.sqlite3Dir+n),t().catch((t=>{e.config.warn("Ignoring inability to install OPFS sqlite3_vfs:",t.message)}))}catch(t){return e.config.error("installOpfsVfs() exception:",t),Promise.reject(t)}}))})),globalThis.sqlite3ApiBootstrap.initializers.push((function(e){const t=e.util.toss,n=e.util.toss3,r=Object.create(null),i=e.capi,s=e.wasm,o=4096,a=i.SQLITE_OPEN_MAIN_DB|i.SQLITE_OPEN_MAIN_JOURNAL|i.SQLITE_OPEN_SUPER_JOURNAL|i.SQLITE_OPEN_WAL,l=".opaque",c=()=>Math.random().toString(36).slice(2),u=new TextDecoder,f=new TextEncoder,_=Object.assign(Object.create(null),{name:"opfs-sahpool",directory:void 0,initialCapacity:6,clearOnInit:!1,verbosity:2}),d=[e.config.error,e.config.warn,e.config.log],p=(e.config.log,e.config.warn),h=(e.config.error,new Map),m=e=>h.get(e),g=(e,t)=>{t?h.set(e,t):h.delete(e)},y=new Map,b=e=>y.get(e),v=(e,t)=>{t?y.set(e,t):y.delete(e)},w={xCheckReservedLock:function(e,t){const n=b(e);return n.log("xCheckReservedLock"),n.storeErr(),s.poke32(t,1),0},xClose:function(e){const t=b(e);t.storeErr();const n=t.getOFileForS3File(e);if(n)try{t.log(`xClose ${n.path}`),t.mapS3FileToOFile(e,!1),n.sah.flush(),n.flags&i.SQLITE_OPEN_DELETEONCLOSE&&t.deletePath(n.path)}catch(e){return t.storeErr(e),i.SQLITE_IOERR}return 0},xDeviceCharacteristics:function(e){return i.SQLITE_IOCAP_UNDELETABLE_WHEN_OPEN},xFileControl:function(e,t,n){return i.SQLITE_NOTFOUND},xFileSize:function(e,t){const n=b(e);n.log("xFileSize");const r=n.getOFileForS3File(e).sah.getSize()-o;return s.poke64(t,BigInt(r)),0},xLock:function(e,t){const n=b(e);return n.log(`xLock ${t}`),n.storeErr(),n.getOFileForS3File(e).lockType=t,0},xRead:function(e,t,n,r){const a=b(e);a.storeErr();const l=a.getOFileForS3File(e);a.log(`xRead ${l.path} ${n} @ ${r}`);try{const e=l.sah.read(s.heap8u().subarray(t,t+n),{at:o+Number(r)});return e<n?(s.heap8u().fill(0,t+e,t+n),i.SQLITE_IOERR_SHORT_READ):0}catch(e){return a.storeErr(e),i.SQLITE_IOERR}},xSectorSize:function(e){return 4096},xSync:function(e,t){const n=b(e);n.log(`xSync ${t}`),n.storeErr();const r=n.getOFileForS3File(e);try{return r.sah.flush(),0}catch(e){return n.storeErr(e),i.SQLITE_IOERR}},xTruncate:function(e,t){const n=b(e);n.log(`xTruncate ${t}`),n.storeErr();const r=n.getOFileForS3File(e);try{return r.sah.truncate(o+Number(t)),0}catch(e){return n.storeErr(e),i.SQLITE_IOERR}},xUnlock:function(e,t){const n=b(e);return n.log("xUnlock"),n.getOFileForS3File(e).lockType=t,0},xWrite:function(e,t,n,r){const a=b(e);a.storeErr();const l=a.getOFileForS3File(e);a.log(`xWrite ${l.path} ${n} ${r}`);try{return l.sah.write(s.heap8u().subarray(t,t+n),{at:o+Number(r)})===n?0:i.SQLITE_IOERR}catch(e){return a.storeErr(e),i.SQLITE_IOERR}}},q=new i.sqlite3_io_methods;q.$iVersion=1,e.vfs.installVfs({io:{struct:q,methods:w}});const E={xAccess:function(e,t,n,r){const i=m(e);i.storeErr();try{const e=i.getPath(t);s.poke32(r,i.hasFilename(e)?1:0)}catch(e){s.poke32(r,0)}return 0},xCurrentTime:function(e,t){return s.poke(t,2440587.5+(new Date).getTime()/864e5,"double"),0},xCurrentTimeInt64:function(e,t){return s.poke(t,21086676e7+(new Date).getTime(),"i64"),0},xDelete:function(e,t,n){const r=m(e);r.log(`xDelete ${s.cstrToJs(t)}`),r.storeErr();try{return r.deletePath(r.getPath(t)),0}catch(e){return r.storeErr(e),i.SQLITE_IOERR_DELETE}},xFullPathname:function(e,t,n,r){return s.cstrncpy(r,t,n)<n?0:i.SQLITE_CANTOPEN},xGetLastError:function(e,t,n){const r=m(e);r.log(`xGetLastError ${t}`);const o=r.popErr();if(o){const e=s.scopedAllocPush();try{const[e,r]=s.scopedAllocCString(o.message,!0);s.cstrncpy(n,e,t),r>t&&s.poke8(n+t-1,0)}catch(o){return i.SQLITE_NOMEM}finally{s.scopedAllocPop(e)}}return 0},xOpen:function(e,n,r,o,a){const l=m(e);try{l.log(`xOpen ${s.cstrToJs(n)} ${o}`);const e=n&&s.peek8(n)?l.getPath(n):c();let u=l.getSAHForPath(e);!u&&o&i.SQLITE_OPEN_CREATE&&(l.getFileCount()<l.getCapacity()?(u=l.nextAvailableSAH(),l.setAssociatedPath(u,e,o)):t("SAH pool is full. Cannot create file",e)),u||t("file not found:",e);const f={path:e,flags:o,sah:u};l.mapS3FileToOFile(r,f),f.lockType=i.SQLITE_LOCK_NONE;const _=new i.sqlite3_file(r);return _.$pMethods=q.pointer,_.dispose(),s.poke32(a,o),0}catch(e){return l.storeErr(e),i.SQLITE_CANTOPEN}}};class x{vfsDir;#e;#t;#n;#r=new Map;#i=new Map;#s=new Set;#o=new Map;#a=new Uint8Array(516);#l;#c;#u;constructor(t=Object.create(null)){this.#u=t.verbosity??_.verbosity,this.vfsName=t.name||_.name,this.#c=function(t){e.capi.sqlite3_vfs_find(t)&&n("VFS name is already registered:",t);const r=new i.sqlite3_vfs,o=i.sqlite3_vfs_find(null),a=o?new i.sqlite3_vfs(o):null;return r.$iVersion=2,r.$szOsFile=i.sqlite3_file.structInfo.sizeof,r.$mxPathname=512,r.addOnDispose(r.$zName=s.allocCString(t),(()=>g(r.pointer,0))),a&&(r.$xRandomness=a.$xRandomness,r.$xSleep=a.$xSleep,a.dispose()),r.$xRandomness||E.xRandomness||(E.xRandomness=function(e,t,n){const r=s.heap8u();let i=0;for(;i<t;++i)r[n+i]=255e3*Math.random()&255;return i}),r.$xSleep||E.xSleep||(E.xSleep=(e,t)=>0),e.vfs.installVfs({vfs:{struct:r,methods:E}}),r}(this.vfsName),g(this.#c.pointer,this),this.vfsDir=t.directory||"."+this.vfsName,this.#l=new DataView(this.#a.buffer,this.#a.byteOffset),this.isReady=this.reset(!!(t.clearOnInit??_.clearOnInit)).then((()=>{if(this.$error)throw this.$error;return this.getCapacity()?Promise.resolve(void 0):this.addCapacity(t.initialCapacity||_.initialCapacity)}))}#f(e,...t){this.#u>e&&d[e](this.vfsName+":",...t)}log(...e){this.#f(2,...e)}warn(...e){this.#f(1,...e)}error(...e){this.#f(0,...e)}getVfs(){return this.#c}getCapacity(){return this.#r.size}getFileCount(){return this.#i.size}getFileNames(){const e=[],t=this.#i.keys();for(const n of t)e.push(n);return e}async addCapacity(e){for(let t=0;t<e;++t){const e=c(),t=await this.#t.getFileHandle(e,{create:!0}),n=await t.createSyncAccessHandle();this.#r.set(n,e),this.setAssociatedPath(n,"",0)}return this.getCapacity()}async reduceCapacity(e){let t=0;for(const n of Array.from(this.#s)){if(t===e||this.getFileCount()===this.getCapacity())break;const r=this.#r.get(n);n.close(),await this.#t.removeEntry(r),this.#r.delete(n),this.#s.delete(n),++t}return t}releaseAccessHandles(){for(const e of this.#r.keys())e.close();this.#r.clear(),this.#i.clear(),this.#s.clear()}async acquireAccessHandles(e){const t=[];for await(const[e,n]of this.#t)"file"===n.kind&&t.push([e,n]);return Promise.all(t.map((async([t,n])=>{try{const r=await n.createSyncAccessHandle();if(this.#r.set(r,t),e)r.truncate(o),this.setAssociatedPath(r,"",0);else{const e=this.getAssociatedPath(r);e?this.#i.set(e,r):this.#s.add(r)}}catch(e){throw this.storeErr(e),this.releaseAccessHandles(),e}})))}getAssociatedPath(e){e.read(this.#a,{at:0});const t=this.#l.getUint32(512);if(this.#a[0]&&(t&i.SQLITE_OPEN_DELETEONCLOSE||!(t&a)))return p(`Removing file with unexpected flags ${t.toString(16)}`,this.#a),this.setAssociatedPath(e,"",0),"";const n=new Uint32Array(2);e.read(n,{at:516});const r=this.computeDigest(this.#a);if(n.every(((e,t)=>e===r[t]))){const t=this.#a.findIndex((e=>0===e));return 0===t&&e.truncate(o),t?u.decode(this.#a.subarray(0,t)):""}return p("Disassociating file with bad digest."),this.setAssociatedPath(e,"",0),""}setAssociatedPath(e,n,r){const i=f.encodeInto(n,this.#a);512<=i.written+1&&t("Path too long:",n),this.#a.fill(0,i.written,512),this.#l.setUint32(512,r);const s=this.computeDigest(this.#a);e.write(this.#a,{at:0}),e.write(s,{at:516}),e.flush(),n?(this.#i.set(n,e),this.#s.delete(e)):(e.truncate(o),this.#s.add(e))}computeDigest(e){let t=3735928559,n=1103547991;for(const r of e)t=31*t+307*r,n=31*n+307*r;return new Uint32Array([t>>>0,n>>>0])}async reset(e){await this.isReady;let t,n=await navigator.storage.getDirectory();for(const e of this.vfsDir.split("/"))e&&(t=n,n=await n.getDirectoryHandle(e,{create:!0}));return this.#e=n,this.#n=t,this.#t=await this.#e.getDirectoryHandle(l,{create:!0}),this.releaseAccessHandles(),this.acquireAccessHandles(e)}getPath(e){return s.isPtr(e)&&(e=s.cstrToJs(e)),(e instanceof URL?e:new URL(e,"file://localhost/")).pathname}deletePath(e){const t=this.#i.get(e);return t&&(this.#i.delete(e),this.setAssociatedPath(t,"",0)),!!t}storeErr(e){return e&&this.error(e),this.$error=e}popErr(){const e=this.$error;return this.$error=void 0,e}nextAvailableSAH(){const[e]=this.#s.keys();return e}getOFileForS3File(e){return this.#o.get(e)}mapS3FileToOFile(e,t){t?(this.#o.set(e,t),v(e,this)):(this.#o.delete(e),v(e,!1))}hasFilename(e){return this.#i.has(e)}getSAHForPath(e){return this.#i.get(e)}async removeVfs(){if(!this.#c.pointer||!this.#t)return!1;i.sqlite3_vfs_unregister(this.#c.pointer),this.#c.dispose();try{this.releaseAccessHandles(),await this.#e.removeEntry(l,{recursive:!0}),this.#t=void 0,await this.#n.removeEntry(this.#e.name,{recursive:!0}),this.#e=this.#n=void 0}catch(t){e.config.error(this.vfsName,"removeVfs() failed:",t)}return!0}exportFile(e){const n=this.#i.get(e)||t("File not found:",e),r=n.getSize()-o,i=new Uint8Array(r>0?r:0);if(r>0){const e=n.read(i,{at:o});e!=r&&t("Expected to read "+r+" bytes but read "+e+".")}return i}importDb(e,n){n instanceof ArrayBuffer&&(n=new Uint8Array(n));const r=n.byteLength;(r<512||r%512!=0)&&t("Byte array size is invalid for an SQLite db.");for(let e=0;e<15;++e)"SQLite format 3".charCodeAt(e)!==n[e]&&t("Input does not contain an SQLite database header.");const s=this.#i.get(e)||this.nextAvailableSAH()||t("No available handles to import to."),a=s.write(n,{at:o});a!=r?(this.setAssociatedPath(s,"",0),t("Expected to write "+r+" bytes but wrote "+a+".")):(s.write(new Uint8Array([1,1]),{at:4114}),this.setAssociatedPath(s,e,i.SQLITE_OPEN_MAIN_DB))}}class S{#_;constructor(e){this.#_=e,this.vfsName=e.vfsName}async addCapacity(e){return this.#_.addCapacity(e)}async reduceCapacity(e){return this.#_.reduceCapacity(e)}getCapacity(){return this.#_.getCapacity(this.#_)}getFileCount(){return this.#_.getFileCount()}getFileNames(){return this.#_.getFileNames()}async reserveMinimumCapacity(e){const t=this.#_.getCapacity();return t<e?this.#_.addCapacity(e-t):t}exportFile(e){return this.#_.exportFile(e)}importDb(e,t){return this.#_.importDb(e,t)}async wipeFiles(){return this.#_.reset(!0)}unlink(e){return this.#_.deletePath(e)}async removeVfs(){return this.#_.removeVfs()}}e.installOpfsSAHPoolVfs=async function(n=Object.create(null)){const i=n.name||_.name;return r[i]?r[i]:globalThis.FileSystemHandle&&globalThis.FileSystemDirectoryHandle&&globalThis.FileSystemFileHandle&&globalThis.FileSystemFileHandle.prototype.createSyncAccessHandle&&navigator?.storage?.getDirectory?r[i]=(async()=>{const e=await navigator.storage.getDirectory(),n=".opfs-sahpool-sync-check-"+c(),r=await e.getFileHandle(n,{create:!0}),i=(await r.createSyncAccessHandle()).close();return await i,await e.removeEntry(n),i?.then&&t("The local OPFS API is too old for opfs-sahpool:","it has an async FileSystemSyncAccessHandle.close() method."),!0})().then((async function(){if(n.$testThrowInInit)throw n.$testThrowInInit;const t=new x(n);return t.isReady.then((async()=>{const n=new S(t);if(e.oo1){const r=e.oo1,i=t.getVfs(),s=function(...e){const t=r.DB.dbCtorHelper.normalizeArgs(...e);t.vfs=i.$zName,r.DB.dbCtorHelper.call(this,t)};s.prototype=Object.create(r.DB.prototype),n.OpfsSAHPoolDb=s,r.DB.dbCtorHelper.setVfsPostOpenSql(i.pointer,(function(e,t){t.capi.sqlite3_exec(e,["pragma journal_mode=DELETE;","pragma cache_size=-16384;"],0,0,0)}))}return t.log("VFS initialized."),n})).catch((async e=>(await t.removeVfs().catch((()=>{})),e)))})).catch((e=>r[i]=Promise.reject(e))):r[i]=Promise.reject(new Error("Missing required OPFS APIs."))}})),void 0!==e){const t=Object.assign(Object.create(null),{exports:"undefined"==typeof wasmExports?e.asm:wasmExports,memory:e.wasmMemory},globalThis.sqlite3ApiConfig||{});let n;globalThis.sqlite3ApiConfig=t;try{n=globalThis.sqlite3ApiBootstrap()}catch(e){throw console.error("sqlite3ApiBootstrap() error:",e),e}finally{delete globalThis.sqlite3ApiBootstrap,delete globalThis.sqlite3ApiConfig}e.sqlite3=n}else console.warn("This is not running in an Emscripten module context, so","globalThis.sqlite3ApiBootstrap() is _not_ being called due to lack","of config info for the WASM environment.","It must be called manually.")})),s.ready});const s=function(){const e=i;if(!e)throw new Error("Expecting globalThis.sqlite3InitModule to be defined by the Emscripten build.");const t=globalThis.sqlite3InitModuleState=Object.assign(Object.create(null),{moduleScript:globalThis?.document?.currentScript,isWorker:"undefined"!=typeof WorkerGlobalScope,location:globalThis.location,urlParams:globalThis?.location?.href?new URL(globalThis.location.href).searchParams:new URLSearchParams});if(t.debugModule=t.urlParams.has("sqlite3.debugModule")?(...e)=>console.warn("sqlite3.debugModule:",...e):()=>{},t.urlParams.has("sqlite3.dir"))t.sqlite3Dir=t.urlParams.get("sqlite3.dir")+"/";else if(t.moduleScript){const e=t.moduleScript.src.split("/");e.pop(),t.sqlite3Dir=e.join("/")+"/"}if(globalThis.sqlite3InitModule=function n(...r){return e(...r).then((e=>{const r=e.sqlite3;r.scriptInfo=t,n.__isUnderTest&&(r.__isUnderTest=!0);const i=r.asyncPostInit;return delete r.asyncPostInit,i()})).catch((e=>{throw console.error("Exception loading sqlite3 module:",e),e}))},globalThis.sqlite3InitModule.ready=e.ready,globalThis.sqlite3InitModuleState.moduleScript){const e=globalThis.sqlite3InitModuleState;let t=e.moduleScript.src.split("/");t.pop(),e.scriptDir=t.join("/")+"/"}return t.debugModule("sqlite3InitModuleState =",t),globalThis.sqlite3InitModule}(),o=i=s}}]);
//# sourceMappingURL=689.js.map